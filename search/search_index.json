{"config":{"lang":["en","es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Unlock Your Agent's Potential with Model Context Protocol and PostgreSQL","text":""},{"location":"#a-60-minute-interactive-workshop","title":"A 60-minute interactive workshop","text":"<p>Imagine you\u2019re a sales manager at Zava, a retail DIY company with stores across Washington State and a growing online presence. You specialize in outdoor equipment, home improvement tools, and DIY supplies.</p> <p>You need to analyze sales data to find trends, understand customer preferences, and make informed business decisions. To help you, Zava has developed a conversational agent that can answer questions about your sales data.</p> <p></p>"},{"location":"#what-you-will-learn-in-the-workshop","title":"What you will learn in the workshop","text":"<p>Learn to build an AI agent that analyzes sales data, answers product questions, and helps customers find products. Key topics:</p> <ol> <li>Microsoft Foundry Agent Service: Build and deploy AI agents with integrated tools and observability.  </li> <li>Model Context Protocol (MCP): Connects the Agent Service to external tools and data over industry standard protocols to enhance agent functionality.  </li> <li>PostgreSQL: Use PostgreSQL as a vector database for semantic search and implement Row Level Security (RLS) to protect sensitive data based on user roles.</li> <li>Microsoft Foundry: An enterprise-grade AI development platform providing unified model access, comprehensive monitoring, distributed tracing capabilities, and production-ready governance for AI applications at scale.</li> </ol>"},{"location":"#just-starting-your-ai-agents-journey","title":"Just starting your AI Agents journey?","text":"<p>New to AI agents? Start with Build your code-first agent with Microsoft Foundry. You'll build a code-first agent integrating LLMs with databases, documents, and Bing Search\u2014a solid foundation for advanced agents like Zava.</p>"},{"location":"#what-is-an-llm-powered-ai-agent","title":"What is an LLM-Powered AI Agent?","text":"<p>An LLM-powered AI agent is semi-autonomous software that achieves goals without predefined steps. Instead of hard-coded workflows, it decides what to do based on instructions and context.</p> <p>Example: If a user asks, \"Show total sales per store as a pie chart\", the agent interprets the request, tracks context, and orchestrates the right tools to produce the chart\u2014no prebuilt logic required.</p> <p>This shifts much of the application logic from developers to the model. Clear instructions and dependable tools are essential for predictable agent behavior and results.</p>"},{"location":"#introduction-to-the-microsoft-foundry","title":"Introduction to the Microsoft Foundry","text":"<p>Microsoft Foundry is Microsoft\u2019s secure, flexible platform for designing, customizing, and managing AI apps and agents. Everything\u2014models, agents, tools, and observability\u2014lives behind a single portal, SDK, and REST endpoint, so you can ship to cloud or edge with governance and cost controls in place from day one.</p> <p></p>"},{"location":"about/","title":"About","text":""},{"location":"about/#models-required-for-zava-diy","title":"Models required for Zava DIY","text":"<ul> <li>gpt-4o</li> <li>text-embedding-small-3</li> </ul>"},{"location":"about/#synthetic-data-generation-for-zava-diy","title":"Synthetic Data Generation for Zava DIY","text":"<p>Zava DIY is a tool designed to help developers create synthetic data for testing and development purposes. It allows users to generate realistic datasets that can be used in various applications, ensuring that the data meets specific requirements without compromising privacy or security.</p> <p>Zava DIY Product Dataset GitHub Repo.</p> <p>The database includes:</p> <ul> <li>8 stores across Washington State, each with unique inventory and sales data</li> <li>50,000+ customer records across Washington State and online</li> <li>400+ DIY products including tools, outdoor equipment, and home improvement supplies</li> <li>400+ product images linked to the database for image-based searches</li> <li>200,000+ order transactions with detailed sales history</li> <li>3000+ inventory items across multiple stores</li> <li>Image embeddings for product images enabling AI-powered similarity searches (encoded using openai/clip-vit-base-patch32)</li> <li>Text embeddings for product descriptions enhancing search and recommendation capabilities openai/text-embedding-3-small</li> </ul> <p>The database supports complex queries and analytics, enabling efficient access to sales, inventory, and customer data. PostgreSQL Row Level Security (RLS) restricts agents to only the data for their assigned stores, ensuring security and privacy.</p>"},{"location":"about/#zava-diy-product-dataset","title":"Zava DIY Product Dataset","text":"<p>The Zava DIY PostgreSQL database provides a comprehensive retail ecosystem with realistic data patterns:</p> Component Count Description Customers 50,000+ Realistic demographic profiles across Washington State Products 400+ Complete DIY home improvement catalog Stores 8 Physical + online locations across Washington State Order Items 200,000+ Detailed line items with pricing and quantities Inventory Records 3,000+ Store-specific stock levels Vector Embeddings 400+ AI-powered product similarity search"},{"location":"about/#store-locations","title":"\ud83c\udfea Store Locations","text":"<ul> <li>High-Traffic Stores: Seattle, Bellevue, Online</li> <li>Regional Stores: Tacoma, Spokane</li> <li>Specialty Markets: Everett, Redmond, Kirkland</li> <li>Geographic Distribution: Realistic Washington State market penetration</li> </ul>"},{"location":"about/#product-categories","title":"\ud83d\udce6 Product Categories","text":"<p>The dataset includes the following product categories with all available products:</p> <ul> <li> <p>Electrical: AFCI Breaker 15-Amp, AFCI Outlet 15-Amp, Armored Cable BX 12-2, Ceiling Box with Bracket, Color-Coded Tape Set, Dimmer Switch LED, Double Pole Breaker 30A, EMT Conduit 1/2-inch, Flexible Conduit 1/2-inch, Friction Tape, GFCI Breaker 20-Amp, GFCI Outlet 20-Amp, Grease Cap Wire Nuts, Heavy Duty Cord 100ft, High-Temp Electrical Tape, Indoor Extension Cord 25ft, Junction Box 4x4, LED Flush Mount Ceiling, Large Wire Nuts, Liquid-Tight Conduit, Motion Sensor Switch, Multi-Outlet Power Strip, Old Work Box, Outdoor Extension Cord 50ft, Outdoor Flood Light LED, Outlet Box Single Gang, PVC Conduit 3/4-inch, Pendant Light Kitchen, Push-In Connectors, Retractable Cord Reel, Rigid Conduit 1-inch, Romex Wire 12-2 250ft, Romex Wire 14-2 250ft, Self-Fusing Silicone Tape, Single Pole Breaker 15A, Single Pole Breaker 20A, Single Pole Switch, Standard Outlet 15-Amp, THHN Wire 12 AWG, Three-Way Switch, Timer Switch, Track Lighting Kit, Twist-On Connectors, USB Outlet with Charging, Underground Wire 12-2, Vanity Light 3-Bulb, Vinyl Electrical Tape, Weather Resistant Outlet, Weatherproof Box, Wire Nut Assortment</p> </li> <li> <p>Garden &amp; Outdoor: All-Purpose Fertilizer 50lb, Anvil Pruners Heavy Duty, Cactus Potting Mix, Cedar Mulch 3 Cu Ft, Ceramic Planter 12-inch, Drinking Water Safe Hose, Expandable Hose 100-foot, Flower Seed Mix Wildflower, Garden Hose 50-foot, Garden Rake Steel Tines, Garden Soil Enriched, Garden Spade Long Handle, Grass Seed Sun &amp; Shade, Hanging Basket Planter, Hardwood Mulch 2 Cu Ft, Heavy Duty Hose 75-foot, Herb Garden Seed Set, Impact Sprinkler, In-Ground Sprinkler Head, LED Flood Light 30W, Landscape Spotlight Kit, Lawn Fertilizer Spring, Misting Sprinkler Kit, Organic Compost 40lb, Organic Heirloom Seeds, Oscillating Sprinkler, Plastic Planter Set, Pole Saw Pruner 8-foot, Potting Mix Premium 40lb, Rotary Sprinkler 3-Arm, Rubber Mulch Black, Seed Starting Mix, Self-Watering Planter, Slow Release Granules, Soaker Hose 25-foot, Solar Deck Light Set, Solar Path Light Set, Straw Mulch Bale, String Lights 48-foot, Tomato Plant Food, Topsoil Screened 40lb, Vegetable Seed Starter Kit, Wooden Barrel Planter</p> </li> <li> <p>Hand Tools: Adjustable Wrench 10-inch, Ball Peen Hammer 12oz, Ball-End Hex Set, Combination Wrench Set SAE, Coping Saw, Digital Caliper 6-inch, Finishing Hammer 13oz, Flathead Screwdriver Set, Folding Rule 6-foot, Insulated Screwdriver Set, Level 24-inch, Lineman's Pliers 9-inch, Locking Pliers 10-inch, Long Arm Hex Set, Metric Hex Key Set, Metric Wrench Set, Needle-Nose Pliers 6-inch, Phillips Screwdriver Set, Pipe Wrench Set, Precision Screwdriver Kit, Professional Claw Hammer 16oz, Ratcheting Screwdriver, Riffler File Set, SAE Hex Key Set, Sledge Hammer 3lb, Speed Square 7-inch, T-Handle Hex Set, Tape Measure 25-foot, Torque Wrench 1/2-drive, Wire Stripping Pliers, Wood Rasp Set</p> </li> <li> <p>Hardware: Angle Bracket 4-inch, Barrel Latch 4-inch, Brad Nails 18-gauge, Butt Hinge 3-1/2 inch, Cabinet Knob Set Brushed Nickel, Cabinet Lock Cam Type, Cabinet Pull 4-inch Centers, Carriage Bolt Set, Chain Lock Door Security, Common Nail Assortment, Concealed Cabinet Hinge, Countertop Support Bracket, Deadbolt Lock Keyed, Deck Screws 2-1/2 inch, Door Handle Lever Set, Door Knob Lock Set, Drawer Pull 5-inch, Drywall Screws 1-5/8 inch, Eye Bolts Assorted, Fender Washer Kit, Finish Nails 2-inch, Fixed Caster 3-inch, Flat Washer Assortment SAE, Floating Shelf Bracket, Furniture Caster Set, Hex Bolt Kit Grade 5, Hook and Eye Latch, L-Bracket Galvanized, Lag Bolts 1/2 x 6-inch, Lock Washer Set, Locking Caster Set, Machine Screws Kit, Masonry Nails, Metric Washer Assortment, Padlock Set Keyed Alike, Piano Hinge 2-foot, Pneumatic Caster 4-inch, Roofing Nails 1-1/4 inch, Rubber Washer Set, Security Hasp 6-inch, Self-Tapping Screws, Shelf Bracket 8-inch, Slide Bolt Latch, Spring Hinge Self-Closing, Strap Hinge Heavy Duty, Swivel Caster 2-inch, T-Handle Cabinet Hardware, Thumb Latch Galvanized, Toggle Bolt Set, Wood Screw Assortment</p> </li> <li> <p>Lumber &amp; Building Materials: Advantech Subflooring, Baseboard Molding 8ft, Birch Plywood 4x8x1/2, Blown-In Insulation R-30, CDX Plywood 4x8x3/4, Cedar 2x4x8, Cedar Board 1x8x10, Cedar Post 6x6x8, Chair Rail Molding, Crack Resistant Mix, Crown Molding Pine 8ft, Deck Post 6x6x10, Douglas Fir 2x6x10, Durock Cement Board, Exterior Cement Board, Fast-Set Concrete 50lb, Fiberglass Batts R-13, Fire Resistant Drywall, Foam Board Insulation, Hardiebacker 3x5x1/4, High Strength Mix 80lb, Lightweight Drywall 4x8, MDF Trim Board 1x4, Marine Plywood 4x8x3/4, Moisture Resistant Drywall, OSB Sheathing 4x8x7/16, OSB Siding Panel, OSB Subflooring 4x8x3/4, PT Landscape Timber, PT Post 4x4x8, PVC Trim Board 1x6, Permabase Board 4x8, Pine Board 1x4x8, Pine Stud 2x4x8, Poplar Board 1x6x8, Pressure Treated 2x4x8, Pressure Treated Plywood, Quarter Round 8ft, Quikrete Mix 80lb, Ready Mix Concrete 60lb, Reflective Insulation, Round Fence Post 8ft, Soundproof Drywall 4x8, Spray Foam Kit, Standard Drywall 4x8x1/2, Treated 2x8x12 Joist, Window Casing Set, WonderBoard Lite, ZIP System Sheathing</p> </li> <li> <p>Paint &amp; Finishes: Aerosol Primer Spray, Angled Brush Set, Artist Detail Brush Set, Canvas Drop Cloth 9x12, Canvas Runner 4x15, Clear Polyurethane Satin, Deck and Fence Stain, Disposable Paint Tray Set, Drywall Primer, Elastomeric Exterior Paint, Extension Pole 4-foot, Exterior Acrylic Paint, Exterior Latex Paint Satin, Exterior Primer-Paint Combo, Floor Polyurethane, Foam Brush Set, Gel Stain, Gloss Polyurethane, Gloss Spray Paint, Interior Eggshell Paint, Interior Semi-Gloss Paint, Masonry Primer, Matte Finish Spray Paint, Metal Paint Tray 9-inch, Metal Primer, Microfiber Roller Covers, Mini Roller Kit 4-inch, Nap Roller Cover Set, Natural Bristle Brush Set, Oil-Based Polyurethane, Oil-Based Wood Stain, One-Coat Interior Paint, Paint Bucket Grid, Paint Spray Gun, Paint Tray Liner Set, Paper Drop Cloth, Plastic Drop Cloth, Pre-Taped Masking Film, Premium Interior Latex Flat, Roller Frame 9-inch, Rolling Tray with Grid, Rust Prevention Spray, Semi-Transparent Deck Stain, Solid Color Deck Stain, Stain-Blocking Primer, Synthetic Brush Set, Textured Spray Paint, Universal Bonding Primer, Water-Based Polyurethane, Water-Based Wood Stain, Zero VOC Interior Paint</p> </li> <li> <p>Plumbing: Angle Stop Valve, Ball Valve 1/2-inch, Bathroom Lavatory Faucet, Check Valve 1-inch, Compression Fittings, Copper Fitting Kit, Copper Pipe 1-inch Type L, Copper Pipe 1/2-inch Type L, Copper Pipe 3/4-inch Type L, Drain Cleaning Chemical, Drain Snake 25-foot, Fiberglass Pipe Insulation, Fill Valve Assembly, Flexible PVC Pipe, Foam Pipe Insulation 1/2, Gate Valve 3/4-inch, Heavy Duty Teflon Tape, Hydro Jet Drain Cleaner, Kitchen Sink Faucet, Outdoor Spigot Faucet, PTFE Thread Tape White, PVC Elbow Assortment, PVC Pipe 1-1/2 inch x 10ft, PVC Pipe 2-inch x 10ft, PVC Pipe 3-inch x 10ft, PVC Pipe 4-inch x 10ft, PVC Tee Fitting Set, Pink Plumber's Tape, Pipe Dope Stick, Pipe Heat Tape, Pipe Insulation 3/4-inch, Pipe Insulation Tape, Pipe Joint Compound, Pipe Thread Sealant Paste, Plumber's Grease, Plumber's Putty 14oz, Plunger Set, Pre-Insulated Copper Pipe, Pressure Relief Valve, Push-Fit Connectors, Shower Faucet Trim Kit, Silicone Plumber's Putty, Soft Copper Coil 1/2-inch, Toilet Auger, Toilet Flapper Universal, Toilet Repair Kit Complete, Toilet Seat Standard, Toilet Wax Ring, Utility Sink Faucet, Yellow Gas Line Tape</p> </li> <li> <p>Power Tools: Angle Grinder 4-1/2 inch, Barrel Grip Jigsaw, Basic Miter Saw 10-inch, Belt Sander 3x21 inch, Benchtop Drill Press, Brushless Impact Driver, Circular Saw 7-1/4 inch, Compact Belt Sander 3x18, Compact Impact Driver, Compact Recip Saw, Compound Miter Saw 10-inch, Cordless Angle Grinder, Cordless Circular Saw 6-1/2, Cordless Drill 18V Li-Ion, Cordless Jigsaw 20V, Cordless Miter Saw 10-inch, Cordless Recip Saw 18V, Cordless Router 18V, Cut-Off Tool 3-inch, Drywall Sander, File Belt Sander, Fixed Base Router 1-3/4 HP, Hammer Drill 1/2-inch, Heavy Duty Jigsaw, Impact Drill 20V, Impact Driver 18V, Impact Wrench 1/2-inch, Large Angle Grinder 7-inch, Mini Circular Saw 4-1/2, Miter Saw Stand, Mouse Sander, Multi-Tool Oscillating, Orbital Sander 1/4 Sheet, Palm Sander, Plunge Router 2-1/4 HP, Random Orbit Sander 5-inch, Reciprocating Saw Corded, Right Angle Drill, Right Angle Impact, Router Table Combo, Scrolling Jigsaw, Sliding Miter Saw 12-inch, Stationary Belt Sander, Track Saw, Trim Router 1 HP, Variable Speed Belt Sander, Variable Speed Grinder, Variable Speed Jigsaw, Worm Drive Saw</p> </li> <li> <p>Storage &amp; Organization: Adjustable Height Workbench, Base Cabinet with Drawers, Ceiling Hook Kit, Ceiling Storage Rack 4x8, Ceiling Track System, Chemical Storage Cabinet, Clear Storage Bin 27-Quart, Corner Shelf Unit, Craft Storage Drawers, Desktop Organizer Drawers, Folding Workbench Portable, Garage Ceiling Hoist, Garage Workbench Kit, Gym Style Locker Bank, Heavy Duty Rack System, Heavy Duty Tote 35-Gallon, Heavy Duty Wall Hook Set, Heavy Duty Workbench 6-foot, Large Drawer Unit 10-Drawer, Magnetic Tool Holder, Metal Locker 2-Door, Metal Pegboard Gray, Metal Storage Cabinet 72-inch, Metal Tool Cabinet, Mobile Work Cart, Modular Cabinet System, Overhead Storage Platform, Pegboard Hook Set 50-piece, Pegboard Panel 4x8, Pegboard Storage Bins, Pegboard Tool Holder Set, Personal Storage Locker, Plastic Tool Box Set, Portable Tool Box 20-inch, Retractable Hose Hanger, Rolling Drawer Cart, Rolling Tool Chest 26-inch, Rubber Coated Hooks, Safety Net for Storage, Small Parts Organizer, Stackable Bin Set, Stackable Drawer Set, Steel Shelving 5-Tier, Tool Bag Canvas 18-inch, Wall Mount Cabinet, Weatherproof Storage Box, Wire Mesh Locker, Wire Shelving Chrome, Wooden Locker Bench, Wooden Storage Shelves</p> </li> </ul>"},{"location":"about/#seasonal-patterns","title":"\ud83c\udf21\ufe0f Seasonal Patterns","text":"<p>The dataset includes realistic seasonal variations:</p> <ul> <li>Spring Surge: Paint and garden products peak in March-May</li> <li>Summer Construction: Power tools and lumber peak in June-August</li> <li>Fall Preparation: Hardware and storage products increase</li> <li>Winter Maintenance: Hand tools and indoor projects</li> </ul>"},{"location":"about/#financial-modeling","title":"\ud83d\udcb0 Financial Modeling","text":"<ul> <li>Consistent 33% gross margin across all products</li> <li>Year-over-year growth patterns (2020-2026)</li> <li>Store performance variations based on market size</li> <li>Seasonal revenue fluctuations aligned with product demand</li> </ul>"},{"location":"agent-service-overview/","title":"AI Foundry Agent Services","text":"<p>The Foundry Agent Service offers a fully managed cloud service with SDKs for Python, C#, and TypeScript. The Foundry SDKs simplify AI agent development, reducing complex tasks like tool calling MCP Server tools with just a few lines of code.</p> <p>The Microsoft Foundry Agent Service offers several advantages over traditional agent platforms:</p> <ul> <li>Rapid Deployment: Optimized SDK for fast deployment, letting developers focus on building agents.  </li> <li>Scalability: Designed to handle varying user loads without performance issues.  </li> <li>Custom Integrations: Supports MCP (Model Context Protocol) for robust tool integration and external data access.  </li> <li>Built-in Tools: Includes Fabric, SharePoint, Azure AI Search, and Azure Storage for quick development.  </li> <li>RAG-Style Search: Features a built-in vector store for efficient file and semantic search.  </li> <li>Conversation State Management: Maintains context across multiple interactions.  </li> <li>AI Model Compatibility: Works with various AI models.</li> </ul> <p>Learn more about the Foundry Agent Service in the Foundry Agent Service documentation.</p>"},{"location":"agent-service-overview/#ai-agent-frameworks","title":"AI Agent Frameworks","text":"<p>Popular agent frameworks include LangChain, Semantic Kernel, and CrewAI. What distinguishes the Foundry Agent Service is its seamless integration capabilities and an SDK optimized for rapid deployment. In complex multi-agent scenarios, solutions will combine SDKs like Semantic Kernel and AutoGen with the Foundry Agent Service to build robust and scalable systems.</p>"},{"location":"architecture/","title":"Architecture Overview","text":""},{"location":"architecture/#core-technologies-at-a-glance","title":"Core technologies at a glance","text":"<ul> <li>Microsoft Foundry Agent Service   Hosts the LLM-driven agent; orchestrates tools (including MCP Servers); manages context, Code Interpreter, and token streaming; and provides authentication, logging, and scaling.</li> <li>MCP Servers   MCP (Model Context Protocol) is an open standard that gives LLMs a unified interface to external tools, APIs, and data. It standardizes tool discovery (like OpenAPI for REST) and improves composability by making tools easy to update or swap as needs evolve.</li> <li>PostgreSQL + pgvector   Stores relational data and embeddings; supports both relational (SQL) and semantic (vector) queries (via pgvector), governed by SQL and RLS.</li> </ul> <p>Together: the Agent Service routes user intents; the MCP server translates them into tool/SQL calls; PostgreSQL+pgvector answers semantic and analytical questions.</p>"},{"location":"architecture/#solution-architecture","title":"Solution Architecture","text":"<p>The Zava Sales Analysis solution architecture includes:</p> <ul> <li>An Microsoft Foundry Agent Service instance that hosts the Zava Sales Analysis agent.</li> <li>A PostgreSQL database with the pgvector extension, storing Zava sales data and embeddings.</li> <li>An MCP Server that exposes the PostgreSQL database to the agent via MCP.</li> <li>An Agent Manager app that manages the interaction between the user and the agent.</li> <li>A Web Chat interface for real-time chat interaction with the agent.</li> </ul> <p></p>"},{"location":"architecture/#key-benefits-of-mcp-servers","title":"Key benefits of MCP Servers","text":"<ul> <li>Interoperability \u2013 Connect AI agents to any vendor\u2019s MCP\u2011enabled tools with minimal custom code.</li> <li>Security hooks \u2013 Integrate sign\u2011in, permissions, and activity logging.</li> <li>Reusability \u2013 Build once, reuse across projects, clouds, and runtimes.</li> <li>Operational simplicity \u2013 A single contract reduces boilerplate and maintenance.</li> </ul>"},{"location":"architecture/#best-practices-demonstrated","title":"Best practices demonstrated","text":"<ul> <li>Asynchronous APIs: Agents service and PostgreSQL use async APIs; ideal with FastAPI/ASP.NET/Streamlit.</li> <li>Token streaming: Improves perceived latency in the UI.</li> <li>Observability: Built\u2011in tracing and metrics support monitoring and optimization.</li> <li>Database security: PostgreSQL is secured with restricted agent privileges and Row\u2011Level Security (RLS), limiting agents to only their authorized data.</li> <li>Code Interpreter: The Azure AI Agents Service Code Interpreter runs LLM\u2011generated code on demand in a sandboxed environment, preventing actions beyond the agent\u2019s scope.</li> </ul>"},{"location":"architecture/#extensibility","title":"Extensibility","text":"<p>The workshop pattern can be adapted (e.g., customer support) by updating the database + agent instructions in Foundry.</p>"},{"location":"architecture/#devtunnel-architecture","title":"DevTunnel Architecture","text":"<p>In the workshop environment, the Agent Service runs in Azure but needs to connect to your locally-running MCP Server. DevTunnel creates a secure tunnel that exposes your local MCP Server to the cloud-based Agent Service.</p> <p></p> <p>How DevTunnel Works in the Workshop:</p> <ol> <li>Local Development: You run the MCP Server locally on <code>localhost:8000</code></li> <li>DevTunnel Creation: DevTunnel creates a public HTTPS endpoint (e.g., <code>https://abc123.devtunnels.ms</code>) connected to <code>localhost:8000</code>.</li> <li>Azure Integration: The Azure-hosted Agent Service connects to the MCP Server through the DevTunnel endpoint.</li> <li>Transparent Operation: The agent service operates normally, unaware it's accessing the MCP Server running locally through a tunnel.</li> </ol> <p>This setup allows you to:</p> <ul> <li>Develop and debug locally while using cloud-hosted AI services</li> <li>Test realistic scenarios without deploying the MCP Server to Azure</li> </ul>"},{"location":"dotnet-troubleshooting/","title":"Dotnet troubleshooting","text":""},{"location":"dotnet-troubleshooting/#troubleshooting","title":"Troubleshooting","text":""},{"location":"dotnet-troubleshooting/#common-issues","title":"Common Issues","text":"<ol> <li>The Dev Tunnel resource failed to start: Ensure that you have run <code>devtunnel login</code> and authenticated your account with Microsoft Dev Tunnels.</li> <li>There are missing resources listed on the Aspire dashboard: Check that you completed the Getting Started steps and all resources are deployed to Azure. Verify that the parameters have been added to the user secrets by opening a Terminal window and running <code>dotnet user-secrets list</code> in the AppHost project directory. It should contain the following values:</li> </ol> <pre><code> Parameters:ResourceGroupName = ...\n Parameters:pg-password = ...\n Parameters:mcp-inspector-proxyToken = ...\n Parameters:FoundryResourceName = ...\n Parameters:FoundryProjectName = ...\n Parameters:FoundryEndpoint = ...\n Parameters:EmbeddingModelDeploymentName = ...\n Parameters:ChatModelDeploymentName = ...\n Parameters:AzureOpenAIEndpoint = ...\n ConnectionStrings:ApplicationInsights = ...\n Azure:Tenant = ...\n Azure:SubscriptionId = ...\n Azure:ResourceGroup = ...\n Azure:Location = ...\n</code></pre> <ol> <li> <p>dotnet not supported when launching the debugger: Ensure you install the C# extension in Visual Studio Code. If you have already installed it, try restarting Visual Studio Code.    </p> </li> <li> <p>The Aspire dashboard does not load: If the browser does not load, try hard-refreshing the page (Ctrl + F5 or Cmd + Shift + R). If it still does not load, ensure that the Dev Tunnel is running by checking the terminal window where you started the Dev Tunnel. If it is not running, navigate to the AppHost project directory and run <code>dotnet run</code> to start it again.</p> </li> <li> <p>The browser did not launch with the debugger: Check the VS Code Debug Console for the URL <code>http://localhost:15184</code>. The Aspire dashboard uses a randomly generated key for authentication, which is included in the URL. Copy and paste the URL into your browser to access the Aspire dashboard. The terminal message looks like this:</p> </li> </ol> <pre><code>info: Aspire.Hosting.DistributedApplication[0]\n      Now listening on: http://localhost:15184\nAspire.Hosting.DistributedApplication: Information: Now listening on: http://localhost:15184\ninfo: Aspire.Hosting.DistributedApplication[0]\n      Login to the dashboard at http://localhost:15184/login?t=&lt;token&gt;\n</code></pre> <ol> <li>The <code>ai-foundry</code> resource reports Failed to provision.: This can happen if the Azure connection fails to establish on the first run of the application. Restart the debugger in Visual Studio Code to try again.</li> </ol>"},{"location":"getting-started-workspace/","title":"Getting started workspace","text":"<p>There are two VS Code workspaces in the workshop, one for Python and one for C#. The workspace contains the source code and all the files needed to complete the labs for each language. Choose the workspace that matches the language you want to work with.</p> PythonC# <ol> <li> <p>Copy the following path to the clipboard:</p> <pre><code>/workspace/.vscode/python-workspace.code-workspace\n</code></pre> </li> <li> <p>From the VS Code menu, select File then Open Workspace from File.</p> </li> <li>Replace and paste the copied path name and select OK.</li> </ol> <ol> <li>In Visual Studio Code, go to File &gt; Open Workspace from File.</li> <li> <p>Replace the default path with the following:</p> <pre><code>/workspace/.vscode/csharp-workspace.code-workspace\n</code></pre> </li> <li> <p>Select OK to open the workspace.</p> </li> </ol>"},{"location":"getting-started-workspace/#project-structure","title":"Project Structure","text":"<p>Familiarize yourself with the key folders and files in the workspace you\u2019ll be working with throughout the workshop.</p>"},{"location":"getting-started-workspace/#the-workshop-folder","title":"The \"workshop\" folder","text":"<ul> <li> <p>The app.py file: The entry point for the app, containing its main logic.</p> <p>Note the INSTRUCTIONS_FILE variable\u2014it sets which instructions file the agent uses. You will update this variable in a later lab.</p> </li> <li> <p>The resources.txt file: Contains the resources used by the agent app.</p> </li> <li>The .env file: Contains the environment variables used by the agent app.</li> </ul>"},{"location":"getting-started-workspace/#the-mcp_server-folder","title":"The \"mcp_server\" folder","text":"<ul> <li>The sales_analysis.py file: The MCP Server with tools for sales analysis.</li> </ul>"},{"location":"getting-started-workspace/#the-sharedinstructions-folder","title":"The \"shared/instructions\" folder","text":"<ul> <li>The instructions folder: Contains the instructions passed to the LLM.</li> </ul>"},{"location":"getting-started-workspace/#project-structure_1","title":"Project Structure","text":"<p>The project uses Aspire to simplify building the agent application, managing the MCP server, and orchestrating all the external dependencies. The solution is comproised for four projects, all prefixed with <code>McpAgentWorkshop</code>:</p> <ul> <li><code>AppHost</code>: The Aspire orchestrator, and launch project for the workshop.</li> <li><code>McpServer</code>: The MCP server project.</li> <li><code>ServiceDefaults</code>: Default configuration for services, such as logging and telemetry.</li> <li><code>WorkshopApi</code>: The Agent API for the workshop. The core application logic is in the <code>AgentService</code> class.</li> </ul> <p>In addition to the .NET projects in the solution, there is a <code>shared</code> folder (visible as a Solution Folder, and via the file explorer), which contains:</p> <ul> <li><code>instructions</code>: The instructions passed to the LLM.</li> <li><code>scripts</code>: Helper shell scripts for various tasks, these will be referred to when required.</li> <li><code>webapp</code>: The front-end client application. Note: This is a Python application, which Aspire will manage the lifecycle of.</li> </ul> <p></p>"},{"location":"getting-started/","title":"Open the Workshop","text":"<p>Select your workshop experience:</p> @Event AttendeesSelf-Guided Learners"},{"location":"getting-started/#microsoft-event-attendees","title":"Microsoft Event Attendees","text":"<p>The instructions on this page assume you are attending an event and have access to a pre-configured lab environment. This environment provides an Azure subscription with all the tools and resources needed to complete the workshop.</p>"},{"location":"getting-started/#introduction","title":"Introduction","text":"<p>This workshop is designed to teach you about the Azure AI Agents Service and the associated SDK. It consists of multiple labs, each highlighting a specific feature of the Azure AI Agents Service. The labs are meant to be completed in order, as each one builds on the knowledge and work from the previous lab.</p>"},{"location":"getting-started/#workshop-cloud-resources","title":"Workshop Cloud Resources","text":"<p>The following resources are pre-provisioned in your lab Azure subscription:</p> <ul> <li>A resource group named rg-zava-agent-wks-nnnnnnnn</li> <li>An Microsoft Foundry hub named fdy-zava-agent-wks-nnnnnnnn</li> <li>An Microsoft Foundry project named prj-zava-agent-wks-nnnnnnnn</li> <li>Two models are deployed: gpt-4o and text-embedding-3-small. See pricing.</li> <li>Azure Database for PostgreSQL Flexible Server (B1ms Burstable 32GB) database named pg-zava-agent-wks-nnnnnnnn. See pricing</li> <li>Application Insights resource named appi-zava-agent-wks-nnnnnnnn. See pricing</li> </ul>"},{"location":"getting-started/#select-workshop-programming-language","title":"Select Workshop Programming Language","text":"<p>The workshop is available in both Python and C#. Please make sure to select the language that fits the lab room or preference by using the language selector tabs. Note, don't switch languages mid-workshop.</p> <p>Select the language tab that matches your lab room:</p> PythonC# <p>The default language for the workshop is set to Python.</p> <p>The default language for the workshop is set to C#.</p> <p>The C#/.NET version of this workshop is in beta and has known stability issues.</p> <p>Ensure you read the troubleshooting guide section BEFORE starting the workshop. Else, select the Python version of the workshop.</p>"},{"location":"getting-started/#authenticate-with-azure","title":"Authenticate with Azure","text":"<p>You need to authenticate with Azure so the agent app can access the Azure AI Agents Service and models. Follow these steps:</p> <ol> <li> <p>Open a terminal window. The terminal app is pinned to the Windows 11 taskbar.</p> <p></p> </li> <li> <p>Run the following command to authenticate with Azure:</p> <pre><code>az login\n</code></pre> <p>Note</p> <p>You'll be prompted to open a browser link and log in to your Azure account.</p> <ol> <li>A browser window will open automatically, select Work or school account and then select Continue.</li> <li>Use the Username and TAP (Temporary Access Pass) found in the top section of the Resources tab in the lab environment.</li> <li>Select Yes, all apps</li> <li>Select Done</li> </ol> </li> <li> <p>Then select the Default subscription from the command line, by selecting Enter.</p> </li> <li> <p>Leave the terminal window open for the next steps.</p> </li> </ol>"},{"location":"getting-started/#authenticate-with-the-devtunnel-service","title":"Authenticate with the DevTunnel Service","text":"<p>DevTunnel enables the Azure AI Agents Service to access your local MCP Server during the workshop.</p> <pre><code>devtunnel login\n</code></pre> <p>Note</p> <p>You will be prompted to use the account you used for <code>az login</code>. Select the account and continue.</p> <p>Leave the terminal window open for the next steps.</p>"},{"location":"getting-started/#open-the-workshop","title":"Open the Workshop","text":"<p>Follow these steps to open the workshop in Visual Studio Code:</p> PythonC# <p>The following command block updates the workshop repository, activates the Python virtual environment, and opens the project in VS Code.</p> <p>Copy and paste the following command block to the terminal and press Enter.</p> <pre><code>; cd $HOME\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol `\n; git pull `\n; .\\src\\python\\workshop\\.venv\\Scripts\\activate `\n; code .vscode\\python-workspace.code-workspace\n</code></pre> <p>When the project opens in VS Code, two notifications appear in the bottom right corner. Click \u2716 to close both notifications.</p> VS CodeVisual Studio 2022 <ol> <li> <p>Open the workshop in Visual Studio Code. From the terminal window, run the following command:</p> <pre><code>; cd $HOME\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol `\n; git pull `\n;code .vscode\\csharp-workspace.code-workspace\n</code></pre> </li> </ol> <p>When the project opens in VS Code, a notification will appear in the bottom right corner to install the C# extension. Click Install to install the C# extension, as this will provide the necessary features for C# development.</p> <ol> <li> <p>Open the workshop in Visual Studio 2022. From the terminal window, run the following command:</p> <pre><code>; git pull `\n;cd $HOME; start .\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol\\src\\csharp\\McpAgentWorkshop.slnx\n</code></pre> <p>You may be asked what program to open the solution with. Select Visual Studio 2022.</p> </li> </ol>"},{"location":"getting-started/#project-structure","title":"Project Structure","text":"PythonC# <p>Familiarize yourself with the key folders and files in the workspace you\u2019ll be working with throughout the workshop.</p>"},{"location":"getting-started/#the-workshop-folder","title":"The \"workshop\" folder","text":"<ul> <li> <p>The app.py file: The entry point for the app, containing its main logic.</p> <p>Note the INSTRUCTIONS_FILE variable\u2014it sets which instructions file the agent uses. You will update this variable in a later lab.</p> </li> <li> <p>The resources.txt file: Contains the resources used by the agent app.</p> </li> <li>The .env file: Contains the environment variables used by the agent app.</li> </ul>"},{"location":"getting-started/#the-mcp_server-folder","title":"The \"mcp_server\" folder","text":"<ul> <li>The sales_analysis.py file: The MCP Server with tools for sales analysis.</li> </ul>"},{"location":"getting-started/#the-sharedinstructions-folder","title":"The \"shared/instructions\" folder","text":"<ul> <li>The instructions folder: Contains the instructions passed to the LLM.</li> </ul>"},{"location":"getting-started/#project-structure_1","title":"Project Structure","text":"<p>The project uses Aspire to simplify building the agent application, managing the MCP server, and orchestrating all the external dependencies. The solution is comprised for four projects, all prefixed with <code>McpAgentWorkshop</code>:</p> <ul> <li><code>AppHost</code>: The Aspire orchestrator, and launch project for the workshop.</li> <li><code>McpServer</code>: The MCP server project.</li> <li><code>ServiceDefaults</code>: Default configuration for services, such as logging and telemetry.</li> <li><code>WorkshopApi</code>: The Agent API for the workshop. The core application logic is in the <code>AgentService</code> class.</li> </ul> <p>In addition to the .NET projects in the solution, there is a <code>shared</code> folder (visible as a Solution Folder, and via the file explorer), which contains:</p> <ul> <li><code>instructions</code>: The instructions passed to the LLM.</li> <li><code>scripts</code>: Helper shell scripts for various tasks, these will be referred to when required.</li> <li><code>webapp</code>: The front-end client application. Note: This is a Python application, which Aspire will manage the lifecycle of.</li> </ul> <p></p>"},{"location":"getting-started/#self-guided-learners","title":"Self-Guided Learners","text":"<p>These instructions are for self-guided learners who do not have access to a pre-configured lab environment. Follow these steps to set up your environment and begin the workshop.</p>"},{"location":"getting-started/#introduction_1","title":"Introduction","text":"<p>This workshop is designed to teach you about the Azure AI Agents Service and the associated SDK. It consists of multiple labs, each highlighting a specific feature of the Azure AI Agents Service. The labs are meant to be completed in order, as each one builds on the knowledge and work from the previous lab.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ol> <li>Access to an Azure subscription. If you don't have an Azure subscription, create a free account before you begin.</li> <li>You need a GitHub account. If you don\u2019t have one, create it at GitHub.</li> </ol>"},{"location":"getting-started/#select-workshop-programming-language_1","title":"Select Workshop Programming Language","text":"<p>The workshop is available in both Python and C#. Use the language selector tabs to choose your preferred language. Note, don't switch languages mid-workshop.</p> <p>Select the tab for your preferred language:</p> PythonC# <p>The default language for the workshop is set to Python.</p> <p>The default language for the workshop is set to C#.</p> <p>The C#/.NET version of this workshop is in beta and has known stability issues.</p> <p>Ensure you read the troubleshooting guide section BEFORE starting the workshop. Else, select the Python version of the workshop.</p>"},{"location":"getting-started/#open-the-workshop_1","title":"Open the Workshop","text":"<p>Preferred: GitHub Codespaces, which provides a preconfigured environment with all required tools. Alternatively, run locally with a Visual Studio Code Dev Container and Docker. Use the tabs below to choose.</p> <p>Tip</p> <p>Codespaces or Dev Container builds take about 5 minutes. Start the build, then continue reading while it completes.</p> GitHub CodespacesVS Code Dev Container <p>Select Open in GitHub Codespaces to open the project in GitHub Codespaces.</p> <p></p> <ol> <li> <p>Ensure you have the following installed on your local machine:</p> <ul> <li>Docker</li> <li>Visual Studio Code</li> <li>The Remote - Containers extension</li> </ul> </li> <li> <p>Clone the repository to your local machine:</p> <pre><code>git clone https://github.com/microsoft/aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol.git\n</code></pre> </li> <li> <p>Open the cloned repository in Visual Studio Code.</p> </li> <li>When prompted, select Reopen in Container to open the project in a Dev Container.</li> </ol>"},{"location":"getting-started/#authenticate-azure-services","title":"Authenticate Azure Services","text":"<p>Danger</p> <p>Before proceeding, ensure that your Codespace or Dev Container is fully built and ready.</p>"},{"location":"getting-started/#authenticate-with-devtunnel","title":"Authenticate with DevTunnel","text":"<p>DevTunnel provides a port forwarding service that will be used in the workshop to allow the Azure AI Agents Service to access the MCP Server you'll be running on your local development environment. Follow these steps to authenticate:</p> <ol> <li>From VS Code, press Ctrl + Shift + ` to open a new terminal window. Then run the following command:</li> <li>Run the following command to authenticate with DevTunnel:</li> </ol> <pre><code>devtunnel login\n</code></pre> <ol> <li> <p>Follow these steps to authenticate:</p> </li> <li> <p>Copy the Authentication Code to the clipboard.</p> </li> <li>Press and hold the ctrl or cmd key.</li> <li>Select the authentication URL to open it in your browser.</li> <li>Paste the code and click Next.</li> <li>Pick an account and sign in.</li> <li>Select Continue</li> <li> <p>Return to the terminal window in VS Code.</p> </li> <li> <p>Leave the terminal window open for the next steps.</p> </li> </ol>"},{"location":"getting-started/#authenticate-with-azure_1","title":"Authenticate with Azure","text":"<p>Authenticate with Azure to allow the agent app access to the Azure AI Agents Service and models. Follow these steps:</p> <ol> <li> <p>Then run the following command:</p> <pre><code>az login --use-device-code\n</code></pre> <p>Warning</p> <p>If you have multiple Azure tenants, specify the correct one using:</p> <pre><code>az login --use-device-code --tenant &lt;tenant_id&gt;\n</code></pre> </li> <li> <p>Follow these steps to authenticate:</p> <ol> <li>Copy the Authentication Code to the clipboard.</li> <li>Press and hold the ctrl or cmd key.</li> <li>Select the authentication URL to open it in your browser.</li> <li>Paste the code and click Next.</li> <li>Pick an account and sign in.</li> <li>Select Continue</li> <li>Return to the terminal window in VS Code.</li> <li>If prompted, select a subscription.</li> </ol> </li> <li> <p>Leave the terminal window open for the next steps.</p> </li> </ol>"},{"location":"getting-started/#deploy-the-azure-resources","title":"Deploy the Azure Resources","text":"<p>This deployment creates the following resources in your Azure subscription.</p> <ul> <li>A resource group named rg-zava-agent-wks-nnnnnnnn</li> <li>An Microsoft Foundry hub named fdy-zava-agent-wks-nnnnnnnn</li> <li>An Microsoft Foundry project named prj-zava-agent-wks-nnnnnnnn</li> <li>Two models are deployed: gpt-4o and text-embedding-3-small. See pricing.</li> <li>Application Insights resource named appi-zava-agent-wks-nnnnnnnn. See pricing</li> <li>To keep workshop costs low, PostgreSQL runs in a local container within your Codespace or Dev Container rather than as a cloud service. See Azure Database for PostgreSQL Flexible Server to learn about options for a managed PostgreSQL service.</li> </ul> <p>Ensure you have at least the following model quotas\" - 120K TPM quota for the gpt-4o Global Standard SKU, as the agent makes frequent model calls. - 50K TPM for the text-embedding-3-small model Global Standard SKU. - Check your quota in the AI Foundry Management Center.</p>"},{"location":"getting-started/#automated-deployment","title":"Automated Deployment","text":"<p>Run the following bash script to automate the deployment of the resources required for the workshop. The <code>deploy.sh</code> script deploys resources to the <code>westus</code> region by default. To run the script:</p> <pre><code>cd infra &amp;&amp; ./deploy.sh\n</code></pre>"},{"location":"getting-started/#workshop-configuration","title":"Workshop Configuration","text":"PythonC# <p>The script securely stores project variables using the Secret Manager for ASP.NET Core development secrets.</p> <p>You can view the secrets by running the following command after you have opened the C# workspace in VS Code:</p> <pre><code>dotnet user-secrets list\n</code></pre>"},{"location":"getting-started/#azure-resource-configuration","title":"Azure Resource Configuration","text":"<p>The deploy script generates the .env file, which contains the project and model endpoints, model deployment names, and Application Insights connection string. The .env file will automatically be saved in the <code>src/python/workshop</code> folder.</p> <p>Your .env file will look similar to the following, updated with your values:</p> <pre><code>PROJECT_ENDPOINT=\"&lt;your_project_endpoint&gt;\"\nGPT_MODEL_DEPLOYMENT_NAME=\"&lt;your_model_deployment_name&gt;\"\nEMBEDDING_MODEL_DEPLOYMENT_NAME=\"&lt;your_embedding_model_deployment_name&gt;\"\nAPPLICATIONINSIGHTS_CONNECTION_STRING=\"&lt;your_application_insights_connection_string&gt;\"\nAZURE_TRACING_GEN_AI_CONTENT_RECORDING_ENABLED=\"true\"\nAZURE_OPENAI_ENDPOINT=\"&lt;your_azure_openai_endpoint&gt;\"\n</code></pre>"},{"location":"getting-started/#azure-resource-names","title":"Azure Resource Names","text":"<p>You'll also find a file named <code>resources.txt</code> in the <code>workshop</code> folder. This file contains the names of the Azure resources created during the deployment.</p> <p>I'll look similar to the following:</p> <pre><code>Microsoft Foundry Resources:\n- Resource Group Name: rg-zava-agent-wks-nnnnnnnn\n- AI Project Name: prj-zava-agent-wks-nnnnnnnn\n- Foundry Resource Name: fdy-zava-agent-wks-nnnnnnnn\n- Application Insights Name: appi-zava-agent-wks-nnnnnnnn\n</code></pre>"},{"location":"getting-started/#open-the-vs-code-workspace","title":"Open the VS Code Workspace","text":"<p>There are two VS Code workspaces in the workshop, one for Python and one for C#. The workspace contains the source code and all the files needed to complete the labs for each language. Choose the workspace that matches the language you want to work with.</p> PythonC# <ol> <li> <p>Copy the following path to the clipboard:</p> <pre><code>/workspace/.vscode/python-workspace.code-workspace\n</code></pre> </li> <li> <p>From the VS Code menu, select File then Open Workspace from File.</p> </li> <li>Replace and paste the copied path name and select OK.</li> </ol> <ol> <li>In Visual Studio Code, go to File &gt; Open Workspace from File.</li> <li> <p>Replace the default path with the following:</p> <pre><code>/workspace/.vscode/csharp-workspace.code-workspace\n</code></pre> </li> <li> <p>Select OK to open the workspace.</p> </li> </ol>"},{"location":"getting-started/#project-structure_2","title":"Project Structure","text":"<p>Familiarize yourself with the key folders and files in the workspace you\u2019ll be working with throughout the workshop.</p>"},{"location":"getting-started/#the-workshop-folder_1","title":"The \"workshop\" folder","text":"<ul> <li> <p>The app.py file: The entry point for the app, containing its main logic.</p> <p>Note the INSTRUCTIONS_FILE variable\u2014it sets which instructions file the agent uses. You will update this variable in a later lab.</p> </li> <li> <p>The resources.txt file: Contains the resources used by the agent app.</p> </li> <li>The .env file: Contains the environment variables used by the agent app.</li> </ul>"},{"location":"getting-started/#the-mcp_server-folder_1","title":"The \"mcp_server\" folder","text":"<ul> <li>The sales_analysis.py file: The MCP Server with tools for sales analysis.</li> </ul>"},{"location":"getting-started/#the-sharedinstructions-folder_1","title":"The \"shared/instructions\" folder","text":"<ul> <li>The instructions folder: Contains the instructions passed to the LLM.</li> </ul>"},{"location":"getting-started/#project-structure_3","title":"Project Structure","text":"<p>The project uses Aspire to simplify building the agent application, managing the MCP server, and orchestrating all the external dependencies. The solution is comprised for four projects, all prefixed with <code>McpAgentWorkshop</code>:</p> <ul> <li><code>AppHost</code>: The Aspire orchestrator, and launch project for the workshop.</li> <li><code>McpServer</code>: The MCP server project.</li> <li><code>ServiceDefaults</code>: Default configuration for services, such as logging and telemetry.</li> <li><code>WorkshopApi</code>: The Agent API for the workshop. The core application logic is in the <code>AgentService</code> class.</li> </ul> <p>In addition to the .NET projects in the solution, there is a <code>shared</code> folder (visible as a Solution Folder, and via the file explorer), which contains:</p> <ul> <li><code>instructions</code>: The instructions passed to the LLM.</li> <li><code>scripts</code>: Helper shell scripts for various tasks, these will be referred to when required.</li> <li><code>webapp</code>: The front-end client application. Note: This is a Python application, which Aspire will manage the lifecycle of.</li> </ul> <p></p>"},{"location":"hw-1-start-mcp-server/","title":"Hw 1 start mcp server","text":""},{"location":"hw-1-start-mcp-server/#what-youll-learn","title":"What You'll Learn","text":"<p>In this lab, you will:</p> <ul> <li>Use DevTunnel to make your local MCP server accessible to cloud-based agent services</li> <li>Set up your environment for hands-on experimentation with the Model Context Protocol</li> </ul>"},{"location":"hw-1-start-mcp-server/#introduction","title":"Introduction","text":"<p>The Model Context Protocol (MCP) server is a crucial component that handles the communication between Large Language Models (LLMs) and external tools and data sources. You\u2019ll run the MCP server on your local machine, but the Microsoft Foundry Agent Service requires internet access to connect to it. To make your local MCP server accessible from the internet, you\u2019ll use a DevTunnel. This allows the Agent Service to communicate with your MCP server as if it were running as a service in Azure.</p>"},{"location":"hw-1-start-mcp-server/#interface-options-for-mcp","title":"Interface options for MCP","text":"<p>MCP supports two main interfaces for connecting LLMs with tools:</p> <ul> <li>Streamable HTTP Transport: For web-based APIs and services.</li> <li>Stdio Transport: For local scripts and command-line tools.</li> </ul> <p>This lab uses the Streamable HTTP transport interface to integrate with the Microsoft Foundry Agent Service.</p> <p>Note</p> <p>Normally, you'd deploy the MCP server in a production environment, but for this workshop, you'll run it locally in your development environment. This allows you to test and interact with the MCP tools without needing a full deployment.</p>"},{"location":"hw-1-start-mcp-server/#start-up-a-devtunnel-for-the-mcp-server","title":"Start up a DevTunnel for the MCP Server","text":"<ol> <li> <p>In a new terminal, authenticate DevTunnel. You'll be prompted to log in with your Azure account, use the same account you used to log in to the Microsoft Foundry Agent Service or Azure Portal. Run the following command:</p> <pre><code>devtunnel login\n</code></pre> </li> <li> <p>Next, in the terminal where the MCP server is running, start a DevTunnel by running:</p> <pre><code>devtunnel host -p 8000 --allow-anonymous\n</code></pre> <p>This will output a URL that you'll need for the agent to connect to the MCP server. The output will be similar to:</p> <pre><code>Hosting port: 8000\nConnect via browser: https://&lt;tunnel-id&gt;-8000.aue.devtunnels.ms\nInspect network activity: https://&lt;tunnel-id&gt;-8000-inspect.aue.devtunnels.ms\n</code></pre> </li> </ol>"},{"location":"hw-1-start-mcp-server/#update-the-devtunnel-environment-variable","title":"Update the DevTunnel Environment Variable","text":"<ol> <li>Copy the Connect via browser URL to the clipboard - you'll need it in the next lab to configure the agent.</li> <li>Open the <code>.env</code> file in the workshop folder.</li> <li> <p>Update the <code>DEV_TUNNEL_URL</code> variable with the copied URL.</p> <pre><code>DEV_TUNNEL_URL=https://&lt;tunnel-id&gt;-8000.aue.devtunnels.ms\n</code></pre> </li> </ol>"},{"location":"hw-1-start-mcp-server/#start-the-agent-app","title":"Start the Agent App","text":"<ol> <li> <p>Copy the text below to the clipboard:</p> <pre><code>Debug: Select and Start Debugging\n</code></pre> </li> <li> <p>Press F1 to open the VS Code Command Palette.</p> </li> <li>Paste the text into the Command Palette and select Debug: Select and Start Debugging.</li> <li>Select \ud83c\udf0e\ud83e\udd16Debug Compound: Agent and MCP (http) from the list. This will start the agent app and the web chat client.</li> </ol>"},{"location":"hw-1-start-mcp-server/#start-a-conversation-with-the-agent","title":"Start a conversation with the Agent","text":"<p>Switch to the Web Chat tab in your browser. You should see the agent app running and ready to accept questions.</p>"},{"location":"hw-1-start-mcp-server/#debugging-with-devtunnel","title":"Debugging with DevTunnel","text":"<p>You can use DevTunnel to debug the MCP server and the agent app. This allows you to inspect network activity and troubleshoot issues in real-time.</p> <ol> <li>Select the Inspect network activity URL from the DevTunnel output.</li> <li>This will open a new tab in your browser where you can see the network activity of the MCP server and the agent app.</li> <li>You can use this to debug any issues that arise during the workshop.</li> </ol> <p>You can also set breakpoints in the MCP server code and the agent app code to debug specific issues. To do this:</p> <ol> <li>Open the <code>sales_analysis.py</code> file in the <code>mcp_server</code> folder.</li> <li>Set a breakpoint by clicking in the gutter next to the line number where you want to pause execution.</li> <li>When the execution reaches the breakpoint, you can inspect variables, step through code, and evaluate expressions in the Debug Console.</li> </ol>"},{"location":"lab-1-agent-instructions/","title":"Lab 1 Agent Instructions","text":""},{"location":"lab-1-agent-instructions/#what-youll-learn","title":"What You'll Learn","text":"<p>In this lab, you review and update the agent instructions to include a rule about the financial year starting on July 1. This is important for the agent to correctly interpret and analyze sales data.</p>"},{"location":"lab-1-agent-instructions/#introduction","title":"Introduction","text":"<p>The purpose of agent instructions is to define the agent's behavior, including how it interacts with users, what tools it can use, and how it should respond to different types of queries. In this lab, you will review the existing agent instructions and make a small update to ensure the agent correctly interprets the financial year.</p>"},{"location":"lab-1-agent-instructions/#lab-exercise","title":"Lab Exercise","text":""},{"location":"lab-1-agent-instructions/#open-the-agent-instructions","title":"Open the Agent Instructions","text":"<ol> <li>From the VS Code Explorer, navigate to the <code>shared/instructions</code> folder.</li> <li>Open the <code>mcp_server_tools_with_code_interpreter.txt</code> file.</li> </ol>"},{"location":"lab-1-agent-instructions/#review-the-agent-instructions","title":"Review the Agent Instructions","text":"<p>Review how the instructions define the agent app\u2019s behavior:</p> <p>In VS Code, press Alt + Z (Windows/Linux) or Option + Z (Mac) to enable word wrap mode, making the instructions easier to read.</p> <ul> <li>Core Role: Sales agent for Zava (WA DIY retailer) with professional, friendly tone using emojis and no assumptions or unverified content.</li> <li>Database Rules: Always get schemas first (get_multiple_table_schemas()) with mandatory LIMIT 20 on all SELECT queries using exact table/column names.</li> <li>Visualizations: Create charts ONLY when explicitly requested using triggers like \"chart\", \"graph\", \"visualize\", or \"show as [type]\" in PNG format downloaded from sandbox with no markdown image paths.</li> <li>Responses: Default to Markdown tables with multi-language support and CSV available on request.</li> <li>Safety: Stay in scope of Zava sales data only with exact responses for out-of-scope/unclear queries and redirect hostile users to IT.</li> <li>Key Constraints: No made-up data using tools only with 20-row limit and PNG images always.</li> </ul>"},{"location":"lab-1-agent-instructions/#update-the-agent-instructions","title":"Update the Agent Instructions","text":"<p>Copy the text below and paste directly after the rule about not generating unverified content or making assumptions:</p> <p>Click the copy icon to the right to copy the text to the clipboard.</p> <pre><code>- **Financial year (FY) starts Jul 1** (Q1=Jul\u2013Sep, Q2=Oct\u2013Dec, Q3=Jan\u2013Mar, Q4=Apr\u2013Jun).\n</code></pre> <p>The updated instructions should look like this:</p> <pre><code>- Use **only** verified tool outputs; **never** invent data or assumptions.\n- **Financial year (FY) starts Jul 1** (Q1=Jul\u2013Sep, Q2=Oct\u2013Dec, Q3=Jan\u2013Mar, Q4=Apr\u2013Jun).\n</code></pre>"},{"location":"lab-2-start-the-agent/","title":"Lab 2 Start your Agent","text":""},{"location":"lab-2-start-the-agent/#what-youll-learn","title":"What You'll Learn","text":"<p>In this lab, you'll enable the Code Interpreter to analyze sales data and create charts using natural language.</p>"},{"location":"lab-2-start-the-agent/#introduction","title":"Introduction","text":"<p>In this lab, you will extend the Azure AI Agent with two tools:</p> <ul> <li>Code Interpreter: Lets the agent generate and run Python code for data analysis and visualization.</li> <li>MCP Server tools: Allow the agent to access external data sources using MCP Tools, in our case data in a PostgreSQL database.</li> </ul>"},{"location":"lab-2-start-the-agent/#lab-exercise","title":"Lab Exercise","text":""},{"location":"lab-2-start-the-agent/#enable-the-code-interpreter-and-mcp-server","title":"Enable the Code Interpreter and MCP Server","text":"<p>In this lab, you'll enable two powerful tools that work together: the Code Interpreter (which executes AI-generated Python code for data analysis and visualization) and the MCP Server (which provides secure access to Zava's sales data stored in PostgreSQL).</p> PythonC# <ol> <li>Open the <code>app.py</code>.</li> <li>Scroll down to line 67 and find the lines that add the Code Interpreter tool and the MCP Server tools to the agent's toolset. These line are currently commented out with # plus space characters at the beginning.</li> <li> <p>Uncomment the following lines:</p> <p>Indentation matters in Python!</p> <p>When uncommenting, delete both the <code>#</code> symbol AND the space that follows it. This ensures the code maintains proper Python indentation and aligns correctly with the surrounding code.</p> <pre><code># self.toolset.add(code_interpreter_tool)\n# self.toolset.add(mcp_server_tools)\n</code></pre> <p>What does this code do?</p> <ul> <li>Code Interpreter tool: Enables the agent to execute Python code for data analysis and visualization.</li> <li>MCP Server tools: Provides access to external data sources with specific allowed tools and no human approval required. For production applications, consider enabling human-in-the-loop authorization for sensitive operations.</li> </ul> </li> <li> <p>Review the code you uncommented. The code should look exactly like this:</p> <p>After uncommenting, your code should look like this:</p> <pre><code>async def _setup_agent_tools(self) -&gt; None:\n    \"\"\"Setup MCP tools and code interpreter.\"\"\"\n    logger.info(\"Setting up Agent tools...\")\n    self.toolset = AsyncToolSet()\n\n    code_interpreter_tool = CodeInterpreterTool()\n\n    mcp_server_tools = McpTool(\n        server_label=\"ZavaSalesAnalysisMcpServer\",\n        server_url=Config.DEV_TUNNEL_URL,\n        allowed_tools=[\n            \"get_multiple_table_schemas\",\n            \"execute_sales_query\",\n            \"get_current_utc_date\",\n            \"semantic_search_products\",\n        ],\n    )\n    mcp_server_tools.set_approval_mode(\"never\")  # No human in the loop\n\n    self.toolset.add(code_interpreter_tool)\n    self.toolset.add(mcp_server_tools)\n</code></pre> \ud83d\ude80 For Developers: Human-in-the-Loop Approval Mode <p>The MCP Server tools are configured with <code>\"never\"</code> for human approval requirements (the default is <code>\"always\"</code>). We use \"never\" mode in this workshop because we're only performing safe operations like reading sales data. For production applications involving sensitive operations like financial transactions or data modifications, you should use \"always\" mode to require human authorization. To learn how to implement Human-in-the-Loop approval workflows, see the Azure AI Agents Human in the Loop sample.</p> </li> </ol> <ol> <li>Open <code>AgentService.cs</code> from the <code>McpAgentWorkshop.WorkshopApi</code> project's <code>Services</code> folder.</li> <li>Navigate to the <code>InitialiseAgentAsync</code> method.</li> <li> <p>Uncomment the following lines:</p> <pre><code>// var mcpTool = new MCPToolDefinition(\n//     ZavaMcpToolLabel,\n//     devtunnelUrl + \"mcp\");\n\n// var codeInterpreterTool = new CodeInterpreterToolDefinition();\n\n// IEnumerable&lt;ToolDefinition&gt; tools = [mcpTool, codeInterpreterTool];\n\n// persistentAgent = await persistentAgentsClient.Administration.CreateAgentAsync(\n//         name: AgentName,\n//         model: configuration.GetValue&lt;string&gt;(\"MODEL_DEPLOYMENT_NAME\"),\n//         instructions: instructionsContent,\n//         temperature: modelTemperature,\n//         tools: tools);\n\n// logger.LogInformation(\"Agent created with ID: {AgentId}\", persistentAgent.Id);\n</code></pre> </li> </ol>"},{"location":"lab-2-start-the-agent/#start-the-agent-app","title":"Start the Agent App","text":"<ol> <li>Select the Run and Debug icon from the sidebar of VS Code.</li> <li>Select the \"\ud83c\udf0e\ud83e\udd16Debug Compound: Agent and MCP (http)\" as the launch configuration.</li> <li>Select the green Run button (or press F5) to start the agent app.</li> </ol> <p>This starts the following processes:</p> <ol> <li>DevTunnel (workshop) Task</li> <li>Web Chat (workshop)</li> <li>Agent Manager (workshop)</li> <li>MCP Server (workshop)</li> </ol> <p>In VS Code you'll see these running in the TERMINAL panel.</p> <p></p>"},{"location":"lab-2-start-the-agent/#open-the-agent-web-chat-client","title":"Open the Agent Web Chat Client","text":"@Event AttendeesSelf-Guided Learners <p>Select the following link to open the Web Chat app in the browser.</p> <p>Open Web Chat @ http://localhost:8005</p> <p></p>"},{"location":"lab-2-start-the-agent/#make-port-8005-public","title":"Make Port 8005 Public","text":"<p>You need to make port 8005 public in order to access the web chat client in your browser.</p> <ol> <li>Select the Ports tab in the bottom panel of VS Code.</li> <li>Right-click on the Web Chat App (8005) port and select Port Visibility.</li> <li>Select Public.</li> </ol> <p></p>"},{"location":"lab-2-start-the-agent/#open-the-web-chat-client-in-the-browser","title":"Open the Web Chat Client in the Browser","text":"<ol> <li>Copy the text below to the clipboard:</li> </ol> <pre><code>Open Port in Browser\n</code></pre> <ol> <li>Press F1 to open the VS Code Command Palette.</li> <li>Paste the text into the Command Palette and select Open Port in Browser.</li> <li>Select 8005 from the list. This will open the agent web chat client in your browser.</li> </ol>"},{"location":"lab-2-start-the-agent/#start-the-agent-app_1","title":"Start the Agent App","text":"<ol> <li>Press F1 to open the VS Code Command Palette.</li> <li>Select Debug Aspire as the launch configuration.</li> </ol> <p>Once the debugger has launched, a browser window will open with the Aspire dashboard. Once all resources have started, you can launch the workshop web application by clicking the link Workshop Frontend.</p> <p></p> <p>Troubleshooting</p> <p>If the browser does not load, try hard-refreshing the page (Ctrl + F5 or Cmd + Shift + R). If it still does not load, refer to the troubleshooting guide.</p>"},{"location":"lab-2-start-the-agent/#start-a-conversation-with-the-agent","title":"Start a Conversation with the Agent","text":"<p>From the web chat client, you can start a conversation with the agent. The agent is designed to answer questions about Zava's sales data and generate visualizations using the Code Interpreter.</p> <ol> <li> <p>Product sales analysis. Copy and paste the following question into the chat:</p> <pre><code>Show the top 10 products by revenue by store for the last quarter\n</code></pre> <p>After a moment, the agent will respond with a table showing the top 10 products by revenue for each store.</p> <p>Info</p> <p>The agent uses the LLM calls three MCP Server tools to fetch the data and display it in a table:</p> <ol> <li>get_current_utc_date(): Gets the current date and time so the agent can determine the last quarter relative to the current date.</li> <li>get_multiple_table_schemas(): Gets the schemas of the tables in the database required to by the LLM to generate valid SQL.</li> <li>execute_sales_query: Executes a SQL query to fetch the top 10 products by revenue for the last quarter from the PostgreSQL database.</li> </ol> <p>Tip</p> PythonC# <p>Switch back to VS Code and select MCP Server (workspace) from the TERMINAL panel and you'll see the calls made to the MCP Server by the Microsoft Foundry Agent Service.</p> <p></p> <p>In the Aspire dashboard, you can select the logs for the <code>dotnet-mcp-server</code> resource to see the calls made to the MCP Server by the Microsoft Foundry Agent Service.</p> <p>You can also open the trace view and find the end-to-end trace of the application, from the user input in the web chat, through to the agent calls and MCP tool calls.</p> <p></p> </li> <li> <p>Generate a pie chart. Copy and paste the following question into the chat:</p> <pre><code>Show sales by store for this financial year\n</code></pre> <p>then follow up with:</p> <pre><code>Show as a Pie Chart\n</code></pre> <p>The agent will respond with a pie chart showing the sales distribution by store for the current financial year.</p> <p>Info</p> <p>This might feel like magic, so what\u2019s happening behind the scenes to make it all work?</p> <p>Foundry Agent Service orchestrates the following steps:</p> <ol> <li>Like the previous question, the agent determines if it has the table schemas required for the query. If not, it uses get_multiple_table_schemas() tools to get the current date and the database schema.</li> <li>The agent then uses the execute_sales_query tool to fetch the sales</li> <li>Using the returned data, the LLM writes Python code to create a Pie Chart.</li> <li>Finally, the Code Interpreter executes the Python code to generate the chart.</li> </ol> </li> <li> <p>Continue asking questions about Zava sales data to see the Code Interpreter in action. Here are a few follow-up questions you might like to try:</p> <ul> <li><code>Determine which products or categories drive sales. Show as a Bar Chart.</code></li> <li><code>What would be the impact of a shock event (e.g., 20% sales drop in one region) on global sales distribution? Show as a Grouped Bar Chart.</code></li> <li><code>Which regions have sales above or below the average? Show as a Bar Chart with Deviation from Average.</code></li> <li><code>Simulate future sales by region using a Monte Carlo simulation to estimate confidence intervals. Show as a Line with Confidence Bands using vivid colors.</code></li> </ul> </li> </ol>"},{"location":"lab-2-start-the-agent/#leave-the-agent-app-running","title":"Leave the Agent App Running","text":"<p>Leave the agent app running as you will use it in the next lab to extend the agent with more tools and capabilities.</p>"},{"location":"lab-3-mcp-semantic-search/","title":"Lab 3 Semantic Search","text":""},{"location":"lab-3-mcp-semantic-search/#what-youll-learn","title":"What You'll Learn","text":"<p>In this lab, you enable semantic search capabilities in the Azure AI Agent using the MCP Server and the PostgreSQL database with the PostgreSQL Vector extension enabled.</p>"},{"location":"lab-3-mcp-semantic-search/#introduction","title":"Introduction","text":"<p>This lab upgrades the Azure AI Agent with semantic search using the MCP Server and PostgreSQL. </p> <p>All of Zava's product names and descriptions have been converted to vectors with the OpenAI embedding model (text-embedding-3-small) and stored in the database. This enables the agent to understand user intent and provide more accurate responses.</p> \ud83d\ude80 For Developers: How does PostgreSQL Semantic Search work?"},{"location":"lab-3-mcp-semantic-search/#vectorizing-the-product-descriptions-and-names","title":"Vectorizing the Product Descriptions and Names","text":"<p>To learn more about how Zava product names and descriptions were vectorized, see the Zava DIY PostgreSQL Database Generator README.</p> PythonC#"},{"location":"lab-3-mcp-semantic-search/#llm-calls-the-mcp-server-tool","title":"LLM calls the MCP Server Tool","text":"<p>Based on the user's query and the instructions provided, the LLM decides to call the MCP Server tool <code>semantic_search_products</code> to find relevant products.</p> <p>The following sequence of events occurs:</p> <ol> <li>The MCP tool <code>semantic_search_products</code> is invoked with the user's query description.</li> <li>The MCP server generates a vector for the query using the OpenAI embedding model (text-embedding-3-small). See the code for vectorizing the query is in the <code>generate_query_embedding</code> method.</li> <li>The MCP server then performs a semantic search against the PostgreSQL database to find products with similar vectors.</li> </ol>"},{"location":"lab-3-mcp-semantic-search/#postgresql-semantic-search-overview","title":"PostgreSQL Semantic Search Overview","text":"<p>The <code>semantic_search_products</code> MCP Server tool then executes a SQL query that uses the vectorized query to find the most similar product vectors in the database. The SQL query uses the <code>&lt;-&gt;</code> operator provided by the pgvector extension to calculate the distance between vectors.</p> <pre><code>async def search_products_by_similarity(\n    self, query_embedding: list[float], \n        rls_user_id: str, \n        max_rows: int = 20, \n        similarity_threshold: float = 30.0\n) -&gt; str:\n        ...\n        query = f\"\"\"\n            SELECT \n                p.*,\n                (pde.description_embedding &lt;=&gt; $1::vector) as similarity_distance\n            FROM {SCHEMA_NAME}.product_description_embeddings pde\n            JOIN {SCHEMA_NAME}.products p ON pde.product_id = p.product_id\n            WHERE (pde.description_embedding &lt;=&gt; $1::vector) &lt;= $3\n            ORDER BY similarity_distance\n            LIMIT $2\n        \"\"\"\n\n        rows = await conn.fetch(query, embedding_str, max_rows, distance_threshold)\n        ...\n</code></pre>"},{"location":"lab-3-mcp-semantic-search/#llm-calls-the-mcp-server-tool_1","title":"LLM calls the MCP Server Tool","text":"<p>Based on the user's query and the instructions provided, the LLM decides to call the MCP Server tool <code>semantic_search_products</code> to find relevant products.</p> <p>The following sequence of events occurs:</p> <ol> <li>The MCP tool <code>semantic_search_products</code> is invoked with the user's query description.</li> <li>The MCP server generates a vector for the query using the OpenAI embedding model (text-embedding-3-small). See <code>GenerateVectorAsync</code> method in the <code>EmbeddingGeneratorExtensions.cs</code> file.</li> <li>The MCP server then performs a semantic search against the PostgreSQL database to find products with similar vectors.</li> </ol>"},{"location":"lab-3-mcp-semantic-search/#postgresql-semantic-search-overview_1","title":"PostgreSQL Semantic Search Overview","text":"<p>The <code>semantic_search_products</code> MCP Server tool then executes a SQL query that uses the vectorized query to find the most similar product vectors in the database. The SQL query uses the <code>&lt;-&gt;</code> operator provided by the pgvector extension to calculate the distance between vectors.</p> <pre><code>public async Task&lt;IEnumerable&lt;SemanticSearchResult&gt;&gt; SemanticSearchProductsAsync(\n...\n    await using var searchCmd = new NpgsqlCommand(\"\"\"\n    SELECT \n        p.*,\n        (pde.description_embedding &lt;=&gt; $1::vector) as similarity_distance\n    FROM retail.product_description_embeddings pde\n    JOIN retail.products p ON pde.product_id = p.product_id\n    WHERE (pde.description_embedding &lt;=&gt; $1::vector) &lt;= $3\n    ORDER BY similarity_distance\n    LIMIT $2\n    \"\"\", connection);\n    searchCmd.Parameters.AddWithValue(new Vector(embeddings));\n    searchCmd.Parameters.AddWithValue(maxRows);\n    searchCmd.Parameters.AddWithValue(distanceThreshold);\n\n    await using var reader = await searchCmd.ExecuteReaderAsync();\n    var results = new List&lt;SemanticSearchResult&gt;();\n</code></pre>"},{"location":"lab-3-mcp-semantic-search/#lab-exercise","title":"Lab Exercise","text":"<p>From the previous lab you can ask the agent questions about sales data, but it was limited to exact matches. In this lab, you extend the agent's capabilities by implementing semantic search using the Model Context Protocol (MCP). This will allow the agent to understand and respond to queries that are not exact matches, improving its ability to assist users with more complex questions.</p> <ol> <li>Paste the following question into the Web Chat tab in your browser:</li> </ol> <pre><code>What 18 amp circuit breakers do we sell?\n</code></pre> <p>The agent cannot find matching products because it's performing text matching. It will respond that no products were found and may suggest trying different search terms.</p>"},{"location":"lab-3-mcp-semantic-search/#stop-the-agent-app","title":"Stop the Agent App","text":"<p>From VS Code, stop the agent app by pressing Shift + F5.</p> PythonC#"},{"location":"lab-3-mcp-semantic-search/#implement-semantic-search","title":"Implement Semantic Search","text":"<p>In this section, you will implement semantic search using the Model Context Protocol (MCP) to enhance the agent's capabilities.</p> <ol> <li>Select the Explorer icon from the sidebar of VS Code.</li> <li>Navigate to the <code>mcp_server/sales_analysis</code> folder.</li> <li> <p>Open the <code>sales_analysis.py</code> file.</p> <p>This file contains the MCP tools for the sales analysis agent, including the semantic search tool.</p> <p></p> </li> <li> <p>Scroll down to around line 70 and look for the <code>semantic_search_products</code> method. This method is responsible for performing semantic search on the sales data. You'll notice the @mcp.tool() decorator is commented out. This decorator is used to register the method as an MCP tool, allowing it to be called by the agent.</p> </li> <li> <p>Remove the <code>#</code> symbol and following space character before the <code># @mcp.tool()</code> decorator to enable the semantic search mcp tool.</p> <pre><code># @mcp.tool()\nasync def semantic_search_products(\n    ctx: Context,\n    query_description: Annotated[str, Field(\n    ...\n</code></pre> <p>After enabling the decorator, the method should look like this:</p> <pre><code>@mcp.tool()\nasync def semantic_search_products(\n    ctx: Context,\n    query_description: Annotated[str, Field(\n    ...\n</code></pre> \ud83d\ude80 For Developers: Set a breakpoint in the semantic search method and debug <p>Prerequisites: These instructions assume you're familiar with setting breakpoints in VS Code. If you need help with this, see the VS Code documentation on breakpoints.</p> <p>Purpose: Setting a breakpoint in the <code>semantic_search_products</code> method lets you observe exactly how the semantic search process works, including query processing and database interactions.</p> <p>Steps:</p> <ol> <li> <p>Set the breakpoint: Click in the gutter (left margin) next to line 104, where you see <code>rls_user_id = get_rls_user_id(ctx)</code>. A red dot will appear, confirming the breakpoint is set.</p> </li> <li> <p>Debug and observe: When you run the agent app in debug mode, execution will pause at this breakpoint. You can then:</p> </li> <li>Inspect variable values</li> <li>Step through the code line by line</li> <li>Observe how the RLS user ID is extracted from the MCP request header</li> <li>Watch the query get converted to a vector</li> <li>See the semantic search execute against the PostgreSQL database</li> </ol> </li> <li> <p>Next, you need to enable the Agent instructions to use the semantic search tool. Switch back to the <code>app.py</code> file.</p> </li> <li>Scroll down to around line 30 and find the line <code># INSTRUCTIONS_FILE = \"instructions/mcp_server_tools_with_semantic_search.txt\"</code>.</li> <li> <p>Uncomment the line by removing the <code>#</code> at the beginning. This will enable the agent to use the semantic search tool.</p> <pre><code>INSTRUCTIONS_FILE = \"instructions/mcp_server_tools_with_semantic_search.txt\"\n</code></pre> </li> </ol>"},{"location":"lab-3-mcp-semantic-search/#implement-semantic-search_1","title":"Implement Semantic Search","text":"<p>In this section, you will implement semantic search using the Model Context Protocol (MCP) to enhance the agent's capabilities.</p> <ol> <li>Open the <code>McpHost.cs</code> file from the <code>McpAgentWorkshop.McpServer</code> project.</li> <li> <p>Locate where the other MCP tools are registered with the MCP server, and register the <code>SemanticSearchTools</code> class as an MCP tool using <code>WithTools</code>:</p> <pre><code>.WithTools&lt;SemanticSearchTools&gt;();\n</code></pre> <p>Note</p> <p>Have a read of the implementation of <code>SemanticSearchTools</code> to learn how the MCP server will be performing the search.</p> </li> <li> <p>Next, you need to enable the Agent instructions to use the semantic search tool. Switch back to the <code>AgentService</code> class and change the const <code>InstructionsFile</code> to <code>mcp_server_tools_with_semantic_search.txt</code>.</p> </li> </ol>"},{"location":"lab-3-mcp-semantic-search/#review-the-agent-instructions","title":"Review the Agent Instructions","text":"<ol> <li>Press F1 to open the VS Code Command Palette.</li> <li>Type Open File and select File: Open File....</li> <li>Paste the following path into the file picker and press Enter:</li> </ol> <pre><code>/workspace/src/shared/instructions/mcp_server_tools_with_semantic_search.txt\n</code></pre> <ol> <li>Review the instructions in the file. These instructions instruct the agent to use the semantic search tool to answer questions about sales data.</li> </ol>"},{"location":"lab-3-mcp-semantic-search/#start-the-agent-app-with-the-semantic-search-tool","title":"Start the Agent App with the Semantic Search Tool","text":"<ol> <li>Start the agent app by pressing F5. This will start the agent with the updated instructions and the semantic search tool enabled.</li> <li>Open the Web Chat in your browser.</li> <li> <p>Enter the following question in the chat:</p> <pre><code>What 18 amp circuit breakers do we sell?\n</code></pre> <p>The agent now understands the semantic meaning of the question and responds accordingly with relevant sales data.</p> <p>Note</p> <p>The MCP Semantic Search tool works as follows:</p> <ol> <li>The question is converted into a vector using the same OpenAI embedding model (text-embedding-3-small) as the product descriptions.</li> <li>This vector is used to search for similar product vectors in the PostgreSQL database.</li> <li>The agent receives the results and uses them to generate a response.</li> </ol> </li> </ol>"},{"location":"lab-3-mcp-semantic-search/#write-an-executive-report","title":"Write an Executive Report","text":"<p>The final prompt for this workshop is as follows:</p> <pre><code>Write an executive report on the sales performance of different stores for these circuit breakers.\n</code></pre>"},{"location":"lab-3-mcp-semantic-search/#leave-the-agent-app-running","title":"Leave the Agent App Running","text":"<p>Leave the agent app running as you will use it in the next lab to explore secure agent data access.</p>"},{"location":"lab-4-secure-agent-data/","title":"Securing Agent Data","text":""},{"location":"lab-4-secure-agent-data/#what-youll-learn","title":"What you'll Learn","text":"<p>In this lab, you'll secure agent data using the Model Context Protocol (MCP) and PostgreSQL Row Level Security (RLS). The agent has read-only database access and data is protected by user roles (head office and store manager) to ensure only authorized users can access specific information.</p>"},{"location":"lab-4-secure-agent-data/#introduction","title":"Introduction","text":"<p>The PostgreSQL database uses Row Level Security (RLS) to control data access by user role. The web chat client defaults to the <code>Head office</code> role (full data access), but switching to <code>Store Manager</code> role restricts access to role-specific data only.</p> <p>The MCP Server provides the agent with access to the Zava database. When the agent service processes user requests, the user role (UUID) is passed to the MCP server via MCP Tools Resource Headers to ensure role-based security is enforced.</p> <p>In normal operation, the a store manager would authenticate with the agent and their user role would be set accordingly. But this is a workshop, and we're going to manually select a role.</p> \ud83d\ude80 For Developers: How does PostgreSQL Row Level Security work?"},{"location":"lab-4-secure-agent-data/#postgresql-rls-security-overview","title":"PostgreSQL RLS Security Overview","text":"<p>Row Level Security (RLS) automatically filters database rows based on user permissions. This allows multiple users to share the same database tables while only seeing data they're authorized to access. </p> <p>In this system, head office users see all data across all stores, while store managers are restricted to viewing only their own store's information. The example below shows how RLS policies are implemented for the <code>retail.orders</code> table, with identical policies applied to <code>retail.order_items</code>, <code>retail.inventory</code>, and <code>retail.customers</code> tables.</p> <pre><code>CREATE POLICY store_manager_orders ON retail.orders\nFOR ALL TO PUBLIC\nUSING (\n    -- Head office sees all data\n    current_setting('app.current_rls_user_id', true) = '00000000-0000-0000-0000-000000000000'\n    OR\n    -- Store managers only see their store's data\n    EXISTS (SELECT 1 FROM retail.stores s WHERE s.store_id = retail.orders.store_id \n            AND s.rls_user_id::text = current_setting('app.current_rls_user_id', true))\n);\n</code></pre> <p>Result: Store managers only see their store's data, while head office sees everything - all using the same database and tables.</p> PythonC# <p>You'll find the code responsible for setting the user role in the <code>workshop/chat_manager.py</code> file.</p> <pre><code>if request.rls_user_id:\n    # Create dynamic tool resources with RLS user ID header\n    mcp_tool_resource = MCPToolResource(\n        server_label=\"ZavaSalesAnalysisMcpServer\",\n        headers={\"x-rls-user-id\": request.rls_user_id},\n        require_approval=\"never\",\n    )\n    tool_resources.mcp = [mcp_tool_resource]\n</code></pre> <p>The code for retrieving the RLS User ID is in <code>mcp_server/sales_analysis/sales_analysis.py</code>. If the server doesn\u2019t detect the RLS header, it defaults to the Head Office role. This fallback is intended only for workshop use and should not be applied in production.</p> <pre><code>def get_rls_user_id(ctx: Context) -&gt; str:\n    \"\"\"Get the Row Level Security User ID from the request context.\"\"\"\n\n    rls_user_id = get_header(ctx, \"x-rls-user-id\")\n    if rls_user_id is None:\n        # Default to a placeholder if not provided\n        rls_user_id = \"00000000-0000-0000-0000-000000000000\"\n    return rls_user_id\n</code></pre> <p>You'll find the code responsible for setting the user role on the requests to the MCP Server in the <code>AgentService</code> class.</p> <pre><code>var mcpToolResource = new MCPToolResource(ZavaMcpToolLabel, new Dictionary&lt;string, string&gt;\n{\n    { \"x-rls-user-id\", request.RlsUserId }\n});\nvar toolResources = new ToolResources();\ntoolResources.Mcp.Add(mcpToolResource);\n</code></pre> <p>The <code>MCPToolResource</code> is then added to the <code>ToolResources</code> collection, which is provided to the streaming run using the <code>CreateRunStreamingOptions.ToolResources</code> property, this is because the RLS user ID is a dynamic value from the client (different \"logged in\" users may have different IDs), we need to ensure it's set on the thread run rather than when the agent is created.</p> <p>As the RLS user ID is set as a header for the agent to forward to the MCP Server, this is accessed from the <code>HttpContext</code> on the request, which can be accessed from a <code>IHttpContextAccessor</code>, which is injected into the MCP tool methods. An extension method has been created, <code>HttpContextAccessorExtensions.GetRequestUserId</code>, which can be used within a tool:</p> <pre><code>public async Task&lt;string&gt; ExecuteSalesQueryAsync(\n    NpgsqlConnection connection,\n    ILogger&lt;SalesTools&gt; logger,\n    IHttpContextAccessor httpContextAccessor,\n    [Description(\"A well-formed PostgreSQL query.\")] string query\n)\n{\n    ...\n\n    var rlsUserId = httpContextAccessor.GetRequestUserId();\n\n    ...\n}\n</code></pre>"},{"location":"lab-4-secure-agent-data/#setting-the-postgres-rls-user-id","title":"Setting the Postgres RLS User ID","text":"<p>Now the MCP Server has the RLS User ID, it needs to be set on the PostgreSQL connection.</p> PythonC# <p>The Python solution sets the RLS User ID on each PostgreSQL connection by calling <code>set_config()</code> within the <code>execute_query</code> method in <code>mcp_server/sales_analysis/sales_analysis_postgres.py</code>.</p> <pre><code>...\nconn = await self.get_connection()\nawait conn.execute(\"SELECT set_config('app.current_rls_user_id', $1, false)\", rls_user_id)\n\nrows = await conn.fetch(sql_query)\n...\n</code></pre> <p>The C# solution sets the RLS User ID on the PostgreSQL connection by executing a SQL command to set the RLS context variable immediately after opening the connection in the <code>ExecuteSalesQueryAsync</code> method in <code>SalesTools.cs</code>.</p> <pre><code>...\nawait using var cmd = new NpgsqlCommand(\"SELECT set_config('app.current_rls_user_id', @rlsUserId, false)\", connection);\ncmd.Parameters.AddWithValue(\"rlsUserId\", rlsUserId ?? string.Empty);\nawait cmd.ExecuteNonQueryAsync();\n\nawait using var queryCmd = new NpgsqlCommand(query, connection);\nawait using var reader = await queryCmd.ExecuteReaderAsync();\n...\n</code></pre>"},{"location":"lab-4-secure-agent-data/#lab-exercise","title":"Lab Exercise","text":""},{"location":"lab-4-secure-agent-data/#head-office-role","title":"Head Office role","text":"<p>By default, the web client operates with the <code>Head Office</code> role, which has full access to all data.</p> <ol> <li>Enter the following query in the chat:</li> </ol> <pre><code>Show sales by store\n</code></pre> <p>You'll see the data for all stores is returned. Perfect.</p>"},{"location":"lab-4-secure-agent-data/#select-a-store-manager-role","title":"Select a Store Manager Role","text":"<ol> <li>Switch back to the Agents' Web Chat tab in your browser.</li> <li>Select the <code>settings</code> icon in the top right hand corner of the page.</li> <li>Select a <code>Store location</code> from the dropdown menu.</li> <li>Select <code>Save</code> and now the agent will operate with the selected store location's data access permissions.</li> </ol> <p>Now the agent will only have access to the data for the selected store location.</p> <p>Note</p> <p>Changing the user will reset the chat session, as the context is tied to the user.</p> <p>Try the following query:</p> <pre><code>Show sales by store\n</code></pre> <p>You'll notice that the agent only returns data for the selected store location. This demonstrates how the agent's data access is restricted based on the selected store manager role.</p> <p></p>"},{"location":"lab-5-monitoring/","title":"Lab 5 Service Monitoring","text":""},{"location":"lab-5-monitoring/#introduction","title":"Introduction","text":"<p>Monitoring keeps your Microsoft Foundry Agent Service available, performant, and reliable. Azure Monitor collects metrics and logs, provides real\u2011time insights, and sends alerts. Use dashboards and custom alerts to track key metrics, analyze trends, and respond proactively. Access monitoring via the Azure portal, CLI, REST API, or client libraries.</p>"},{"location":"lab-5-monitoring/#lab-exercise","title":"Lab Exercise","text":"<ol> <li>From the VS Code file explorer, open the <code>resources.txt</code> file in the <code>workshop</code> folder.</li> <li>Copy the value for the <code>AI Project Name</code> key to the clipboard.</li> <li>Navigate to the Microsoft Foundry Portal page.</li> <li>Select your project from the list of foundry projects.</li> </ol>"},{"location":"lab-5-monitoring/#open-the-monitoring-dashboard","title":"Open the Monitoring dashboard","text":"<ol> <li>From the <code>resources.txt</code>, copy the value for the <code>Application Insights Name</code> to the clipboard.</li> <li>Switch back to the AI Foundry portal, select the Monitoring section in the left-hand menu.</li> <li>Paste the copied <code>Application Insights Name</code> into the <code>Application Insights resource name</code> dropdown list.</li> <li>Select the Application Insights resource from the dropdown list.</li> <li>Select Connect.</li> </ol>"},{"location":"lab-5-monitoring/#explore-the-monitoring-dashboard","title":"Explore the Monitoring dashboard","text":"<p>Familiarize yourself with the information available on the <code>Application analytics</code> dashboard.</p> <p>You can select date ranges to filter the data displayed in the monitoring tools.</p> <p></p>"},{"location":"lab-5-monitoring/#monitor-resource-usage","title":"Monitor Resource Usage","text":"<p>You can dig deeper, select <code>Resource Usage</code> to view detailed metrics about your AI Project's resource consumption. Again, you can filter the data by time range.</p> <p></p>"},{"location":"lab-6-tracing/","title":"Lab 6 Understand Tracing","text":""},{"location":"lab-6-tracing/#introduction","title":"Introduction","text":"<p>Tracing helps you understand and debug your agent's behavior by showing the sequence of steps, inputs, and outputs during execution. In Microsoft Foundry, tracing lets you observe how your agent processes requests, calls tools, and generates responses. You can use the Microsoft Foundry portal or integrate with OpenTelemetry and Application Insights to collect and analyze trace data, making it easier to troubleshoot and optimize your agent.</p>"},{"location":"lab-6-tracing/#view-traces","title":"View Traces","text":"<p>You can view the traces of your agent's execution in the Microsoft Foundry portal or by using OpenTelemetry. The traces will show the sequence of steps, tool calls, and data exchanged during the agent's execution. This information is crucial for debugging and optimizing your agent's performance.</p>"},{"location":"lab-6-tracing/#using-microsoft-foundry-portal","title":"Using Microsoft Foundry Portal","text":"<p>To view traces in the Microsoft Foundry portal, follow these steps:</p> <ol> <li>Navigate to the Microsoft Foundry portal.</li> <li>Select your project.</li> <li>Select the Tracing tab in the left-hand menu.</li> <li>Here, you can see the traces generated by your agent.</li> </ol> <p></p>"},{"location":"lab-6-tracing/#drilling-down-into-traces","title":"Drilling Down into Traces","text":"<ol> <li>You may need to click on the Refresh button to see the latest traces as traces may take a few moments to appear.</li> <li>Select the trace named <code>Zava Agent Initialization</code> to view the details.    </li> <li>Select the <code>create_agent Zava DIY Sales Agent</code> trace to view the details of the agent creation process. In the <code>Input &amp; outputs</code> section, you'll see the Agent instructions.</li> <li>Next, select the <code>Zava Agent Chat Request: Write an executive...</code> trace to view the details of the chat request. In the <code>Input &amp; outputs</code> section, you'll see the user input and the agent's response.</li> </ol>"},{"location":"lab-7-finishing-up/","title":"Finishing Up","text":"Self-Guided Learners <p>That's all for the lab portion of this workshop. Read on for key takeaways and additional resources, but first let's tidy up.</p>"},{"location":"lab-7-finishing-up/#clean-up-github-codespaces","title":"Clean up GitHub CodeSpaces","text":""},{"location":"lab-7-finishing-up/#save-your-changes-in-github","title":"Save your changes in GitHub","text":"<p>You can save any changes you have made to files during the workshop to your personal GitHub repository as a fork. This makes it easy to re-run the workshop with your customizations, and the workshop content will always remain available in your GitHub account.</p> <ul> <li>In VS Code, click the \"Source Control\" tool in the left pane. It's the third one down, or you can use the keyboard shortcut Control-Shift-G.</li> <li>In the field under \"Source Control\" enter <code>Agents Lab</code> and click \u2714\ufe0fCommit.</li> <li>Click Yes to the prompt \"There are no staged changes to commit.\"</li> <li>Click Sync Changes.</li> <li>Click OK to the prompt \"This action will pull and push commits from and to origin/main\".</li> </ul> <p>You now have your own copy of the workshop with your customizations in your GitHub account.</p>"},{"location":"lab-7-finishing-up/#delete-your-github-codespace","title":"Delete your GitHub codespace","text":"<p>Your GitHub CodeSpace will shut down by itself, but it will consume a small amount of your compute and storage allotment until it is deleted. (You can see your usage in your GitHub Billing summary.) You can safely delete the codespace now, as follows:</p> <ul> <li>Visit github.com/codespaces</li> <li>At the bottom of the page, click the \"...\" menu to the right of your active codespace</li> <li>Click Delete</li> <li>At the \"Are you sure?\" prompt, click Delete.</li> </ul>"},{"location":"lab-7-finishing-up/#delete-your-azure-resources","title":"Delete your Azure resources","text":"<p>Most of the resources you created in this lab are pay-as-you-go resources, meaning you won't be charged any more for using them. However, some storage services used by AI Foundry may incur small ongoing charges. To delete all resources, follow these steps:</p> <ul> <li>Visit the Azure Portal</li> <li>Click Resource groups</li> <li>Click on your resource group <code>rg-agent-workshop-****</code></li> <li>Click Delete Resource group</li> <li>In the field at the bottom \"Enter resource group name to confirm deletion\" enter <code>rg-agent-workshop-****</code></li> <li>Click Delete</li> <li>At the Delete Confirmation prompt, click \"Delete\"</li> </ul>"},{"location":"lab-7-local-tracing-with-aspire/","title":"Local Tracing with Aspire","text":""},{"location":"lab-7-local-tracing-with-aspire/#introduction","title":"Introduction","text":"<p>Tracing with the Aspire Dashboard is only supported in the C# version of the workshop.</p> <p>So far for our tracing, we've focused on how to visualise this via the Microsoft Foundry dashboards, which can be a break in the workflow when developing locally. In addition to that, we can leverage the Aspire Dashboard to visualise the traces generated by our application in real-time, and how an action spans across multiple resources within our system.</p>"},{"location":"lab-7-local-tracing-with-aspire/#run-the-agent-app","title":"Run the Agent App","text":"<p>Launch the application by pressing F5 and wait for the Aspire Dashboard to appear in your browser. This will show a full list of the resources in the workshop.</p> <p></p> <p>Like with previous lab steps, open the Workshop Frontend and enter a prompt into the chat, such as:</p> <pre><code>Write an executive report that analysis the top 5 product categories and compares performance of the online store verses the average for the physical stores.\n</code></pre>"},{"location":"lab-7-local-tracing-with-aspire/#viewing-traces","title":"Viewing Traces","text":"<p>To view the traces generated by your application, navigate to the Traces tab in the Aspire Dashboard. Here, you can see a list of all the traces that have been captured, starting with their originator.</p> <p></p> <p>The final entry in the above screenshot shows the event from the dotnet-front-end performing a <code>GET</code> to <code>/chat/stream</code>. The Span column then shows the resources which this trace spans across, <code>dotnet-front-end</code>, <code>dotnet-agent-app</code>, <code>ai-foundry</code>, <code>dotnet-mcp-server</code>, and <code>pg</code>.</p> <p>Each resource has a number associated with it, which is the number of spans which occured for that resource. We can also note an error indicator on the <code>dotnet-mcp-server</code> and <code>pg</code> resources, which would indicate that an error occurred on those resources.</p> <p>Clicking on the trace will show you a detailed view of the trace timeline:</p> <p></p> <p>From here, we can view the individual spans, the order in which they occured, their duration, and how events happened across resources within our application.</p> <p>Clicking on an individual span will show you more details about that specific span:</p> <p></p> <p>Try experimenting with different prompts and simulating errors, to observe how the traces change in the Aspire Dashboard.</p>"},{"location":"lab-7-local-tracing-with-aspire/#additional-reading","title":"Additional Reading","text":"<ul> <li>Aspire Documentation</li> <li>Aspire Telemetry Documentation</li> </ul>"},{"location":"navigating-the-workshop/","title":"Workshop Navigation","text":"<p>Take a moment to familiarize yourself with the workshop document layout:</p>"},{"location":"navigating-the-workshop/#page-navigation-elements","title":"Page Navigation Elements","text":"<ul> <li>The main navigation menu on the left side contains links to all sections of the documentation.</li> <li>The top bar provides search, theme toggle, and language options.</li> <li>The top-right includes a link to the workshop GitHub repository.</li> <li>The bottom shows Next/Previous page links.</li> </ul>"},{"location":"navigating-the-workshop/#expanding-an-image","title":"Expanding an Image","text":"<p>Click any image to open a larger view in a new tab.</p> <p></p>"},{"location":"navigating-the-workshop/#copying-code-snippets","title":"Copying Code Snippets","text":"<p>Throughout the workshop, you'll often copy text snippets from the docs.</p> <p>Snippets appear in gray boxes. Hover to reveal the copy icon, then click to copy.</p> <pre><code># Example text snippet\n</code></pre>"},{"location":"navigating-the-workshop/#deeper-dive-for-developers","title":"Deeper dive for Developers","text":"<p>Some sections include additional info for developers. Expand these by clicking the blue info icon. The examples also assume familiarity with Python, VS Code, and the debugger.</p> \ud83d\ude80 For Developers <p>These sections provide extra context or technical details useful for developers.</p>"},{"location":"navigating-the-workshop/#open-the-lab-instructions-in-your-computers-browser","title":"Open the Lab Instructions in Your Computer's Browser","text":"<p>If the lab instructions are slow to scroll in the lab environment, try copying the instructions\u2019 URL and opening it in your computer\u2019s local browser for a smoother experience.</p>"},{"location":"navigating-the-workshop/#bonus-content","title":"Bonus Content","text":"<p>There are two bonus labs at the end of the workshop for those who want to explore further:</p> <ul> <li>Securing Agent Data: Learn how to enhance data security for your agent.</li> <li>Local Tracing with Aspire: Explore local tracing techniques using Aspire.</li> </ul>"},{"location":"observability-overview/","title":"Observability Overview","text":"<p>Observability ensures AI systems are reliable, safe, and high-quality by enabling continuous monitoring and evaluation. For technical leaders and developers, it is key to building trust and maintaining performance in generative AI applications.</p> <p>With Microsoft Foundry, observability means:</p> <ul> <li>Using evaluators to measure quality, safety, and reliability at every stage\u2014from model selection to production.</li> <li>Assessing models and applications before deployment, and monitoring them in real time after launch.</li> <li>Tracking metrics like relevance, groundedness, and safety to quickly identify and address risks.</li> <li>Leveraging integrated dashboards and Azure Monitor for actionable insights.</li> </ul> <p>Adopting observability best practices helps organizations deliver trustworthy AI, reduce risk, and meet business goals.</p> <p>For more details on observability, see the Microsoft Foundry Observability Overview.</p>"},{"location":"resources/","title":"Resources","text":""},{"location":"resources/#workshop-repository-and-documentation","title":"Workshop Repository and Documentation","text":"<p>The workshop repository on GitHub contains everything needed for the workshop. The repo includes the source code (src folder) for the sample application, the documentation (docs) built with MkDocs, and the Azure deployment resources (infra) for the workshop.</p> <ul> <li>Repository: Unlock your Agents Potential with MCP and PostgreSQL</li> </ul>"},{"location":"resources/#microsoft-learn-resources","title":"Microsoft Learn resources","text":"<ul> <li>Documentation: Microsoft Foundry</li> <li>Module: Fundamentals of AI agents on Azure</li> <li>Documentation: Tracing using Application Insights, </li> <li>Documentation: Evaluating your AI agents with Azure AI Evaluation SDK</li> <li>Documentation: Model Context Protocol (MCP)</li> <li>Documentation: \ud83d\ude80 Model Context Protocol (MCP) Curriculum for Beginners</li> <li>Documentation: PostgreSQL on Azure</li> <li>Documentation: pgvector extension for PostgreSQL</li> <li>Documentation: Row Level Security (RLS) in PostgreSQL</li> </ul>"},{"location":"resources/#thank-you","title":"Thank you","text":"<p>Thank you for participating in this workshop! If you have any suggestions for improvements or encountered any problems while running this workshop, please let us know via GitHub Issues.</p>"},{"location":"star-and-connect/","title":"Star and Connect","text":""},{"location":"star-and-connect/#star-the-workshop-repository","title":"Star the Workshop Repository","text":"<p>Star the GitHub repository so you can easily find it later.</p> <ol> <li>Visit the repository: Unlock Your Agent\u2019s Potential with Model Context Protocol</li> <li>Log into your GitHub account.</li> <li>Click the Star button in the top right corner.</li> </ol> <p>To revisit the workshop later, click your profile picture on GitHub and select Your stars.</p>"},{"location":"star-and-connect/#join-the-microsoft-foundry-developer-community","title":"Join the Microsoft Foundry Developer Community","text":"<p>Join the Microsoft Foundry Developer Community, a vibrant forum for Q&amp;A, DevBlogs with the latest updates and real-time Discord chats, events &amp; learning.</p>"},{"location":"summary/","title":"Summary","text":"<p>This workshop demonstrated how to leverage the Foundry Agent Service to create a robust conversational agent capable of answering sales-related questions, performing data analysis, generating visualizations, and integrating external data sources for enhanced insights. Here are the key takeaways:</p>"},{"location":"summary/#1-model-context-protocol-mcp-and-dynamic-sql-queries","title":"1. Model Context Protocol (MCP) and Dynamic SQL Queries","text":"<ul> <li>The agent uses the Foundry Agent Service to dynamically generate and execute SQL queries against a PostgreSQL database, enabling it to respond to user questions with accurate data retrieval. The MCP Server provides a structured way to manage the conversation context and ensure that the agent can handle complex queries effectively.</li> </ul>"},{"location":"summary/#2-context-management","title":"2. Context Management","text":"<ul> <li>The agent efficiently manages conversation context using the Foundry Agent Service, ensuring interactions remain relevant and coherent.</li> </ul>"},{"location":"summary/#3-data-visualization","title":"3. Data Visualization","text":"<ul> <li>With the Code Interpreter, the agent can generate visualizations such as pie charts and tables based on user queries, making data more accessible and actionable. You can attach additional fonts to the Code Interpreter to create visualizations that support multiple languages.</li> </ul>"},{"location":"summary/#4-file-generation","title":"4. File Generation","text":"<ul> <li>The agent can create downloadable files, including Excel, CSV, JSON, and image formats, providing users with flexible options to analyze and share data.</li> </ul>"},{"location":"summary/#5-monitoring-and-logging","title":"5. Monitoring and Logging","text":"<ul> <li>The Foundry Agent Service includes built-in monitoring and logging capabilities, allowing you to track agent performance, user interactions, and system health. This is crucial for maintaining the reliability and effectiveness of the agent in production environments.</li> </ul>"},{"location":"summary/#6-security-best-practices","title":"6. Security Best Practices","text":"<ul> <li>Security risks, such as SQL injection, are mitigated by enforcing read-only database access and running the app within a secure environment.</li> </ul>"},{"location":"summary/#7-multi-language-support","title":"7. Multi-Language Support","text":"<ul> <li>The agent and LLM support multiple languages, offering an inclusive experience for users from diverse linguistic backgrounds.</li> </ul>"},{"location":"summary/#8-adaptability-and-customization","title":"8. Adaptability and Customization","text":"<ul> <li>The workshop emphasizes the flexibility of the Foundry Agent Service, allowing you to adapt the agent for various use cases, such as customer support or competitive analysis, by modifying instructions and integrating additional tools.</li> </ul> <p>This workshop equips you with the knowledge and tools to build and extend conversational agents tailored to your business needs, leveraging the full capabilities of the Foundry Agent Service.</p>"},{"location":"includes/en/introduction-event-python/","title":"Introduction event python","text":""},{"location":"includes/en/introduction-event-python/#microsoft-event-attendees","title":"Microsoft Event Attendees","text":"<p>The instructions on this page assume you are attending an event and have access to a pre-configured lab environment. This environment provides an Azure subscription with all the tools and resources needed to complete the workshop.</p>"},{"location":"includes/en/introduction-event-python/#introduction","title":"Introduction","text":"<p>This workshop is designed to teach you about the Azure AI Agents Service and the associated SDK. It consists of multiple labs, each highlighting a specific feature of the Azure AI Agents Service. The labs are meant to be completed in order, as each one builds on the knowledge and work from the previous lab.</p>"},{"location":"includes/en/introduction-event-python/#select-workshop-programming-language","title":"Select Workshop Programming Language","text":"<p>The workshop is available in both Python and C#. Please make sure to select the language that fits the lab room or preference by using the language selector tabs. Note, don't switch languages mid-workshop.</p> <p>Select the language tab that matches your lab room:</p> Python <p>The default language for the workshop is set to Python.</p>"},{"location":"includes/en/introduction-event-python/#authenticate-with-azure","title":"Authenticate with Azure","text":"<p>You need to authenticate with Azure so the agent app can access the Azure AI Agents Service and models. Follow these steps:</p> <ol> <li> <p>Open a terminal window. The terminal app is pinned to the Windows 11 taskbar.</p> <p></p> </li> <li> <p>Run the following command to authenticate with Azure:</p> <pre><code>az login\n</code></pre> <p>Note</p> <p>You'll be prompted to open a browser link and log in to your Azure account.</p> <ol> <li>A browser window will open automatically, select Work or school account and then select Continue.</li> <li>Use the Username and TAP (Temporary Access Pass) found in the top section of the Resources tab in the lab environment.</li> <li>Select Yes, all apps</li> <li>Select Done</li> </ol> </li> <li> <p>Then select the Default subscription from the command line, by selecting Enter.</p> </li> <li> <p>Leave the terminal window open for the next steps.</p> </li> </ol>"},{"location":"includes/en/introduction-event-python/#authenticate-with-the-devtunnel-service","title":"Authenticate with the DevTunnel Service","text":"<p>DevTunnel enables the Azure AI Agents Service to access your local MCP Server during the workshop.</p> <pre><code>devtunnel login\n</code></pre> <p>Note</p> <p>You will be prompted to use the account you used for <code>az login</code>. Select the account and continue.</p> <p>Leave the terminal window open for the next steps.</p>"},{"location":"includes/en/introduction-event-python/#open-the-workshop","title":"Open the Workshop","text":"<p>Follow these steps to open the workshop in Visual Studio Code:</p> Python <p>The following command block updates the workshop repository, activates the Python virtual environment, and opens the project in VS Code.</p> <p>Copy and paste the following command block to the terminal and press Enter.</p> <pre><code>; cd $HOME\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol `\n; git pull `\n; .\\src\\python\\workshop\\.venv\\Scripts\\activate `\n; code .vscode\\python-workspace.code-workspace\n</code></pre> <p>When the project opens in VS Code, two notifications appear in the bottom right corner. Click \u2716 to close both notifications.</p>"},{"location":"includes/en/introduction-event-python/#project-structure","title":"Project Structure","text":"Python <p>Be sure to familiarize yourself with the key subfolders and files you\u2019ll be working with throughout the workshop.</p> <ol> <li>The app.py file: The entry point for the app, containing its main logic.</li> <li>The resources.txt file: The Microsoft Foundry resources created for you in this lab.</li> <li>The sales_analysis.py file: The function logic implemented in the MCP server to execute dynamic SQL queries against the SQLite database.</li> <li>The stream_event_handler.py file: Contains the event handler logic for token streaming.</li> <li>The shared/instructions folder: Contains the agent instructions.</li> </ol> <p></p>"},{"location":"includes/en/introduction-event/","title":"Introduction event","text":""},{"location":"includes/en/introduction-event/#microsoft-event-attendees","title":"Microsoft Event Attendees","text":"<p>The instructions on this page assume you are attending an event and have access to a pre-configured lab environment. This environment provides an Azure subscription with all the tools and resources needed to complete the workshop.</p>"},{"location":"includes/en/introduction-event/#introduction","title":"Introduction","text":"<p>This workshop is designed to teach you about the Azure AI Agents Service and the associated SDK. It consists of multiple labs, each highlighting a specific feature of the Azure AI Agents Service. The labs are meant to be completed in order, as each one builds on the knowledge and work from the previous lab.</p>"},{"location":"includes/en/introduction-event/#workshop-cloud-resources","title":"Workshop Cloud Resources","text":"<p>The following resources are pre-provisioned in your lab Azure subscription:</p> <ul> <li>A resource group named rg-zava-agent-wks-nnnnnnnn</li> <li>An Microsoft Foundry hub named fdy-zava-agent-wks-nnnnnnnn</li> <li>An Microsoft Foundry project named prj-zava-agent-wks-nnnnnnnn</li> <li>Two models are deployed: gpt-4o and text-embedding-3-small. See pricing.</li> <li>Azure Database for PostgreSQL Flexible Server (B1ms Burstable 32GB) database named pg-zava-agent-wks-nnnnnnnn. See pricing</li> <li>Application Insights resource named appi-zava-agent-wks-nnnnnnnn. See pricing</li> </ul>"},{"location":"includes/en/introduction-event/#select-workshop-programming-language","title":"Select Workshop Programming Language","text":"<p>The workshop is available in both Python and C#. Please make sure to select the language that fits the lab room or preference by using the language selector tabs. Note, don't switch languages mid-workshop.</p> <p>Select the language tab that matches your lab room:</p> PythonC# <p>The default language for the workshop is set to Python.</p> <p>The default language for the workshop is set to C#.</p> <p>The C#/.NET version of this workshop is in beta and has known stability issues.</p> <p>Ensure you read the troubleshooting guide section BEFORE starting the workshop. Else, select the Python version of the workshop.</p>"},{"location":"includes/en/introduction-event/#authenticate-with-azure","title":"Authenticate with Azure","text":"<p>You need to authenticate with Azure so the agent app can access the Azure AI Agents Service and models. Follow these steps:</p> <ol> <li> <p>Open a terminal window. The terminal app is pinned to the Windows 11 taskbar.</p> <p></p> </li> <li> <p>Run the following command to authenticate with Azure:</p> <pre><code>az login\n</code></pre> <p>Note</p> <p>You'll be prompted to open a browser link and log in to your Azure account.</p> <ol> <li>A browser window will open automatically, select Work or school account and then select Continue.</li> <li>Use the Username and TAP (Temporary Access Pass) found in the top section of the Resources tab in the lab environment.</li> <li>Select Yes, all apps</li> <li>Select Done</li> </ol> </li> <li> <p>Then select the Default subscription from the command line, by selecting Enter.</p> </li> <li> <p>Leave the terminal window open for the next steps.</p> </li> </ol>"},{"location":"includes/en/introduction-event/#authenticate-with-the-devtunnel-service","title":"Authenticate with the DevTunnel Service","text":"<p>DevTunnel enables the Azure AI Agents Service to access your local MCP Server during the workshop.</p> <pre><code>devtunnel login\n</code></pre> <p>Note</p> <p>You will be prompted to use the account you used for <code>az login</code>. Select the account and continue.</p> <p>Leave the terminal window open for the next steps.</p>"},{"location":"includes/en/introduction-event/#open-the-workshop","title":"Open the Workshop","text":"<p>Follow these steps to open the workshop in Visual Studio Code:</p> PythonC# <p>The following command block updates the workshop repository, activates the Python virtual environment, and opens the project in VS Code.</p> <p>Copy and paste the following command block to the terminal and press Enter.</p> <pre><code>; cd $HOME\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol `\n; git pull `\n; .\\src\\python\\workshop\\.venv\\Scripts\\activate `\n; code .vscode\\python-workspace.code-workspace\n</code></pre> <p>When the project opens in VS Code, two notifications appear in the bottom right corner. Click \u2716 to close both notifications.</p> VS CodeVisual Studio 2022 <ol> <li> <p>Open the workshop in Visual Studio Code. From the terminal window, run the following command:</p> <pre><code>; cd $HOME\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol `\n; git pull `\n;code .vscode\\csharp-workspace.code-workspace\n</code></pre> </li> </ol> <p>When the project opens in VS Code, a notification will appear in the bottom right corner to install the C# extension. Click Install to install the C# extension, as this will provide the necessary features for C# development.</p> <ol> <li> <p>Open the workshop in Visual Studio 2022. From the terminal window, run the following command:</p> <pre><code>; git pull `\n;cd $HOME; start .\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol\\src\\csharp\\McpAgentWorkshop.slnx\n</code></pre> <p>You may be asked what program to open the solution with. Select Visual Studio 2022.</p> </li> </ol>"},{"location":"includes/en/introduction-event/#project-structure","title":"Project Structure","text":"PythonC# <p>Familiarize yourself with the key folders and files in the workspace you\u2019ll be working with throughout the workshop.</p>"},{"location":"includes/en/introduction-event/#the-workshop-folder","title":"The \"workshop\" folder","text":"<ul> <li> <p>The app.py file: The entry point for the app, containing its main logic.</p> <p>Note the INSTRUCTIONS_FILE variable\u2014it sets which instructions file the agent uses. You will update this variable in a later lab.</p> </li> <li> <p>The resources.txt file: Contains the resources used by the agent app.</p> </li> <li>The .env file: Contains the environment variables used by the agent app.</li> </ul>"},{"location":"includes/en/introduction-event/#the-mcp_server-folder","title":"The \"mcp_server\" folder","text":"<ul> <li>The sales_analysis.py file: The MCP Server with tools for sales analysis.</li> </ul>"},{"location":"includes/en/introduction-event/#the-sharedinstructions-folder","title":"The \"shared/instructions\" folder","text":"<ul> <li>The instructions folder: Contains the instructions passed to the LLM.</li> </ul>"},{"location":"includes/en/introduction-event/#project-structure_1","title":"Project Structure","text":"<p>The project uses Aspire to simplify building the agent application, managing the MCP server, and orchestrating all the external dependencies. The solution is comprised for four projects, all prefixed with <code>McpAgentWorkshop</code>:</p> <ul> <li><code>AppHost</code>: The Aspire orchestrator, and launch project for the workshop.</li> <li><code>McpServer</code>: The MCP server project.</li> <li><code>ServiceDefaults</code>: Default configuration for services, such as logging and telemetry.</li> <li><code>WorkshopApi</code>: The Agent API for the workshop. The core application logic is in the <code>AgentService</code> class.</li> </ul> <p>In addition to the .NET projects in the solution, there is a <code>shared</code> folder (visible as a Solution Folder, and via the file explorer), which contains:</p> <ul> <li><code>instructions</code>: The instructions passed to the LLM.</li> <li><code>scripts</code>: Helper shell scripts for various tasks, these will be referred to when required.</li> <li><code>webapp</code>: The front-end client application. Note: This is a Python application, which Aspire will manage the lifecycle of.</li> </ul> <p></p>"},{"location":"includes/en/introduction-self-guided/","title":"Introduction self guided","text":""},{"location":"includes/en/introduction-self-guided/#self-guided-learners","title":"Self-Guided Learners","text":"<p>These instructions are for self-guided learners who do not have access to a pre-configured lab environment. Follow these steps to set up your environment and begin the workshop.</p>"},{"location":"includes/en/introduction-self-guided/#introduction","title":"Introduction","text":"<p>This workshop is designed to teach you about the Azure AI Agents Service and the associated SDK. It consists of multiple labs, each highlighting a specific feature of the Azure AI Agents Service. The labs are meant to be completed in order, as each one builds on the knowledge and work from the previous lab.</p>"},{"location":"includes/en/introduction-self-guided/#prerequisites","title":"Prerequisites","text":"<ol> <li>Access to an Azure subscription. If you don't have an Azure subscription, create a free account before you begin.</li> <li>You need a GitHub account. If you don\u2019t have one, create it at GitHub.</li> </ol>"},{"location":"includes/en/introduction-self-guided/#select-workshop-programming-language","title":"Select Workshop Programming Language","text":"<p>The workshop is available in both Python and C#. Use the language selector tabs to choose your preferred language. Note, don't switch languages mid-workshop.</p> <p>Select the tab for your preferred language:</p> PythonC# <p>The default language for the workshop is set to Python.</p> <p>The default language for the workshop is set to C#.</p> <p>The C#/.NET version of this workshop is in beta and has known stability issues.</p> <p>Ensure you read the troubleshooting guide section BEFORE starting the workshop. Else, select the Python version of the workshop.</p>"},{"location":"includes/en/introduction-self-guided/#open-the-workshop","title":"Open the Workshop","text":"<p>Preferred: GitHub Codespaces, which provides a preconfigured environment with all required tools. Alternatively, run locally with a Visual Studio Code Dev Container and Docker. Use the tabs below to choose.</p> <p>Tip</p> <p>Codespaces or Dev Container builds take about 5 minutes. Start the build, then continue reading while it completes.</p> GitHub CodespacesVS Code Dev Container <p>Select Open in GitHub Codespaces to open the project in GitHub Codespaces.</p> <p></p> <ol> <li> <p>Ensure you have the following installed on your local machine:</p> <ul> <li>Docker</li> <li>Visual Studio Code</li> <li>The Remote - Containers extension</li> </ul> </li> <li> <p>Clone the repository to your local machine:</p> <pre><code>git clone https://github.com/microsoft/aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol.git\n</code></pre> </li> <li> <p>Open the cloned repository in Visual Studio Code.</p> </li> <li>When prompted, select Reopen in Container to open the project in a Dev Container.</li> </ol>"},{"location":"includes/en/introduction-self-guided/#authenticate-azure-services","title":"Authenticate Azure Services","text":"<p>Danger</p> <p>Before proceeding, ensure that your Codespace or Dev Container is fully built and ready.</p>"},{"location":"includes/en/introduction-self-guided/#authenticate-with-devtunnel","title":"Authenticate with DevTunnel","text":"<p>DevTunnel provides a port forwarding service that will be used in the workshop to allow the Azure AI Agents Service to access the MCP Server you'll be running on your local development environment. Follow these steps to authenticate:</p> <ol> <li>From VS Code, press Ctrl + Shift + ` to open a new terminal window. Then run the following command:</li> <li>Run the following command to authenticate with DevTunnel:</li> </ol> <pre><code>devtunnel login\n</code></pre> <ol> <li> <p>Follow these steps to authenticate:</p> </li> <li> <p>Copy the Authentication Code to the clipboard.</p> </li> <li>Press and hold the ctrl or cmd key.</li> <li>Select the authentication URL to open it in your browser.</li> <li>Paste the code and click Next.</li> <li>Pick an account and sign in.</li> <li>Select Continue</li> <li> <p>Return to the terminal window in VS Code.</p> </li> <li> <p>Leave the terminal window open for the next steps.</p> </li> </ol>"},{"location":"includes/en/introduction-self-guided/#authenticate-with-azure","title":"Authenticate with Azure","text":"<p>Authenticate with Azure to allow the agent app access to the Azure AI Agents Service and models. Follow these steps:</p> <ol> <li> <p>Then run the following command:</p> <pre><code>az login --use-device-code\n</code></pre> <p>Warning</p> <p>If you have multiple Azure tenants, specify the correct one using:</p> <pre><code>az login --use-device-code --tenant &lt;tenant_id&gt;\n</code></pre> </li> <li> <p>Follow these steps to authenticate:</p> <ol> <li>Copy the Authentication Code to the clipboard.</li> <li>Press and hold the ctrl or cmd key.</li> <li>Select the authentication URL to open it in your browser.</li> <li>Paste the code and click Next.</li> <li>Pick an account and sign in.</li> <li>Select Continue</li> <li>Return to the terminal window in VS Code.</li> <li>If prompted, select a subscription.</li> </ol> </li> <li> <p>Leave the terminal window open for the next steps.</p> </li> </ol>"},{"location":"includes/en/introduction-self-guided/#deploy-the-azure-resources","title":"Deploy the Azure Resources","text":"<p>This deployment creates the following resources in your Azure subscription.</p> <ul> <li>A resource group named rg-zava-agent-wks-nnnnnnnn</li> <li>An Microsoft Foundry hub named fdy-zava-agent-wks-nnnnnnnn</li> <li>An Microsoft Foundry project named prj-zava-agent-wks-nnnnnnnn</li> <li>Two models are deployed: gpt-4o and text-embedding-3-small. See pricing.</li> <li>Application Insights resource named appi-zava-agent-wks-nnnnnnnn. See pricing</li> <li>To keep workshop costs low, PostgreSQL runs in a local container within your Codespace or Dev Container rather than as a cloud service. See Azure Database for PostgreSQL Flexible Server to learn about options for a managed PostgreSQL service.</li> </ul> <p>Ensure you have at least the following model quotas\" - 120K TPM quota for the gpt-4o Global Standard SKU, as the agent makes frequent model calls. - 50K TPM for the text-embedding-3-small model Global Standard SKU. - Check your quota in the AI Foundry Management Center.</p>"},{"location":"includes/en/introduction-self-guided/#automated-deployment","title":"Automated Deployment","text":"<p>Run the following bash script to automate the deployment of the resources required for the workshop. The <code>deploy.sh</code> script deploys resources to the <code>westus</code> region by default. To run the script:</p> <pre><code>cd infra &amp;&amp; ./deploy.sh\n</code></pre>"},{"location":"includes/en/introduction-self-guided/#workshop-configuration","title":"Workshop Configuration","text":"PythonC# <p>The script securely stores project variables using the Secret Manager for ASP.NET Core development secrets.</p> <p>You can view the secrets by running the following command after you have opened the C# workspace in VS Code:</p> <pre><code>dotnet user-secrets list\n</code></pre>"},{"location":"includes/en/introduction-self-guided/#azure-resource-configuration","title":"Azure Resource Configuration","text":"<p>The deploy script generates the .env file, which contains the project and model endpoints, model deployment names, and Application Insights connection string. The .env file will automatically be saved in the <code>src/python/workshop</code> folder.</p> <p>Your .env file will look similar to the following, updated with your values:</p> <pre><code>PROJECT_ENDPOINT=\"&lt;your_project_endpoint&gt;\"\nGPT_MODEL_DEPLOYMENT_NAME=\"&lt;your_model_deployment_name&gt;\"\nEMBEDDING_MODEL_DEPLOYMENT_NAME=\"&lt;your_embedding_model_deployment_name&gt;\"\nAPPLICATIONINSIGHTS_CONNECTION_STRING=\"&lt;your_application_insights_connection_string&gt;\"\nAZURE_TRACING_GEN_AI_CONTENT_RECORDING_ENABLED=\"true\"\nAZURE_OPENAI_ENDPOINT=\"&lt;your_azure_openai_endpoint&gt;\"\n</code></pre>"},{"location":"includes/en/introduction-self-guided/#azure-resource-names","title":"Azure Resource Names","text":"<p>You'll also find a file named <code>resources.txt</code> in the <code>workshop</code> folder. This file contains the names of the Azure resources created during the deployment.</p> <p>I'll look similar to the following:</p> <pre><code>Microsoft Foundry Resources:\n- Resource Group Name: rg-zava-agent-wks-nnnnnnnn\n- AI Project Name: prj-zava-agent-wks-nnnnnnnn\n- Foundry Resource Name: fdy-zava-agent-wks-nnnnnnnn\n- Application Insights Name: appi-zava-agent-wks-nnnnnnnn\n</code></pre>"},{"location":"includes/en/introduction-self-guided/#open-the-vs-code-workspace","title":"Open the VS Code Workspace","text":"<p>There are two VS Code workspaces in the workshop, one for Python and one for C#. The workspace contains the source code and all the files needed to complete the labs for each language. Choose the workspace that matches the language you want to work with.</p> PythonC# <ol> <li> <p>Copy the following path to the clipboard:</p> <pre><code>/workspace/.vscode/python-workspace.code-workspace\n</code></pre> </li> <li> <p>From the VS Code menu, select File then Open Workspace from File.</p> </li> <li>Replace and paste the copied path name and select OK.</li> </ol> <ol> <li>In Visual Studio Code, go to File &gt; Open Workspace from File.</li> <li> <p>Replace the default path with the following:</p> <pre><code>/workspace/.vscode/csharp-workspace.code-workspace\n</code></pre> </li> <li> <p>Select OK to open the workspace.</p> </li> </ol>"},{"location":"includes/en/introduction-self-guided/#project-structure","title":"Project Structure","text":"<p>Familiarize yourself with the key folders and files in the workspace you\u2019ll be working with throughout the workshop.</p>"},{"location":"includes/en/introduction-self-guided/#the-workshop-folder","title":"The \"workshop\" folder","text":"<ul> <li> <p>The app.py file: The entry point for the app, containing its main logic.</p> <p>Note the INSTRUCTIONS_FILE variable\u2014it sets which instructions file the agent uses. You will update this variable in a later lab.</p> </li> <li> <p>The resources.txt file: Contains the resources used by the agent app.</p> </li> <li>The .env file: Contains the environment variables used by the agent app.</li> </ul>"},{"location":"includes/en/introduction-self-guided/#the-mcp_server-folder","title":"The \"mcp_server\" folder","text":"<ul> <li>The sales_analysis.py file: The MCP Server with tools for sales analysis.</li> </ul>"},{"location":"includes/en/introduction-self-guided/#the-sharedinstructions-folder","title":"The \"shared/instructions\" folder","text":"<ul> <li>The instructions folder: Contains the instructions passed to the LLM.</li> </ul>"},{"location":"includes/en/introduction-self-guided/#project-structure_1","title":"Project Structure","text":"<p>The project uses Aspire to simplify building the agent application, managing the MCP server, and orchestrating all the external dependencies. The solution is comprised for four projects, all prefixed with <code>McpAgentWorkshop</code>:</p> <ul> <li><code>AppHost</code>: The Aspire orchestrator, and launch project for the workshop.</li> <li><code>McpServer</code>: The MCP server project.</li> <li><code>ServiceDefaults</code>: Default configuration for services, such as logging and telemetry.</li> <li><code>WorkshopApi</code>: The Agent API for the workshop. The core application logic is in the <code>AgentService</code> class.</li> </ul> <p>In addition to the .NET projects in the solution, there is a <code>shared</code> folder (visible as a Solution Folder, and via the file explorer), which contains:</p> <ul> <li><code>instructions</code>: The instructions passed to the LLM.</li> <li><code>scripts</code>: Helper shell scripts for various tasks, these will be referred to when required.</li> <li><code>webapp</code>: The front-end client application. Note: This is a Python application, which Aspire will manage the lifecycle of.</li> </ul> <p></p>"},{"location":"includes/en/lab-6-finishing-up-event/","title":"Lab 6 finishing up event","text":"<p>That's all for the lab portion of this workshop. Read on for key takeaways and additional resources, but first let's make it easy for you to retrieve and re-use this workshop material back home.</p>"},{"location":"includes/en/lab-6-finishing-up-event/#star-the-github-repository","title":"Star the GitHub Repository","text":"<p>If you have a GitHub account, you can \"star\" this repository to make it easy for you to find again in the future.</p> <ul> <li>Visit the GitHub repository at: github.com/gloveboxes/Unlock-your-agents-potential-with-Model-Context-Protocol-PostgreSQL-Workshop</li> <li>Log into your GitHub account</li> <li>Click Star in the top right</li> </ul> <p>To find this workshop again in the future, click your GitHub profile picture in the top-right and click Your stars.</p>"},{"location":"includes/en/lab-6-finishing-up-self-guided/","title":"Lab 6 finishing up self guided","text":"<p>That's all for the lab portion of this workshop. Read on for key takeaways and additional resources, but first let's tidy up.</p>"},{"location":"includes/en/lab-6-finishing-up-self-guided/#clean-up-github-codespaces","title":"Clean up GitHub CodeSpaces","text":""},{"location":"includes/en/lab-6-finishing-up-self-guided/#save-your-changes-in-github","title":"Save your changes in GitHub","text":"<p>You can save any changes you have made to files during the workshop to your personal GitHub repository as a fork. This makes it easy to re-run the workshop with your customizations, and the workshop content will always remain available in your GitHub account.</p> <ul> <li>In VS Code, click the \"Source Control\" tool in the left pane. It's the third one down, or you can use the keyboard shortcut Control-Shift-G.</li> <li>In the field under \"Source Control\" enter <code>Agents Lab</code> and click \u2714\ufe0fCommit.</li> <li>Click Yes to the prompt \"There are no staged changes to commit.\"</li> <li>Click Sync Changes.</li> <li>Click OK to the prompt \"This action will pull and push commits from and to origin/main\".</li> </ul> <p>You now have your own copy of the workshop with your customizations in your GitHub account.</p>"},{"location":"includes/en/lab-6-finishing-up-self-guided/#delete-your-github-codespace","title":"Delete your GitHub codespace","text":"<p>Your GitHub CodeSpace will shut down by itself, but it will consume a small amount of your compute and storage allotment until it is deleted. (You can see your usage in your GitHub Billing summary.) You can safely delete the codespace now, as follows:</p> <ul> <li>Visit github.com/codespaces</li> <li>At the bottom of the page, click the \"...\" menu to the right of your active codespace</li> <li>Click Delete</li> <li>At the \"Are you sure?\" prompt, click Delete.</li> </ul>"},{"location":"includes/en/lab-6-finishing-up-self-guided/#delete-your-azure-resources","title":"Delete your Azure resources","text":"<p>Most of the resources you created in this lab are pay-as-you-go resources, meaning you won't be charged any more for using them. However, some storage services used by AI Foundry may incur small ongoing charges. To delete all resources, follow these steps:</p> <ul> <li>Visit the Azure Portal</li> <li>Click Resource groups</li> <li>Click on your resource group <code>rg-agent-workshop-****</code></li> <li>Click Delete Resource group</li> <li>In the field at the bottom \"Enter resource group name to confirm deletion\" enter <code>rg-agent-workshop-****</code></li> <li>Click Delete</li> <li>At the Delete Confirmation prompt, click \"Delete\"</li> </ul>"},{"location":"includes/es/introduction-event-python/","title":"Introduction event python","text":""},{"location":"includes/es/introduction-event-python/#asistentes-a-eventos-de-microsoft","title":"Asistentes a Eventos de Microsoft","text":"<p>Las instrucciones en esta p\u00e1gina asumen que est\u00e1s asistiendo a un evento y tienes acceso a un entorno de laboratorio preconfigurado. Este entorno proporciona una suscripci\u00f3n de Azure con todas las herramientas y recursos necesarios para completar el taller.</p>"},{"location":"includes/es/introduction-event-python/#introduccion","title":"Introducci\u00f3n","text":"<p>Este taller est\u00e1 dise\u00f1ado para ense\u00f1arte sobre el Servicio de Agentes de Azure AI y el SDK asociado. Consiste en m\u00faltiples laboratorios, cada uno destacando una caracter\u00edstica espec\u00edfica del Servicio de Agentes de Azure AI. Los laboratorios est\u00e1n destinados a completarse en orden, ya que cada uno se basa en el conocimiento y trabajo del laboratorio anterior.</p>"},{"location":"includes/es/introduction-event-python/#seleccionar-lenguaje-de-programacion-del-taller","title":"Seleccionar Lenguaje de Programaci\u00f3n del Taller","text":"<p>El taller est\u00e1 disponible tanto en Python como en C#. Por favor aseg\u00farate de seleccionar el lenguaje que se ajuste a la sala del laboratorio o preferencia usando las pesta\u00f1as de selector de lenguaje. Nota, no cambies de lenguaje a mitad del taller.</p> <p>Selecciona la pesta\u00f1a de lenguaje que coincida con tu sala de laboratorio:</p> Python <p>El lenguaje por defecto para el taller est\u00e1 establecido a Python.</p>"},{"location":"includes/es/introduction-event-python/#autenticarse-con-azure","title":"Autenticarse con Azure","text":"<p>Necesitas autenticarte con Azure para que la aplicaci\u00f3n del agente pueda acceder al Servicio de Agentes de Azure AI y a los modelos. Sigue estos pasos:</p> <ol> <li> <p>Abre una ventana de terminal. La aplicaci\u00f3n de terminal est\u00e1 fijada a la barra de tareas de Windows 11.</p> <p></p> </li> <li> <p>Ejecuta el siguiente comando para autenticarte con Azure:</p> <pre><code>az login\n</code></pre> <p>Note</p> <p>Se te pedir\u00e1 que abras un enlace del navegador e inicies sesi\u00f3n en tu cuenta de Azure.</p> <ol> <li>Una ventana del navegador se abrir\u00e1 autom\u00e1ticamente, selecciona Work or school account y luego selecciona Continue.</li> <li>Usa el Username y TAP (Temporary Access Pass) que se encuentran en la secci\u00f3n superior de la pesta\u00f1a Resources en el entorno del laboratorio.</li> <li>Selecciona Yes, all apps</li> <li>Selecciona Done</li> </ol> </li> <li> <p>Luego selecciona la suscripci\u00f3n Default desde la l\u00ednea de comandos, seleccionando Enter.</p> </li> <li> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p> </li> </ol>"},{"location":"includes/es/introduction-event-python/#autenticarse-con-el-servicio-devtunnel","title":"Autenticarse con el Servicio DevTunnel","text":"<p>DevTunnel permite al Servicio de Agentes de Azure AI acceder a tu Servidor MCP local durante el taller.</p> <pre><code>devtunnel login\n</code></pre> <p>Note</p> <p>Se te pedir\u00e1 usar la cuenta que usaste para <code>az login</code>. Selecciona la cuenta y contin\u00faa.</p> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p>"},{"location":"includes/es/introduction-event-python/#abrir-el-taller","title":"Abrir el Taller","text":"<p>Sigue estos pasos para abrir el taller en Visual Studio Code:</p> Python <p>El siguiente bloque de comandos actualiza el repositorio del taller, activa el entorno virtual de Python y abre el proyecto en VS Code.</p> <p>Copia y pega el siguiente bloque de comandos al terminal y presiona Enter.</p> <pre><code>; cd $HOME\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol `\n; git pull `\n; .\\src\\python\\workshop\\.venv\\Scripts\\activate `\n; code .vscode\\python-workspace.code-workspace\n</code></pre> <p>Cuando el proyecto se abre en VS Code, aparecen dos notificaciones en la esquina inferior derecha. Haz clic en \u2716 para cerrar ambas notificaciones.</p>"},{"location":"includes/es/introduction-event-python/#estructura-del-proyecto","title":"Estructura del Proyecto","text":"Python <p>Aseg\u00farate de familiarizarte con las subcarpetas y archivos clave con los que trabajar\u00e1s durante todo el taller.</p> <ol> <li>El archivo app.py: El punto de entrada para la aplicaci\u00f3n, conteniendo su l\u00f3gica principal.</li> <li>El archivo resources.txt: Los recursos de Microsoft Foundry creados para ti en este laboratorio.</li> <li>El archivo sales_analysis.py: La l\u00f3gica de funci\u00f3n implementada en el servidor MCP para ejecutar consultas SQL din\u00e1micas contra la base de datos SQLite.</li> <li>El archivo stream_event_handler.py: Contiene la l\u00f3gica del manejador de eventos para transmisi\u00f3n de tokens.</li> <li>La carpeta shared/instructions: Contiene las instrucciones del agente.</li> </ol> <p></p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"includes/es/introduction-event/","title":"Introduction event","text":""},{"location":"includes/es/introduction-event/#asistentes-a-eventos-de-microsoft","title":"Asistentes a Eventos de Microsoft","text":"<p>Las instrucciones en esta p\u00e1gina asumen que est\u00e1s asistiendo a un evento y tienes acceso a un entorno de laboratorio preconfigurado. Este entorno proporciona una suscripci\u00f3n de Azure con todas las herramientas y recursos necesarios para completar el taller.</p>"},{"location":"includes/es/introduction-event/#introduccion","title":"Introducci\u00f3n","text":"<p>Este taller est\u00e1 dise\u00f1ado para ense\u00f1arte sobre el Servicio de Agentes de Azure AI y el SDK asociado. Consiste en m\u00faltiples laboratorios, cada uno destacando una caracter\u00edstica espec\u00edfica del Servicio de Agentes de Azure AI. Los laboratorios est\u00e1n destinados a completarse en orden, ya que cada uno se basa en el conocimiento y trabajo del laboratorio anterior.</p>"},{"location":"includes/es/introduction-event/#recursos-de-nube-del-taller","title":"Recursos de Nube del Taller","text":"<p>Los siguientes recursos est\u00e1n pre-provisionados en tu suscripci\u00f3n de Azure del laboratorio:</p> <ul> <li>Un grupo de recursos llamado rg-zava-agent-wks-nnnnnnnn</li> <li>Un hub de Microsoft Foundry llamado fdy-zava-agent-wks-nnnnnnnn</li> <li>Un proyecto de Microsoft Foundry llamado prj-zava-agent-wks-nnnnnnnn</li> <li>Dos modelos est\u00e1n desplegados: gpt-4o y text-embedding-3-small. Ver precios.</li> <li>Base de datos de Azure Database for PostgreSQL Flexible Server (B1ms Burstable 32GB) llamada pg-zava-agent-wks-nnnnnnnn. Ver precios</li> <li>Recurso Application Insights llamado appi-zava-agent-wks-nnnnnnnn. Ver precios</li> </ul>"},{"location":"includes/es/introduction-event/#seleccionar-lenguaje-de-programacion-del-taller","title":"Seleccionar Lenguaje de Programaci\u00f3n del Taller","text":"<p>El taller est\u00e1 disponible tanto en Python como en C#. Por favor aseg\u00farate de seleccionar el lenguaje que se ajuste a la sala del laboratorio o preferencia usando las pesta\u00f1as de selector de lenguaje. Nota, no cambies de lenguaje a mitad del taller.</p> <p>Selecciona la pesta\u00f1a de lenguaje que coincida con tu sala de laboratorio:</p> PythonC# <p>El lenguaje por defecto para el taller est\u00e1 establecido a Python.</p> <p>El lenguaje por defecto para el taller est\u00e1 establecido a C#.</p> <p>La versi\u00f3n C#/.NET de este taller est\u00e1 en beta y tiene problemas de estabilidad conocidos.</p> <p>Aseg\u00farate de leer la secci\u00f3n de gu\u00eda de soluci\u00f3n de problemas ANTES de comenzar el taller. De lo contrario, selecciona la versi\u00f3n de Python del taller.</p>"},{"location":"includes/es/introduction-event/#autenticarse-con-azure","title":"Autenticarse con Azure","text":"<p>Necesitas autenticarte con Azure para que la aplicaci\u00f3n del agente pueda acceder al Servicio de Agentes de Azure AI y a los modelos. Sigue estos pasos:</p> <ol> <li> <p>Abre una ventana de terminal. La aplicaci\u00f3n de terminal est\u00e1 fijada a la barra de tareas de Windows 11.</p> <p></p> </li> <li> <p>Ejecuta el siguiente comando para autenticarte con Azure:</p> <pre><code>az login\n</code></pre> <p>Note</p> <p>Se te pedir\u00e1 que abras un enlace del navegador e inicies sesi\u00f3n en tu cuenta de Azure.</p> <ol> <li>Una ventana del navegador se abrir\u00e1 autom\u00e1ticamente, selecciona Work or school account y luego selecciona Continue.</li> <li>Usa el Username y TAP (Temporary Access Pass) que se encuentran en la secci\u00f3n superior de la pesta\u00f1a Resources en el entorno del laboratorio.</li> <li>Selecciona Yes, all apps</li> <li>Selecciona Done</li> </ol> </li> <li> <p>Luego selecciona la suscripci\u00f3n Default desde la l\u00ednea de comandos, seleccionando Enter.</p> </li> <li> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p> </li> </ol>"},{"location":"includes/es/introduction-event/#autenticarse-con-el-servicio-devtunnel","title":"Autenticarse con el Servicio DevTunnel","text":"<p>DevTunnel permite al Servicio de Agentes de Azure AI acceder a tu Servidor MCP local durante el taller.</p> <pre><code>devtunnel login\n</code></pre> <p>Note</p> <p>Se te pedir\u00e1 usar la cuenta que usaste para <code>az login</code>. Selecciona la cuenta y contin\u00faa.</p> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p>"},{"location":"includes/es/introduction-event/#abrir-el-taller","title":"Abrir el Taller","text":"<p>Sigue estos pasos para abrir el taller en Visual Studio Code:</p> PythonC# <p>El siguiente bloque de comandos actualiza el repositorio del taller, activa el entorno virtual de Python y abre el proyecto en VS Code.</p> <p>Copia y pega el siguiente bloque de comandos al terminal y presiona Enter.</p> <pre><code>; cd $HOME\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol `\n; git pull `\n; .\\src\\python\\workshop\\.venv\\Scripts\\activate `\n; code .vscode\\python-workspace.code-workspace\n</code></pre> <p>Cuando el proyecto se abre en VS Code, aparecen dos notificaciones en la esquina inferior derecha. Haz clic en \u2716 para cerrar ambas notificaciones.</p> VS CodeVisual Studio 2022 <ol> <li> <p>Abre el taller en Visual Studio Code. Desde la ventana de terminal, ejecuta el siguiente comando:</p> <pre><code>; cd $HOME\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol `\n; git pull `\n;code .vscode\\csharp-workspace.code-workspace\n</code></pre> </li> </ol> <p>Cuando el proyecto se abre en VS Code, aparecer\u00e1 una notificaci\u00f3n en la esquina inferior derecha para instalar la extensi\u00f3n de C#. Haz clic en Install para instalar la extensi\u00f3n de C#, ya que esto proporcionar\u00e1 las caracter\u00edsticas necesarias para el desarrollo en C#.</p> <ol> <li> <p>Abre el taller en Visual Studio 2022. Desde la ventana de terminal, ejecuta el siguiente comando:</p> <pre><code>; git pull `\n;cd $HOME; start .\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol\\src\\csharp\\McpAgentWorkshop.slnx\n</code></pre> <p>Es posible que se te pregunte con qu\u00e9 programa abrir la soluci\u00f3n. Selecciona Visual Studio 2022.</p> </li> </ol>"},{"location":"includes/es/introduction-event/#estructura-del-proyecto","title":"Estructura del Proyecto","text":"PythonC# <p>Familiar\u00edzate con las carpetas y archivos clave en el espacio de trabajo con los que trabajar\u00e1s durante todo el taller.</p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"includes/es/introduction-event/#la-carpeta-workshop","title":"La carpeta \"workshop\"","text":"<ul> <li> <p>El archivo app.py: El punto de entrada para la aplicaci\u00f3n, conteniendo su l\u00f3gica principal.</p> <p>Nota la variable INSTRUCTIONS_FILE\u2014establece qu\u00e9 archivo de instrucciones usa el agente. Actualizar\u00e1s esta variable en un laboratorio posterior.</p> </li> <li> <p>El archivo resources.txt: Contiene los recursos utilizados por la aplicaci\u00f3n del agente.</p> </li> <li>El archivo .env: Contiene las variables de entorno utilizadas por la aplicaci\u00f3n del agente.</li> </ul>"},{"location":"includes/es/introduction-event/#la-carpeta-mcp_server","title":"La carpeta \"mcp_server\"","text":"<ul> <li>El archivo sales_analysis.py: El Servidor MCP con herramientas para an\u00e1lisis de ventas.</li> </ul>"},{"location":"includes/es/introduction-event/#la-carpeta-sharedinstructions","title":"La carpeta \"shared/instructions\"","text":"<ul> <li>La carpeta instructions: Contiene las instrucciones pasadas al LLM.</li> </ul>"},{"location":"includes/es/introduction-event/#estructura-del-proyecto_1","title":"Estructura del Proyecto","text":"<p>El proyecto usa Aspire para simplificar la construcci\u00f3n de la aplicaci\u00f3n del agente, gestionar el servidor MCP y orquestar todas las dependencias externas. La soluci\u00f3n est\u00e1 compuesta por cuatro proyectos, todos con el prefijo <code>McpAgentWorkshop</code>:</p> <ul> <li><code>AppHost</code>: El orquestador de Aspire, y proyecto de lanzamiento para el taller.</li> <li><code>McpServer</code>: El proyecto del servidor MCP.</li> <li><code>ServiceDefaults</code>: Configuraci\u00f3n predeterminada para servicios, como registro y telemetr\u00eda.</li> <li><code>WorkshopApi</code>: La API del Agente para el taller. La l\u00f3gica principal de la aplicaci\u00f3n est\u00e1 en la clase <code>AgentService</code>.</li> </ul> <p>Adem\u00e1s de los proyectos .NET en la soluci\u00f3n, hay una carpeta <code>shared</code> (visible como una Carpeta de Soluci\u00f3n, y a trav\u00e9s del explorador de archivos), que contiene:</p> <ul> <li><code>instructions</code>: Las instrucciones pasadas al LLM.</li> <li><code>scripts</code>: Scripts shell auxiliares para varias tareas, se har\u00e1 referencia a estos cuando sea necesario.</li> <li><code>webapp</code>: La aplicaci\u00f3n cliente front-end. Nota: Esta es una aplicaci\u00f3n Python, cuyo ciclo de vida ser\u00e1 gestionado por Aspire.</li> </ul> <p></p>"},{"location":"includes/es/introduction-self-guided/","title":"Introduction self guided","text":""},{"location":"includes/es/introduction-self-guided/#estudiantes-autoguiados","title":"Estudiantes Autoguiados","text":"<p>Estas instrucciones son para estudiantes autoguiados que no tienen acceso a un entorno de laboratorio preconfigurado. Sigue estos pasos para configurar tu entorno y comenzar el taller.</p>"},{"location":"includes/es/introduction-self-guided/#introduccion","title":"Introducci\u00f3n","text":"<p>Este taller est\u00e1 dise\u00f1ado para ense\u00f1arte sobre el Servicio de Agentes de Azure AI y el SDK asociado. Consiste en m\u00faltiples laboratorios, cada uno destacando una caracter\u00edstica espec\u00edfica del Servicio de Agentes de Azure AI. Los laboratorios est\u00e1n destinados a completarse en orden, ya que cada uno se basa en el conocimiento y trabajo del laboratorio anterior.</p>"},{"location":"includes/es/introduction-self-guided/#prerrequisitos","title":"Prerrequisitos","text":"<ol> <li>Acceso a una suscripci\u00f3n de Azure. Si no tienes una suscripci\u00f3n de Azure, crea una cuenta gratuita antes de comenzar.</li> <li>Necesitas una cuenta de GitHub. Si no tienes una, cr\u00e9ala en GitHub.</li> </ol>"},{"location":"includes/es/introduction-self-guided/#seleccionar-lenguaje-de-programacion-del-taller","title":"Seleccionar Lenguaje de Programaci\u00f3n del Taller","text":"<p>El taller est\u00e1 disponible tanto en Python como en C#. Usa las pesta\u00f1as de selector de lenguaje para elegir tu lenguaje preferido. Nota, no cambies de lenguaje a mitad del taller.</p> <p>Selecciona la pesta\u00f1a para tu lenguaje preferido:</p> PythonC# <p>El lenguaje por defecto para el taller est\u00e1 establecido a Python.</p> <p>El lenguaje por defecto para el taller est\u00e1 establecido a C#.</p> <p>La versi\u00f3n C#/.NET de este taller est\u00e1 en beta y tiene problemas de estabilidad conocidos.</p> <p>Aseg\u00farate de leer la secci\u00f3n de gu\u00eda de soluci\u00f3n de problemas ANTES de comenzar el taller. De lo contrario, selecciona la versi\u00f3n de Python del taller.</p>"},{"location":"includes/es/introduction-self-guided/#abrir-el-taller","title":"Abrir el Taller","text":"<p>Preferido: GitHub Codespaces, que proporciona un entorno preconfigurado con todas las herramientas requeridas. Alternativamente, ejecuta localmente con un Dev Container de Visual Studio Code y Docker. Usa las pesta\u00f1as a continuaci\u00f3n para elegir.</p> <p>Tip</p> <p>Las compilaciones de Codespaces o Dev Container toman aproximadamente 5 minutos. Inicia la compilaci\u00f3n, luego contin\u00faa leyendo mientras se completa.</p> GitHub CodespacesVS Code Dev Container <p>Selecciona Abrir en GitHub Codespaces para abrir el proyecto en GitHub Codespaces.</p> <p></p> <ol> <li> <p>Aseg\u00farate de tener lo siguiente instalado en tu m\u00e1quina local:</p> <ul> <li>Docker</li> <li>Visual Studio Code</li> <li>La extensi\u00f3n Remote - Containers</li> </ul> </li> <li> <p>Clona el repositorio en tu m\u00e1quina local:</p> <pre><code>git clone https://github.com/microsoft/aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol.git\n</code></pre> </li> <li> <p>Abre el repositorio clonado en Visual Studio Code.</p> </li> <li>Cuando se te solicite, selecciona Reabrir en Contenedor para abrir el proyecto en un Dev Container.</li> </ol>"},{"location":"includes/es/introduction-self-guided/#autenticar-servicios-de-azure","title":"Autenticar Servicios de Azure","text":"<p>Danger</p> <p>Antes de proceder, aseg\u00farate de que tu Codespace o Dev Container est\u00e9 completamente construido y listo.</p>"},{"location":"includes/es/introduction-self-guided/#autenticarse-con-devtunnel","title":"Autenticarse con DevTunnel","text":"<p>DevTunnel proporciona un servicio de reenv\u00edo de puertos que se usar\u00e1 en el taller para permitir al Servicio de Agentes de Azure AI acceder al Servidor MCP que ejecutar\u00e1s en tu entorno de desarrollo local. Sigue estos pasos para autenticarte:</p> <ol> <li>Desde VS Code, presiona Ctrl + Shift + ` para abrir una nueva ventana de terminal. Luego ejecuta el siguiente comando:</li> <li>Ejecuta el siguiente comando para autenticarte con DevTunnel:</li> </ol> <pre><code>devtunnel login\n</code></pre> <ol> <li> <p>Sigue estos pasos para autenticarte:</p> </li> <li> <p>Copia el C\u00f3digo de Autenticaci\u00f3n al portapapeles.</p> </li> <li>Mant\u00e9n presionada la tecla ctrl o cmd.</li> <li>Selecciona la URL de autenticaci\u00f3n para abrirla en tu navegador.</li> <li>Pega el c\u00f3digo y haz clic en Siguiente.</li> <li>Elige una cuenta e inicia sesi\u00f3n.</li> <li>Selecciona Continuar</li> <li> <p>Regresa a la ventana de terminal en VS Code.</p> </li> <li> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p> </li> </ol>"},{"location":"includes/es/introduction-self-guided/#autenticarse-con-azure","title":"Autenticarse con Azure","text":"<p>Aut\u00e9nticate con Azure para permitir que la aplicaci\u00f3n del agente acceda al Servicio de Agentes de Azure AI y a los modelos. Sigue estos pasos:</p> <ol> <li> <p>Luego ejecuta el siguiente comando:</p> <pre><code>az login --use-device-code\n</code></pre> <p>Warning</p> <p>Si tienes m\u00faltiples inquilinos de Azure, especifica el correcto usando:</p> <pre><code>az login --use-device-code --tenant &lt;tenant_id&gt;\n</code></pre> </li> <li> <p>Sigue estos pasos para autenticarte:</p> <ol> <li>Copia el C\u00f3digo de Autenticaci\u00f3n al portapapeles.</li> <li>Mant\u00e9n presionada la tecla ctrl o cmd.</li> <li>Selecciona la URL de autenticaci\u00f3n para abrirla en tu navegador.</li> <li>Pega el c\u00f3digo y haz clic en Siguiente.</li> <li>Elige una cuenta e inicia sesi\u00f3n.</li> <li>Selecciona Continuar</li> <li>Regresa a la ventana de terminal en VS Code.</li> <li>Si se te solicita, selecciona una suscripci\u00f3n.</li> </ol> </li> <li> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p> </li> </ol>"},{"location":"includes/es/introduction-self-guided/#desplegar-los-recursos-de-azure","title":"Desplegar los Recursos de Azure","text":"<p>Este despliegue crea los siguientes recursos en tu suscripci\u00f3n de Azure.</p> <ul> <li>Un grupo de recursos llamado rg-zava-agent-wks-nnnnnnnn</li> <li>Un hub de Microsoft Foundry llamado fdy-zava-agent-wks-nnnnnnnn</li> <li>Un proyecto de Microsoft Foundry llamado prj-zava-agent-wks-nnnnnnnn</li> <li>Dos modelos est\u00e1n desplegados: gpt-4o y text-embedding-3-small. Ver precios.</li> <li>Recurso Application Insights llamado appi-zava-agent-wks-nnnnnnnn. Ver precios</li> <li>Para mantener bajos los costos del taller, PostgreSQL se ejecuta en un contenedor local dentro de tu Codespace o Dev Container en lugar de como un servicio en la nube. Ve Azure Database for PostgreSQL Flexible Server para aprender sobre las opciones para un servicio PostgreSQL administrado.</li> </ul> <p>Aseg\u00farate de tener al menos las siguientes cuotas de modelo\" - Cuota de 120K TPM para el SKU Global Standard de gpt-4o, ya que el agente hace llamadas frecuentes al modelo. - 50K TPM para el modelo text-embedding-3-small SKU Global Standard. - Verifica tu cuota en el Centro de Gesti\u00f3n de AI Foundry.</p>"},{"location":"includes/es/introduction-self-guided/#despliegue-automatizado","title":"Despliegue Automatizado","text":"<p>Ejecuta el siguiente script bash para automatizar el despliegue de los recursos requeridos para el taller. El script <code>deploy.sh</code> despliega recursos en la regi\u00f3n <code>westus</code> por defecto. Para ejecutar el script:</p> <pre><code>cd infra &amp;&amp; ./deploy.sh\n</code></pre>"},{"location":"includes/es/introduction-self-guided/#configuracion-del-taller","title":"Configuraci\u00f3n del Taller","text":"PythonC# <p>El script almacena de forma segura las variables del proyecto usando el Secret Manager para secretos de desarrollo de ASP.NET Core.</p> <p>Puedes ver los secretos ejecutando el siguiente comando despu\u00e9s de haber abierto el espacio de trabajo de C# en VS Code:</p> <pre><code>dotnet user-secrets list\n</code></pre>"},{"location":"includes/es/introduction-self-guided/#configuracion-de-recursos-de-azure","title":"Configuraci\u00f3n de Recursos de Azure","text":"<p>El script de despliegue genera el archivo .env, que contiene los endpoints del proyecto y modelo, nombres de despliegue del modelo, y cadena de conexi\u00f3n de Application Insights. El archivo .env se guardar\u00e1 autom\u00e1ticamente en la carpeta <code>src/python/workshop</code>.</p> <p>Tu archivo .env se ver\u00e1 similar al siguiente, actualizado con tus valores:</p> <pre><code>PROJECT_ENDPOINT=\"&lt;tu_endpoint_del_proyecto&gt;\"\nGPT_MODEL_DEPLOYMENT_NAME=\"&lt;tu_nombre_despliegue_modelo&gt;\"\nEMBEDDING_MODEL_DEPLOYMENT_NAME=\"&lt;tu_nombre_despliegue_modelo_embedding&gt;\"\nAPPLICATIONINSIGHTS_CONNECTION_STRING=\"&lt;tu_cadena_conexion_application_insights&gt;\"\nAZURE_TRACING_GEN_AI_CONTENT_RECORDING_ENABLED=\"true\"\nAZURE_OPENAI_ENDPOINT=\"&lt;tu_endpoint_azure_openai&gt;\"\n</code></pre>"},{"location":"includes/es/introduction-self-guided/#nombres-de-recursos-de-azure","title":"Nombres de Recursos de Azure","text":"<p>Tambi\u00e9n encontrar\u00e1s un archivo llamado <code>resources.txt</code> en la carpeta <code>workshop</code>. Este archivo contiene los nombres de los recursos de Azure creados durante el despliegue.</p> <p>Se ver\u00e1 similar al siguiente:</p> <pre><code>Recursos de Microsoft Foundry:\n- Nombre del Grupo de Recursos: rg-zava-agent-wks-nnnnnnnn\n- Nombre del Proyecto AI: prj-zava-agent-wks-nnnnnnnn\n- Nombre del Recurso Foundry: fdy-zava-agent-wks-nnnnnnnn\n- Nombre de Application Insights: appi-zava-agent-wks-nnnnnnnn\n</code></pre>"},{"location":"includes/es/introduction-self-guided/#abrir-el-espacio-de-trabajo-de-vs-code","title":"Abrir el Espacio de Trabajo de VS Code","text":"<p>Hay dos espacios de trabajo de VS Code en el taller, uno para Python y uno para C#. El espacio de trabajo contiene el c\u00f3digo fuente y todos los archivos necesarios para completar los laboratorios para cada lenguaje. Elige el espacio de trabajo que coincida con el lenguaje con el que quieres trabajar.</p> PythonC# <ol> <li> <p>Copia la siguiente ruta al portapapeles:</p> <pre><code>/workspace/.vscode/python-workspace.code-workspace\n</code></pre> </li> <li> <p>Desde el men\u00fa de VS Code, selecciona Archivo luego Abrir Espacio de Trabajo desde Archivo.</p> </li> <li>Reemplaza y pega el nombre de ruta copiado y selecciona OK.</li> </ol> <ol> <li>En Visual Studio Code, ve a Archivo &gt; Abrir Espacio de Trabajo desde Archivo.</li> <li> <p>Reemplaza la ruta por defecto con la siguiente:</p> <pre><code>/workspace/.vscode/csharp-workspace.code-workspace\n</code></pre> </li> <li> <p>Selecciona OK para abrir el espacio de trabajo.</p> </li> </ol> <p>Traducido usando GitHub Copilot.</p>"},{"location":"includes/es/introduction-self-guided/#estructura-del-proyecto","title":"Estructura del Proyecto","text":"<p>Familiar\u00edzate con las carpetas y archivos clave en el espacio de trabajo con los que trabajar\u00e1s durante todo el taller.</p>"},{"location":"includes/es/introduction-self-guided/#la-carpeta-workshop","title":"La carpeta \"workshop\"","text":"<ul> <li> <p>El archivo app.py: El punto de entrada para la aplicaci\u00f3n, conteniendo su l\u00f3gica principal.</p> <p>Nota la variable INSTRUCTIONS_FILE\u2014establece qu\u00e9 archivo de instrucciones usa el agente. Actualizar\u00e1s esta variable en un laboratorio posterior.</p> </li> <li> <p>El archivo resources.txt: Contiene los recursos utilizados por la aplicaci\u00f3n del agente.</p> </li> <li>El archivo .env: Contiene las variables de entorno utilizadas por la aplicaci\u00f3n del agente.</li> </ul>"},{"location":"includes/es/introduction-self-guided/#la-carpeta-mcp_server","title":"La carpeta \"mcp_server\"","text":"<ul> <li>El archivo sales_analysis.py: El Servidor MCP con herramientas para an\u00e1lisis de ventas.</li> </ul>"},{"location":"includes/es/introduction-self-guided/#la-carpeta-sharedinstructions","title":"La carpeta \"shared/instructions\"","text":"<ul> <li>La carpeta instructions: Contiene las instrucciones pasadas al LLM.</li> </ul>"},{"location":"includes/es/introduction-self-guided/#estructura-del-proyecto_1","title":"Estructura del Proyecto","text":"<p>El proyecto usa Aspire para simplificar la construcci\u00f3n de la aplicaci\u00f3n del agente, gestionar el servidor MCP y orquestar todas las dependencias externas. La soluci\u00f3n est\u00e1 compuesta por cuatro proyectos, todos con el prefijo <code>McpAgentWorkshop</code>:</p> <ul> <li><code>AppHost</code>: El orquestador de Aspire, y proyecto de lanzamiento para el taller.</li> <li><code>McpServer</code>: El proyecto del servidor MCP.</li> <li><code>ServiceDefaults</code>: Configuraci\u00f3n predeterminada para servicios, como registro y telemetr\u00eda.</li> <li><code>WorkshopApi</code>: La API del Agente para el taller. La l\u00f3gica principal de la aplicaci\u00f3n est\u00e1 en la clase <code>AgentService</code>.</li> </ul> <p>Adem\u00e1s de los proyectos .NET en la soluci\u00f3n, hay una carpeta <code>shared</code> (visible como una Carpeta de Soluci\u00f3n, y a trav\u00e9s del explorador de archivos), que contiene:</p> <ul> <li><code>instructions</code>: Las instrucciones pasadas al LLM.</li> <li><code>scripts</code>: Scripts shell auxiliares para varias tareas, se har\u00e1 referencia a estos cuando sea necesario.</li> <li><code>webapp</code>: La aplicaci\u00f3n cliente front-end. Nota: Esta es una aplicaci\u00f3n Python, cuyo ciclo de vida ser\u00e1 gestionado por Aspire.</li> </ul> <p></p>"},{"location":"includes/es/lab-6-finishing-up-event/","title":"Lab 6 finishing up event","text":"<p>Eso es todo para la parte de laboratorio de este taller. Contin\u00faa leyendo para conocer los puntos clave y recursos adicionales, pero primero facilitemos que puedas recuperar y reutilizar este material del taller en casa.</p>"},{"location":"includes/es/lab-6-finishing-up-event/#marcar-con-estrella-el-repositorio-de-github","title":"Marcar con Estrella el Repositorio de GitHub","text":"<p>Si tienes una cuenta de GitHub, puedes \"marcar con estrella\" este repositorio para que sea f\u00e1cil encontrarlo nuevamente en el futuro.</p> <ul> <li>Visita el repositorio de GitHub en: github.com/gloveboxes/Unlock-your-agents-potential-with-Model-Context-Protocol-PostgreSQL-Workshop</li> <li>Inicia sesi\u00f3n en tu cuenta de GitHub</li> <li>Haz clic en Star en la parte superior derecha</li> </ul> <p>Para encontrar este taller nuevamente en el futuro, haz clic en tu foto de perfil de GitHub en la parte superior derecha y haz clic en Your stars.</p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"includes/es/lab-6-finishing-up-self-guided/","title":"Lab 6 finishing up self guided","text":"<p>Eso es todo para la parte de laboratorio de este taller. Contin\u00faa leyendo para conocer los puntos clave y recursos adicionales, pero primero vamos a limpiar.</p>"},{"location":"includes/es/lab-6-finishing-up-self-guided/#limpiar-github-codespaces","title":"Limpiar GitHub CodeSpaces","text":""},{"location":"includes/es/lab-6-finishing-up-self-guided/#guardar-tus-cambios-en-github","title":"Guardar tus cambios en GitHub","text":"<p>Puedes guardar cualquier cambio que hayas hecho a los archivos durante el taller en tu repositorio personal de GitHub como un fork. Esto facilita volver a ejecutar el taller con tus personalizaciones, y el contenido del taller siempre permanecer\u00e1 disponible en tu cuenta de GitHub.</p> <ul> <li>En VS Code, haz clic en la herramienta \"Control de C\u00f3digo Fuente\" en el panel izquierdo. Es la tercera hacia abajo, o puedes usar el atajo de teclado Control-Shift-G.</li> <li>En el campo bajo \"Control de C\u00f3digo Fuente\" ingresa <code>Laboratorio de Agentes</code> y haz clic en \u2714\ufe0fConfirmar.</li> <li>Haz clic en S\u00ed al aviso \"No hay cambios en etapa para confirmar.\"</li> <li>Haz clic en Sincronizar Cambios.</li> <li>Haz clic en OK al aviso \"Esta acci\u00f3n extraer\u00e1 y enviar\u00e1 confirmaciones desde y hacia origin/main\".</li> </ul> <p>Ahora tienes tu propia copia del taller con tus personalizaciones en tu cuenta de GitHub.</p>"},{"location":"includes/es/lab-6-finishing-up-self-guided/#eliminar-tu-codespace-de-github","title":"Eliminar tu codespace de GitHub","text":"<p>Tu GitHub CodeSpace se cerrar\u00e1 por s\u00ed mismo, pero consumir\u00e1 una peque\u00f1a cantidad de tu asignaci\u00f3n de c\u00f3mputo y almacenamiento hasta que sea eliminado. (Puedes ver tu uso en tu resumen de facturaci\u00f3n de GitHub.) Puedes eliminar el codespace de forma segura ahora, como sigue:</p> <ul> <li>Visita github.com/codespaces</li> <li>En la parte inferior de la p\u00e1gina, haz clic en el men\u00fa \"...\" a la derecha de tu codespace activo</li> <li>Haz clic en Eliminar</li> <li>En el aviso \"\u00bfEst\u00e1s seguro?\", haz clic en Eliminar.</li> </ul>"},{"location":"includes/es/lab-6-finishing-up-self-guided/#eliminar-tus-recursos-de-azure","title":"Eliminar tus recursos de Azure","text":"<p>La mayor\u00eda de los recursos que creaste en este laboratorio son recursos de pago por uso, lo que significa que no se te cobrar\u00e1 m\u00e1s por usarlos. Sin embargo, algunos servicios de almacenamiento utilizados por AI Foundry pueden incurrir en peque\u00f1os cargos continuos. Para eliminar todos los recursos, sigue estos pasos:</p> <ul> <li>Visita el Portal de Azure</li> <li>Haz clic en Grupos de recursos</li> <li>Haz clic en tu grupo de recursos <code>rg-agent-workshop-****</code></li> <li>Haz clic en Eliminar grupo de recursos</li> <li>En el campo en la parte inferior \"Ingresa el nombre del grupo de recursos para confirmar la eliminaci\u00f3n\" ingresa <code>rg-agent-workshop-****</code></li> <li>Haz clic en Eliminar</li> <li>En el aviso de Confirmaci\u00f3n de Eliminaci\u00f3n, haz clic en \"Eliminar\"</li> </ul> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/","title":"Desbloquea el Potencial de tu Agente con Protocolo de Contexto de Modelo y PostgreSQL","text":""},{"location":"es/#un-taller-interactivo-de-60-minutos","title":"Un taller interactivo de 60 minutos","text":"<p>Imagina que eres un gerente de ventas en Zava, una empresa de bricolaje al por menor con tiendas en todo el estado de Washington y una presencia en l\u00ednea en crecimiento. Te especializas en equipos para exteriores, herramientas de mejoras del hogar y suministros de bricolaje.</p> <p>Necesitas analizar datos de ventas para encontrar tendencias, entender las preferencias de los clientes y tomar decisiones empresariales informadas. Para ayudarte, Zava ha desarrollado un agente conversacional que puede responder preguntas sobre tus datos de ventas.</p> <p></p>"},{"location":"es/#lo-que-aprenderas-en-el-taller","title":"Lo que aprender\u00e1s en el taller","text":"<p>Aprende a construir un agente de IA que analiza datos de ventas, responde preguntas sobre productos y ayuda a los clientes a encontrar productos. Temas clave:</p> <ol> <li>Servicio de Agentes de Microsoft Foundry: Construye y despliega agentes de IA con herramientas integradas y observabilidad.  </li> <li>Protocolo de Contexto de Modelo (MCP): Conecta el Servicio de Agentes a herramientas externas y datos sobre protocolos est\u00e1ndar de la industria para mejorar la funcionalidad del agente.  </li> <li>PostgreSQL: Usa PostgreSQL como una base de datos vectorial para b\u00fasqueda sem\u00e1ntica e implementa Seguridad a Nivel de Fila (RLS) para proteger datos sensibles basados en roles de usuario.</li> <li>Microsoft Foundry: Una plataforma de desarrollo de IA de grado empresarial que proporciona acceso unificado a modelos, monitoreo integral, capacidades de trazado distribuido y gobernanza lista para producci\u00f3n para aplicaciones de IA a escala.</li> </ol>"},{"location":"es/#recien-comenzando-tu-viaje-con-agentes-de-ia","title":"\u00bfReci\u00e9n comenzando tu viaje con Agentes de IA?","text":"<p>\u00bfNuevo en agentes de IA? Comienza con Construye tu agente code-first con Microsoft Foundry. Construir\u00e1s un agente code-first integrando LLMs con bases de datos, documentos y B\u00fasqueda de Bing\u2014una base s\u00f3lida para agentes avanzados como Zava.</p>"},{"location":"es/#que-es-un-agente-de-ia-impulsado-por-llm","title":"\u00bfQu\u00e9 es un Agente de IA Impulsado por LLM?","text":"<p>Un agente de IA impulsado por LLM es software semi-aut\u00f3nomo que logra objetivos sin pasos predefinidos. En lugar de flujos de trabajo codificados, decide qu\u00e9 hacer bas\u00e1ndose en instrucciones y contexto.</p> <p>Ejemplo: Si un usuario pregunta, \"Muestra las ventas totales por tienda como un gr\u00e1fico de pastel\", el agente interpreta la solicitud, rastrea el contexto y orquesta las herramientas correctas para producir el gr\u00e1fico\u2014sin l\u00f3gica preconstruida requerida.</p> <p>Esto traslada gran parte de la l\u00f3gica de la aplicaci\u00f3n de los desarrolladores al modelo. Instrucciones claras y herramientas confiables son esenciales para el comportamiento predecible del agente y los resultados.</p>"},{"location":"es/#introduccion-a-microsoft-foundry","title":"Introducci\u00f3n a Microsoft Foundry","text":"<p>Microsoft Foundry es la plataforma segura y flexible de Microsoft para dise\u00f1ar, personalizar y gestionar aplicaciones y agentes de IA. Todo\u2014modelos, agentes, herramientas y observabilidad\u2014vive detr\u00e1s de un solo portal, SDK y endpoint REST, para que puedas enviar a la nube o al borde con gobernanza y controles de costos en su lugar desde el primer d\u00eda.</p> <p></p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/about/","title":"Acerca de","text":""},{"location":"es/about/#modelos-requeridos-para-zava-diy","title":"Modelos requeridos para Zava DIY","text":"<ul> <li>gpt-4o</li> <li>text-embedding-small-3</li> </ul>"},{"location":"es/about/#generacion-de-datos-sinteticos-para-zava-diy","title":"Generaci\u00f3n de Datos Sint\u00e9ticos para Zava DIY","text":"<p>Zava DIY es una herramienta dise\u00f1ada para ayudar a los desarrolladores a crear datos sint\u00e9ticos para pruebas y desarrollo. Permite a los usuarios generar conjuntos de datos realistas que pueden ser utilizados en varias aplicaciones, asegurando que los datos cumplan con requisitos espec\u00edficos sin comprometer la privacidad o seguridad.</p> <p>Conjunto de Datos de Productos Zava DIY Repositorio de GitHub.</p> <p>La base de datos incluye:</p> <ul> <li>8 tiendas en todo el estado de Washington, cada una con inventario \u00fanico y datos de ventas</li> <li>M\u00e1s de 50,000 registros de clientes en todo el estado de Washington y en l\u00ednea</li> <li>M\u00e1s de 400 productos de bricolaje incluyendo herramientas, equipo para exteriores y suministros para mejoras del hogar</li> <li>M\u00e1s de 400 im\u00e1genes de productos vinculadas a la base de datos para b\u00fasquedas basadas en im\u00e1genes</li> <li>M\u00e1s de 200,000 transacciones de pedidos con historial de ventas detallado</li> <li>M\u00e1s de 3,000 art\u00edculos de inventario en m\u00faltiples tiendas</li> <li>Embeddings de im\u00e1genes para im\u00e1genes de productos que permiten b\u00fasquedas de similitud con IA (codificadas usando openai/clip-vit-base-patch32)</li> <li>Embeddings de texto para descripciones de productos que mejoran las capacidades de b\u00fasqueda y recomendaci\u00f3n openai/text-embedding-3-small</li> </ul> <p>La base de datos soporta consultas complejas y an\u00e1lisis, permitiendo acceso eficiente a datos de ventas, inventario y clientes. La Seguridad a Nivel de Fila (RLS) de PostgreSQL restringe a los agentes solo a los datos de sus tiendas asignadas, asegurando seguridad y privacidad.</p>"},{"location":"es/about/#conjunto-de-datos-de-productos-zava-diy","title":"Conjunto de Datos de Productos Zava DIY","text":"<p>La base de datos PostgreSQL de Zava DIY proporciona un ecosistema de venta al por menor integral con patrones de datos realistas:</p> Componente Cantidad Descripci\u00f3n Clientes 50,000+ Perfiles demogr\u00e1ficos realistas en todo el estado de Washington Productos 400+ Cat\u00e1logo completo de mejoras del hogar para bricolaje Tiendas 8 Ubicaciones f\u00edsicas + en l\u00ednea en todo el estado de Washington Art\u00edculos de Pedido 200,000+ Art\u00edculos de l\u00ednea detallados con precios y cantidades Registros de Inventario 3,000+ Niveles de stock espec\u00edficos por tienda Embeddings Vectoriales 400+ B\u00fasqueda de similitud de productos con IA"},{"location":"es/about/#ubicaciones-de-tiendas","title":"\ud83c\udfea Ubicaciones de Tiendas","text":"<ul> <li>Tiendas de Alto Tr\u00e1fico: Seattle, Bellevue, En l\u00ednea</li> <li>Tiendas Regionales: Tacoma, Spokane</li> <li>Mercados Especializados: Everett, Redmond, Kirkland</li> <li>Distribuci\u00f3n Geogr\u00e1fica: Penetraci\u00f3n realista del mercado del estado de Washington</li> </ul>"},{"location":"es/about/#categorias-de-productos","title":"\ud83d\udce6 Categor\u00edas de Productos","text":"<p>El conjunto de datos incluye las siguientes categor\u00edas de productos con todos los productos disponibles:</p> <ul> <li> <p>El\u00e9ctrico: Interruptor AFCI 15-Amp, Tomacorriente AFCI 15-Amp, Cable Blindado BX 12-2, Caja de Techo con Soporte, Conjunto de Cintas Codificadas por Color, Interruptor Dimmer LED, Interruptor Bipolar 30A, Conducto EMT 1/2-pulgada, Conducto Flexible 1/2-pulgada, Cinta de Fricci\u00f3n, Interruptor GFCI 20-Amp, Tomacorriente GFCI 20-Amp, Conectores de Cable con Tapa de Grasa, Cable de Servicio Pesado 100ft, Cinta El\u00e9ctrica de Alta Temperatura, Cable de Extensi\u00f3n Interior 25ft, Caja de Conexiones 4x4, Luz de Techo LED de Montaje Empotrado, Conectores de Cable Grandes, Conducto Herm\u00e9tico al L\u00edquido, Interruptor Sensor de Movimiento, Regleta de M\u00faltiples Tomacorrientes, Caja de Trabajo Antiguo, Cable de Extensi\u00f3n Exterior 50ft, Reflector LED para Exteriores, Caja de Tomacorriente de Una V\u00eda, Conducto PVC 3/4-pulgada, Luz Colgante de Cocina, Conectores de Inserci\u00f3n, Carrete de Cable Retr\u00e1ctil, Conducto R\u00edgido 1-pulgada, Cable Romex 12-2 250ft, Cable Romex 14-2 250ft, Cinta de Silicona Autofusible, Interruptor Unipolar 15A, Interruptor Unipolar 20A, Interruptor Unipolar, Tomacorriente Est\u00e1ndar 15-Amp, Cable THHN 12 AWG, Interruptor de Tres V\u00edas, Interruptor Temporizador, Kit de Iluminaci\u00f3n de Riel, Conectores de Rosca, Tomacorriente USB con Carga, Cable Subterr\u00e1neo 12-2, Luz de Tocador 3-Bombillas, Cinta El\u00e9ctrica de Vinilo, Tomacorriente Resistente a la Intemperie, Caja Resistente a la Intemperie, Surtido de Conectores de Cable</p> </li> <li> <p>Jard\u00edn y Exteriores: Fertilizante Multiuso 50lb, Tijeras de Podar Yunque Servicio Pesado, Mezcla para Cactus, Mantillo de Cedro 3 Pies C\u00fabicos, Maceta de Cer\u00e1mica 12-pulgadas, Manguera Segura para Agua Potable, Manguera Expandible 100-pies, Mezcla de Semillas de Flores Silvestres, Manguera de Jard\u00edn 50-pies, Rastrillo de Jard\u00edn Dientes de Acero, Tierra de Jard\u00edn Enriquecida, Pala de Jard\u00edn Mango Largo, Semilla de C\u00e9sped Sol y Sombra, Maceta Colgante, Mantillo de Madera Dura 2 Pies C\u00fabicos, Manguera de Servicio Pesado 75-pies, Conjunto de Semillas de Jard\u00edn de Hierbas, Aspersor de Impacto, Cabeza de Aspersor Enterrado, Reflector LED 30W, Kit de Foco Paisaj\u00edstico, Fertilizante de C\u00e9sped Primavera, Kit de Aspersor de Nebulizaci\u00f3n, Compost Org\u00e1nico 40lb, Semillas Org\u00e1nicas Heredadas, Aspersor Oscilante, Conjunto de Macetas de Pl\u00e1stico, Podadora de P\u00e9rtiga 8-pies, Mezcla para Macetas Premium 40lb, Aspersor Rotativo 3-Brazos, Mantillo de Caucho Negro, Mezcla para Inicio de Semillas, Maceta de Auto-Riego, Gr\u00e1nulos de Liberaci\u00f3n Lenta, Manguera Porosa 25-pies, Conjunto de Luces Solares para Terraza, Conjunto de Luces Solares para Sendero, Fardo de Mantillo de Paja, Luces de Cadena 48-pies, Alimento para Plantas de Tomate, Tierra Vegetal Cribada 40lb, Kit Iniciador de Semillas de Vegetales, Maceta de Barril de Madera</p> </li> <li> <p>Herramientas Manuales: Llave Ajustable 10-pulgadas, Martillo de Bola 12oz, Conjunto de Hexagonales de Punta Esf\u00e9rica, Conjunto de Llaves Combinadas SAE, Sierra de Coping, Calibrador Digital 6-pulgadas, Martillo de Acabado 13oz, Conjunto de Destornilladores de Cabeza Plana, Regla Plegable 6-pies, Conjunto de Destornilladores Aislados, Nivel 24-pulgadas, Alicates de Liniero 9-pulgadas, Alicates de Presi\u00f3n 10-pulgadas, Conjunto de Hexagonales de Brazo Largo, Conjunto de Llaves Hexagonales M\u00e9tricas, Conjunto de Llaves M\u00e9tricas, Alicates de Punta 6-pulgadas, Conjunto de Destornilladores Phillips, Conjunto de Llaves para Tubos, Kit de Destornillador de Precisi\u00f3n, Martillo de U\u00f1a Profesional 16oz, Destornillador de Trinquete, Conjunto de Limas Riffler, Conjunto de Llaves Hexagonales SAE, Mazo 3lb, Escuadra de Velocidad 7-pulgadas, Conjunto de Hexagonales Mango en T, Cinta M\u00e9trica 25-pies, Llave de Torque 1/2-drive, Alicates Pelacables, Conjunto de Raspa de Madera</p> </li> <li> <p>Ferreter\u00eda: Soporte Angular 4-pulgadas, Pestillo de Barril 4-pulgadas, Clavos Brad calibre 18, Bisagra de Tope 3-1/2 pulgadas, Conjunto de Perillas de Gabinete N\u00edquel Cepillado, Cerradura de Gabinete Tipo Leva, Tirador de Gabinete 4-pulgadas Centros, Conjunto de Pernos de Carro, Cerradura de Cadena Seguridad de Puerta, Surtido de Clavos Comunes, Bisagra de Gabinete Oculta, Soporte de Encimera, Cerradura de Pestillo con Llave, Tornillos para Terraza 2-1/2 pulgadas, Conjunto de Manija de Puerta tipo Palanca, Conjunto de Cerradura de Perilla de Puerta, Tirador de Caj\u00f3n 5-pulgadas, Tornillos para Drywall 1-5/8 pulgadas, Pernos de Ojo Surtidos, Kit de Arandelas de Guardabarros, Clavos de Acabado 2-pulgadas, Rueda Fija 3-pulgadas, Surtido de Arandelas Planas SAE, Soporte de Estante Flotante, Conjunto de Ruedas para Muebles, Kit de Pernos Hexagonales Grado 5, Pestillo de Gancho y Ojo, Soporte en L Galvanizado, Pernos de Anclaje 1/2 x 6-pulgadas, Conjunto de Arandelas de Presi\u00f3n, Conjunto de Ruedas con Seguro, Kit de Tornillos de M\u00e1quina, Clavos para Mamposter\u00eda, Surtido de Arandelas M\u00e9tricas, Conjunto de Candados con Llave Maestra, Bisagra de Piano 2-pies, Rueda Neum\u00e1tica 4-pulgadas, Clavos para Techo 1-1/4 pulgadas, Conjunto de Arandelas de Caucho, Aldaba de Seguridad 6-pulgadas, Tornillos Autorroscantes, Soporte de Estante 8-pulgadas, Pestillo de Perno Deslizante, Bisagra de Resorte Auto-Cierre, Bisagra de Correa Servicio Pesado, Rueda Giratoria 2-pulgadas, Ferreter\u00eda de Gabinete Mango en T, Pestillo de Pulgar Galvanizado, Conjunto de Pernos de Palanca, Surtido de Tornillos para Madera</p> </li> <li> <p>Madera y Materiales de Construcci\u00f3n: Contrapiso Advantech, Moldura de Z\u00f3calo 8ft, Contrachapado de Abedul 4x8x1/2, Aislamiento Soplado R-30, Contrachapado CDX 4x8x3/4, Cedro 2x4x8, Tabla de Cedro 1x8x10, Poste de Cedro 6x6x8, Moldura de Barandilla de Silla, Mezcla Resistente a Grietas, Moldura de Corona Pino 8ft, Poste de Terraza 6x6x10, Abeto Douglas 2x6x10, Tablero de Cemento Durock, Tablero de Cemento Exterior, Concreto de Fraguado R\u00e1pido 50lb, Fibra de Vidrio R-13, Drywall Resistente al Fuego, Tablero de Espuma Aislante, Hardiebacker 3x5x1/4, Mezcla de Alta Resistencia 80lb, Drywall Liviano 4x8, Tabla de Moldura MDF 1x4, Contrachapado Marino 4x8x3/4, Drywall Resistente a la Humedad, Revestimiento OSB 4x8x7/16, Panel de Revestimiento OSB, Contrapiso OSB 4x8x3/4, Madera para Paisajismo PT, Poste PT 4x4x8, Tabla de Moldura PVC 1x6, Tablero Permabase 4x8, Tabla de Pino 1x4x8, Montante de Pino 2x4x8, Tabla de \u00c1lamo 1x6x8, Tratado a Presi\u00f3n 2x4x8, Contrachapado Tratado a Presi\u00f3n, Cuarto Redondo 8ft, Mezcla Quikrete 80lb, Concreto Premezclado 60lb, Aislamiento Reflectivo, Poste de Cerca Redondo 8ft, Drywall Insonorizado 4x8, Kit de Espuma en Aerosol, Drywall Est\u00e1ndar 4x8x1/2, Vigueta Tratada 2x8x12, Conjunto de Moldura de Ventana, WonderBoard Lite, Revestimiento Sistema ZIP</p> </li> <li> <p>Pintura y Acabados: Imprimador en Aerosol, Conjunto de Brochas Anguladas, Conjunto de Brochas de Detalle de Artista, Lona Protectora de Lona 9x12, Alfombra de Lona 4x15, Poliuretano Transparente Satinado, Mancha para Terraza y Cerca, Conjunto de Bandejas de Pintura Desechables, Imprimador para Drywall, Pintura Exterior Elastom\u00e9rica, Extensi\u00f3n 4-pies, Pintura Acr\u00edlica Exterior, Pintura L\u00e1tex Exterior Satinada, Combo Imprimador-Pintura Exterior, Poliuretano para Pisos, Conjunto de Brochas de Espuma, Mancha en Gel, Poliuretano Brillante, Pintura en Aerosol Brillante, Pintura Interior C\u00e1scara de Huevo, Pintura Interior Semi-Brillante, Imprimador para Mamposter\u00eda, Pintura en Aerosol Acabado Mate, Bandeja de Pintura de Metal 9-pulgadas, Imprimador para Metal, Cubiertas de Rodillo de Microfibra, Kit de Rodillo Mini 4-pulgadas, Conjunto de Cubiertas de Rodillo Nap, Conjunto de Brochas de Cerda Natural, Poliuretano Base Aceite, Mancha para Madera Base Aceite, Pintura Interior Una Capa, Rejilla para Balde de Pintura, Pistola Rociadora de Pintura, Conjunto de Forros para Bandeja de Pintura, Lona Protectora de Papel, Lona Protectora de Pl\u00e1stico, Pel\u00edcula de Enmascarado Pre-encintatada, L\u00e1tex Interior Premium Mate, Marco de Rodillo 9-pulgadas, Bandeja Rodante con Rejilla, Aerosol Prevenci\u00f3n de \u00d3xido, Mancha para Terraza Semi-Transparente, Mancha para Terraza Color S\u00f3lido, Imprimador Bloqueador de Manchas, Conjunto de Brochas Sint\u00e9ticas, Pintura en Aerosol Texturizada, Imprimador de Uni\u00f3n Universal, Poliuretano Base Agua, Mancha para Madera Base Agua, Pintura Interior Cero VOC</p> </li> <li> <p>Plomer\u00eda: V\u00e1lvula de Parada Angular, V\u00e1lvula de Bola 1/2-pulgada, Llave de Lavabo de Ba\u00f1o, V\u00e1lvula de Retenci\u00f3n 1-pulgada, Conexiones de Compresi\u00f3n, Kit de Conexiones de Cobre, Tuber\u00eda de Cobre 1-pulgada Tipo L, Tuber\u00eda de Cobre 1/2-pulgada Tipo L, Tuber\u00eda de Cobre 3/4-pulgada Tipo L, Qu\u00edmico Limpiador de Desag\u00fces, Serpiente de Desag\u00fce 25-pies, Aislamiento de Tuber\u00eda de Fibra de Vidrio, Conjunto de V\u00e1lvula de Llenado, Tuber\u00eda PVC Flexible, Aislamiento de Tuber\u00eda de Espuma 1/2, V\u00e1lvula de Compuerta 3/4-pulgada, Cinta de Tefl\u00f3n Servicio Pesado, Limpiador de Desag\u00fce Hydro Jet, Llave de Fregadero de Cocina, Llave de Grifo Exterior, Cinta de Rosca PTFE Blanca, Surtido de Codos PVC, Tuber\u00eda PVC 1-1/2 pulgada x 10ft, Tuber\u00eda PVC 2-pulgadas x 10ft, Tuber\u00eda PVC 3-pulgadas x 10ft, Tuber\u00eda PVC 4-pulgadas x 10ft, Conjunto de Conexiones T PVC, Cinta Rosa de Plomero, Barra de Masilla para Tubos, Cinta de Calor para Tubos, Aislamiento de Tuber\u00eda 3/4-pulgada, Cinta de Aislamiento de Tuber\u00eda, Compuesto para Juntas de Tuber\u00eda, Pasta Selladora de Rosca de Tuber\u00eda, Grasa de Plomero, Masilla de Plomero 14oz, Conjunto de Desatascadores, Tuber\u00eda de Cobre Pre-aislada, V\u00e1lvula de Alivio de Presi\u00f3n, Conectores de Inserci\u00f3n, Kit de Moldura de Llave de Ducha, Masilla de Plomero de Silicona, Bobina de Cobre Suave 1/2-pulgada, Barrena para Inodoro, V\u00e1lvula Universal para Inodoro, Kit de Reparaci\u00f3n Completo para Inodoro, Asiento de Inodoro Est\u00e1ndar, Anillo de Cera para Inodoro, Llave de Fregadero de Utilidad, Cinta Amarilla para L\u00ednea de Gas</p> </li> <li> <p>Herramientas El\u00e9ctricas: Amoladora Angular 4-1/2 pulgadas, Sierra Caladora Agarre de Barril, Sierra Ingletadora B\u00e1sica 10-pulgadas, Lijadora de Banda 3x21 pulgadas, Taladro de Banco, Destornillador de Impacto Sin Escobillas, Sierra Circular 7-1/4 pulgadas, Lijadora de Banda Compacta 3x18, Destornillador de Impacto Compacto, Sierra Rec\u00edproca Compacta, Sierra Ingletadora Compuesta 10-pulgadas, Amoladora Angular Inal\u00e1mbrica, Sierra Circular Inal\u00e1mbrica 6-1/2, Taladro Inal\u00e1mbrico 18V Li-Ion, Sierra Caladora Inal\u00e1mbrica 20V, Sierra Ingletadora Inal\u00e1mbrica 10-pulgadas, Sierra Rec\u00edproca Inal\u00e1mbrica 18V, Router Inal\u00e1mbrico 18V, Herramienta de Corte 3-pulgadas, Lijadora de Drywall, Lijadora de Banda de Lima, Router de Base Fija 1-3/4 HP, Taladro Martillo 1/2-pulgada, Sierra Caladora Servicio Pesado, Taladro de Impacto 20V, Destornillador de Impacto 18V, Llave de Impacto 1/2-pulgada, Amoladora Angular Grande 7-pulgadas, Sierra Circular Mini 4-1/2, Soporte para Sierra Ingletadora, Lijadora Rat\u00f3n, Herramienta M\u00faltiple Oscilante, Lijadora Orbital 1/4 Hoja, Lijadora de Palma, Router de Inmersi\u00f3n 2-1/4 HP, Lijadora de \u00d3rbita Aleatoria 5-pulgadas, Sierra Rec\u00edproca con Cable, Taladro de \u00c1ngulo Recto, Impacto de \u00c1ngulo Recto, Combo Mesa de Router, Sierra Caladora de Desplazamiento, Sierra Ingletadora Deslizante 12-pulgadas, Lijadora de Banda Estacionaria, Sierra de Riel, Router de Moldura 1 HP, Lijadora de Banda Velocidad Variable, Amoladora Velocidad Variable, Sierra Caladora Velocidad Variable, Sierra de Gusano</p> </li> <li> <p>Almacenamiento y Organizaci\u00f3n: Banco de Trabajo Altura Ajustable, Gabinete Base con Cajones, Kit de Ganchos de Techo, Estante de Almacenamiento de Techo 4x8, Sistema de Riel de Techo, Gabinete de Almacenamiento Qu\u00edmico, Contenedor de Almacenamiento Transparente 27-Cuartos, Unidad de Estante de Esquina, Cajones de Almacenamiento de Manualidades, Organizador de Escritorio con Cajones, Banco de Trabajo Plegable Port\u00e1til, Elevador de Techo de Garaje, Kit de Banco de Trabajo de Garaje, Banco de Casilleros Estilo Gimnasio, Sistema de Estanter\u00eda Servicio Pesado, Contenedor Servicio Pesado 35-Galones, Conjunto de Ganchos de Pared Servicio Pesado, Banco de Trabajo Servicio Pesado 6-pies, Unidad de Cajones Grandes 10-Cajones, Soporte Magn\u00e9tico para Herramientas, Casillero de Metal 2-Puertas, Tablero Perforado de Metal Gris, Gabinete de Almacenamiento de Metal 72-pulgadas, Gabinete de Herramientas de Metal, Carrito de Trabajo M\u00f3vil, Sistema de Gabinetes Modulares, Plataforma de Almacenamiento A\u00e9reo, Conjunto de Ganchos para Tablero Perforado 50-piezas, Panel de Tablero Perforado 4x8, Contenedores de Almacenamiento para Tablero Perforado, Conjunto de Soportes de Herramientas para Tablero Perforado, Casillero de Almacenamiento Personal, Conjunto de Cajas de Herramientas de Pl\u00e1stico, Caja de Herramientas Port\u00e1til 20-pulgadas, Colgador de Manguera Retr\u00e1ctil, Carrito de Cajones Rodante, Caja de Herramientas Rodante 26-pulgadas, Ganchos Recubiertos de Caucho, Red de Seguridad para Almacenamiento, Organizador de Partes Peque\u00f1as, Conjunto de Contenedores Apilables, Conjunto de Cajones Apilables, Estanter\u00eda de Acero 5-Niveles, Bolsa de Herramientas de Lona 18-pulgadas, Gabinete de Montaje en Pared, Caja de Almacenamiento Resistente a la Intemperie, Casillero de Malla de Alambre, Estanter\u00eda de Alambre Cromado, Banco de Casillero de Madera, Estantes de Almacenamiento de Madera</p> </li> </ul>"},{"location":"es/about/#patrones-estacionales","title":"\ud83c\udf21\ufe0f Patrones Estacionales","text":"<p>El conjunto de datos incluye variaciones estacionales realistas:</p> <ul> <li>Auge Primaveral: Los productos de pintura y jard\u00edn alcanzan su pico en marzo-mayo</li> <li>Construcci\u00f3n de Verano: Las herramientas el\u00e9ctricas y madera alcanzan su pico en junio-agosto</li> <li>Preparaci\u00f3n de Oto\u00f1o: Los productos de ferreter\u00eda y almacenamiento aumentan</li> <li>Mantenimiento de Invierno: Las herramientas manuales y proyectos de interior</li> </ul>"},{"location":"es/about/#modelado-financiero","title":"\ud83d\udcb0 Modelado Financiero","text":"<ul> <li>Margen bruto consistente del 33% en todos los productos</li> <li>Patrones de crecimiento a\u00f1o tras a\u00f1o (2020-2026)</li> <li>Variaciones de rendimiento de tiendas basadas en el tama\u00f1o del mercado</li> <li>Fluctuaciones de ingresos estacionales alineadas con la demanda de productos</li> </ul> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/agent-service-overview/","title":"Servicios de Agentes de AI Foundry","text":"<p>El Servicio de Agentes de Foundry ofrece un servicio en la nube completamente administrado con SDKs para Python, C#, y TypeScript. Los SDKs de Foundry simplifican el desarrollo de agentes de IA, reduciendo tareas complejas como la llamada de herramientas del Servidor MCP con solo unas pocas l\u00edneas de c\u00f3digo.</p> <p>El Servicio de Agentes de Microsoft Foundry ofrece varias ventajas sobre las plataformas de agentes tradicionales:</p> <ul> <li>Despliegue R\u00e1pido: SDK optimizado para despliegue r\u00e1pido, permitiendo que los desarrolladores se enfoquen en construir agentes.  </li> <li>Escalabilidad: Dise\u00f1ado para manejar cargas variables de usuarios sin problemas de rendimiento.  </li> <li>Integraciones Personalizadas: Soporta MCP (Protocolo de Contexto de Modelo) para integraci\u00f3n robusta de herramientas y acceso a datos externos.  </li> <li>Herramientas Integradas: Incluye Fabric, SharePoint, Azure AI Search, y Azure Storage para desarrollo r\u00e1pido.  </li> <li>B\u00fasqueda Estilo RAG: Cuenta con un almac\u00e9n vectorial integrado para b\u00fasqueda eficiente de archivos y sem\u00e1ntica.  </li> <li>Gesti\u00f3n de Estado de Conversaci\u00f3n: Mantiene el contexto a trav\u00e9s de m\u00faltiples interacciones.  </li> <li>Compatibilidad con Modelos de IA: Funciona con varios modelos de IA.</li> </ul> <p>Aprende m\u00e1s sobre el Servicio de Agentes de Foundry en la documentaci\u00f3n del Servicio de Agentes de Foundry.</p>"},{"location":"es/agent-service-overview/#stack-tecnologico-de-agentes-de-ia","title":"Stack Tecnol\u00f3gico de Agentes de IA","text":"<p>Los frameworks de agentes populares incluyen LangChain, Semantic Kernel, y CrewAI. Lo que distingue al Servicio de Agentes de Foundry son sus capacidades de integraci\u00f3n sin problemas y un SDK optimizado para despliegue r\u00e1pido. En escenarios complejos de m\u00faltiples agentes, las soluciones combinar\u00e1n SDKs como Semantic Kernel y AutoGen con el Servicio de Agentes de Foundry para construir sistemas robustos y escalables.</p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/architecture/","title":"Visi\u00f3n General de la Arquitectura","text":""},{"location":"es/architecture/#tecnologias-principales-de-un-vistazo","title":"Tecnolog\u00edas principales de un vistazo","text":"<ul> <li>Servicio de Agentes de Microsoft Foundry   Aloja el agente impulsado por LLM; orquesta herramientas (incluyendo Servidores MCP); gestiona contexto, Int\u00e9rprete de C\u00f3digo y transmisi\u00f3n de tokens; y proporciona autenticaci\u00f3n, registro y escalado.</li> <li>Servidores MCP   MCP (Protocolo de Contexto de Modelo) es un est\u00e1ndar abierto que proporciona a los LLMs una interfaz unificada para herramientas externas, APIs y datos. Estandariza el descubrimiento de herramientas (como OpenAPI para REST) y mejora la composabilidad al hacer que las herramientas sean f\u00e1ciles de actualizar o intercambiar seg\u00fan evolucionen las necesidades.</li> <li>PostgreSQL + pgvector   Almacena datos relacionales y embeddings; soporta tanto consultas relacionales (SQL) como sem\u00e1nticas (vectoriales) (a trav\u00e9s de pgvector), gobernadas por SQL y RLS.</li> </ul> <p>En conjunto: el Servicio de Agentes enruta las intenciones del usuario; el servidor MCP las traduce en llamadas de herramientas/SQL; PostgreSQL+pgvector responde preguntas sem\u00e1nticas y anal\u00edticas.</p>"},{"location":"es/architecture/#arquitectura-de-la-solucion","title":"Arquitectura de la Soluci\u00f3n","text":"<p>La arquitectura de la soluci\u00f3n de An\u00e1lisis de Ventas de Zava incluye:</p> <ul> <li>Una instancia del Servicio de Agentes de Microsoft Foundry que aloja el agente de An\u00e1lisis de Ventas de Zava.</li> <li>Una base de datos PostgreSQL con la extensi\u00f3n pgvector, almacenando datos de ventas de Zava y embeddings.</li> <li>Un Servidor MCP que expone la base de datos PostgreSQL al agente a trav\u00e9s de MCP.</li> <li>Una aplicaci\u00f3n Administrador de Agentes que gestiona la interacci\u00f3n entre el usuario y el agente.</li> <li>Una interfaz de Chat Web para interacci\u00f3n de chat en tiempo real con el agente.</li> </ul> <p></p>"},{"location":"es/architecture/#beneficios-clave-de-los-servidores-mcp","title":"Beneficios clave de los Servidores MCP","text":"<ul> <li>Interoperabilidad \u2013 Conecta agentes de IA a herramientas habilitadas para MCP de cualquier proveedor con c\u00f3digo personalizado m\u00ednimo.</li> <li>Ganchos de seguridad \u2013 Integra inicio de sesi\u00f3n, permisos y registro de actividades.</li> <li>Reutilizaci\u00f3n \u2013 Construye una vez, reutiliza en proyectos, nubes y tiempos de ejecuci\u00f3n.</li> <li>Simplicidad operacional \u2013 Un solo contrato reduce el c\u00f3digo repetitivo y el mantenimiento.</li> </ul>"},{"location":"es/architecture/#mejores-practicas-demostradas","title":"Mejores pr\u00e1cticas demostradas","text":"<ul> <li>APIs as\u00edncronas: El servicio de agentes y PostgreSQL usan APIs as\u00edncronas; ideales con FastAPI/ASP.NET/Streamlit.</li> <li>Transmisi\u00f3n de tokens: Mejora la latencia percibida en la UI.</li> <li>Observabilidad: Soporte integrado de trazado y m\u00e9tricas para monitoreo y optimizaci\u00f3n.</li> <li>Seguridad de base de datos: PostgreSQL est\u00e1 asegurado con privilegios de agente restringidos y Seguridad a Nivel de Fila (RLS), limitando a los agentes solo a sus datos autorizados.</li> <li>Int\u00e9rprete de C\u00f3digo: El Int\u00e9rprete de C\u00f3digo del Servicio de Agentes de Azure AI ejecuta c\u00f3digo generado por LLM bajo demanda en un entorno aislado, previniendo acciones m\u00e1s all\u00e1 del alcance del agente.</li> </ul>"},{"location":"es/architecture/#extensibilidad","title":"Extensibilidad","text":"<p>El patr\u00f3n del taller se puede adaptar (ej., soporte al cliente) actualizando la base de datos + instrucciones del agente en Foundry.</p>"},{"location":"es/architecture/#arquitectura-devtunnel","title":"Arquitectura DevTunnel","text":"<p>En el entorno del taller, el Servicio de Agentes se ejecuta en Azure pero necesita conectarse a tu Servidor MCP ejecut\u00e1ndose localmente. DevTunnel crea un t\u00fanel seguro que expone tu Servidor MCP local al Servicio de Agentes basado en la nube.</p> <p></p> <p>C\u00f3mo Funciona DevTunnel en el Taller:</p> <ol> <li>Desarrollo Local: Ejecutas el Servidor MCP localmente en <code>localhost:8000</code></li> <li>Creaci\u00f3n de DevTunnel: DevTunnel crea un endpoint HTTPS p\u00fablico (ej., <code>https://abc123.devtunnels.ms</code>) conectado a <code>localhost:8000</code>.</li> <li>Integraci\u00f3n Azure: El Servicio de Agentes alojado en Azure se conecta al Servidor MCP a trav\u00e9s del endpoint DevTunnel.</li> <li>Operaci\u00f3n Transparente: El servicio de agentes opera normalmente, sin saber que est\u00e1 accediendo al Servidor MCP ejecut\u00e1ndose localmente a trav\u00e9s de un t\u00fanel.</li> </ol> <p>Esta configuraci\u00f3n te permite:</p> <ul> <li>Desarrollar y depurar localmente mientras usas servicios de IA alojados en la nube</li> <li>Probar escenarios realistas sin desplegar el Servidor MCP a Azure</li> </ul> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/dotnet-troubleshooting/#solucion-de-problemas","title":"Soluci\u00f3n de Problemas","text":""},{"location":"es/dotnet-troubleshooting/#problemas-comunes","title":"Problemas Comunes","text":"<ol> <li>El recurso Dev Tunnel fall\u00f3 al iniciarse: Aseg\u00farate de haber ejecutado <code>devtunnel login</code> y autenticado tu cuenta con Microsoft Dev Tunnels.</li> <li>Hay recursos faltantes listados en el panel de Aspire: Verifica que hayas completado los pasos de Comenzando y que todos los recursos est\u00e9n desplegados en Azure. Verifica que los par\u00e1metros hayan sido agregados a los secretos de usuario abriendo una ventana de Terminal y ejecutando <code>dotnet user-secrets list</code> en el directorio del proyecto AppHost. Debe contener los siguientes valores:</li> </ol> <pre><code> Parameters:ResourceGroupName = ...\n Parameters:pg-password = ...\n Parameters:mcp-inspector-proxyToken = ...\n Parameters:FoundryResourceName = ...\n Parameters:FoundryProjectName = ...\n Parameters:FoundryEndpoint = ...\n Parameters:EmbeddingModelDeploymentName = ...\n Parameters:ChatModelDeploymentName = ...\n Parameters:AzureOpenAIEndpoint = ...\n ConnectionStrings:ApplicationInsights = ...\n Azure:Tenant = ...\n Azure:SubscriptionId = ...\n Azure:ResourceGroup = ...\n Azure:Location = ...\n</code></pre> <ol> <li> <p>dotnet no soportado al lanzar el depurador: Aseg\u00farate de instalar la extensi\u00f3n de C# en Visual Studio Code. Si ya la has instalado, intenta reiniciar Visual Studio Code.    </p> </li> <li> <p>El panel de Aspire no carga: Si el navegador no carga, intenta refrescar completamente la p\u00e1gina (Ctrl + F5 o Cmd + Shift + R). Si a\u00fan no carga, aseg\u00farate de que el Dev Tunnel est\u00e9 ejecut\u00e1ndose verificando la ventana de terminal donde iniciaste el Dev Tunnel. Si no est\u00e1 ejecut\u00e1ndose, navega al directorio del proyecto AppHost y ejecuta <code>dotnet run</code> para iniciarlo nuevamente.</p> </li> <li> <p>El navegador no se lanz\u00f3 con el depurador: Verifica la Consola de Depuraci\u00f3n de VS Code para la URL <code>http://localhost:15184</code>. El panel de Aspire usa una clave generada aleatoriamente para autenticaci\u00f3n, la cual est\u00e1 incluida en la URL. Copia y pega la URL en tu navegador para acceder al panel de Aspire. El mensaje de terminal se ve as\u00ed:</p> </li> </ol> <pre><code>info: Aspire.Hosting.DistributedApplication[0]\n      Now listening on: http://localhost:15184\nAspire.Hosting.DistributedApplication: Information: Now listening on: http://localhost:15184\ninfo: Aspire.Hosting.DistributedApplication[0]\n      Login to the dashboard at http://localhost:15184/login?t=&lt;token&gt;\n</code></pre> <ol> <li>El recurso <code>ai-foundry</code> reporta Failed to provision.: Esto puede suceder si la conexi\u00f3n de Azure falla al establecerse en la primera ejecuci\u00f3n de la aplicaci\u00f3n. Reinicia el depurador en Visual Studio Code para intentar nuevamente.</li> </ol> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/getting-started-workspace/","title":"Getting started workspace","text":"<p>Hay dos espacios de trabajo de VS Code en el taller, uno para Python y otro para C#. El espacio de trabajo contiene el c\u00f3digo fuente y todos los archivos necesarios para completar los laboratorios para cada lenguaje. Elige el espacio de trabajo que coincida con el lenguaje con el que quieres trabajar.</p> PythonC# <ol> <li> <p>Copia la siguiente ruta al portapapeles:</p> <pre><code>/workspace/.vscode/python-workspace.code-workspace\n</code></pre> </li> <li> <p>Desde el men\u00fa de VS Code, selecciona File y luego Open Workspace from File.</p> </li> <li>Reemplaza y pega el nombre de ruta copiado y selecciona OK.</li> </ol> <ol> <li>En Visual Studio Code, ve a File &gt; Open Workspace from File.</li> <li> <p>Reemplaza la ruta predeterminada con la siguiente:</p> <pre><code>/workspace/.vscode/csharp-workspace.code-workspace\n</code></pre> </li> <li> <p>Selecciona OK para abrir el espacio de trabajo.</p> </li> </ol> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/getting-started-workspace/#estructura-del-proyecto","title":"Estructura del Proyecto","text":"<p>Familiar\u00edzate con las carpetas y archivos clave en el espacio de trabajo con los que trabajar\u00e1s durante todo el taller.</p>"},{"location":"es/getting-started-workspace/#la-carpeta-workshop","title":"La carpeta \"workshop\"","text":"<ul> <li> <p>El archivo app.py: El punto de entrada para la aplicaci\u00f3n, conteniendo su l\u00f3gica principal.</p> <p>Nota la variable INSTRUCTIONS_FILE\u2014establece qu\u00e9 archivo de instrucciones usa el agente. Actualizar\u00e1s esta variable en un laboratorio posterior.</p> </li> <li> <p>El archivo resources.txt: Contiene los recursos utilizados por la aplicaci\u00f3n del agente.</p> </li> <li>El archivo .env: Contiene las variables de entorno utilizadas por la aplicaci\u00f3n del agente.</li> </ul>"},{"location":"es/getting-started-workspace/#la-carpeta-mcp_server","title":"La carpeta \"mcp_server\"","text":"<ul> <li>El archivo sales_analysis.py: El Servidor MCP con herramientas para an\u00e1lisis de ventas.</li> </ul>"},{"location":"es/getting-started-workspace/#la-carpeta-sharedinstructions","title":"La carpeta \"shared/instructions\"","text":"<ul> <li>La carpeta instructions: Contiene las instrucciones pasadas al LLM.</li> </ul>"},{"location":"es/getting-started-workspace/#estructura-del-proyecto_1","title":"Estructura del Proyecto","text":"<p>El proyecto usa Aspire para simplificar la construcci\u00f3n de la aplicaci\u00f3n del agente, gestionar el servidor MCP y orquestar todas las dependencias externas. La soluci\u00f3n est\u00e1 compuesta por cuatro proyectos, todos con el prefijo <code>McpAgentWorkshop</code>:</p> <ul> <li><code>AppHost</code>: El orquestador de Aspire, y proyecto de lanzamiento para el taller.</li> <li><code>McpServer</code>: El proyecto del servidor MCP.</li> <li><code>ServiceDefaults</code>: Configuraci\u00f3n predeterminada para servicios, como registro y telemetr\u00eda.</li> <li><code>WorkshopApi</code>: La API del Agente para el taller. La l\u00f3gica principal de la aplicaci\u00f3n est\u00e1 en la clase <code>AgentService</code>.</li> </ul> <p>Adem\u00e1s de los proyectos .NET en la soluci\u00f3n, hay una carpeta <code>shared</code> (visible como una Carpeta de Soluci\u00f3n, y a trav\u00e9s del explorador de archivos), que contiene:</p> <ul> <li><code>instructions</code>: Las instrucciones pasadas al LLM.</li> <li><code>scripts</code>: Scripts shell auxiliares para varias tareas, se har\u00e1 referencia a estos cuando sea necesario.</li> <li><code>webapp</code>: La aplicaci\u00f3n cliente front-end. Nota: Esta es una aplicaci\u00f3n Python, cuyo ciclo de vida ser\u00e1 gestionado por Aspire.</li> </ul> <p></p>"},{"location":"es/getting-started/","title":"Abrir el Taller","text":"<p>Selecciona tu experiencia del taller:</p> @Asistentes al EventoEstudiantes Auto-Guiados <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/getting-started/#asistentes-a-eventos-de-microsoft","title":"Asistentes a Eventos de Microsoft","text":"<p>Las instrucciones en esta p\u00e1gina asumen que est\u00e1s asistiendo a un evento y tienes acceso a un entorno de laboratorio preconfigurado. Este entorno proporciona una suscripci\u00f3n de Azure con todas las herramientas y recursos necesarios para completar el taller.</p>"},{"location":"es/getting-started/#introduccion","title":"Introducci\u00f3n","text":"<p>Este taller est\u00e1 dise\u00f1ado para ense\u00f1arte sobre el Servicio de Agentes de Azure AI y el SDK asociado. Consiste en m\u00faltiples laboratorios, cada uno destacando una caracter\u00edstica espec\u00edfica del Servicio de Agentes de Azure AI. Los laboratorios est\u00e1n destinados a completarse en orden, ya que cada uno se basa en el conocimiento y trabajo del laboratorio anterior.</p>"},{"location":"es/getting-started/#recursos-de-nube-del-taller","title":"Recursos de Nube del Taller","text":"<p>Los siguientes recursos est\u00e1n pre-provisionados en tu suscripci\u00f3n de Azure del laboratorio:</p> <ul> <li>Un grupo de recursos llamado rg-zava-agent-wks-nnnnnnnn</li> <li>Un hub de Microsoft Foundry llamado fdy-zava-agent-wks-nnnnnnnn</li> <li>Un proyecto de Microsoft Foundry llamado prj-zava-agent-wks-nnnnnnnn</li> <li>Dos modelos est\u00e1n desplegados: gpt-4o y text-embedding-3-small. Ver precios.</li> <li>Base de datos de Azure Database for PostgreSQL Flexible Server (B1ms Burstable 32GB) llamada pg-zava-agent-wks-nnnnnnnn. Ver precios</li> <li>Recurso Application Insights llamado appi-zava-agent-wks-nnnnnnnn. Ver precios</li> </ul>"},{"location":"es/getting-started/#seleccionar-lenguaje-de-programacion-del-taller","title":"Seleccionar Lenguaje de Programaci\u00f3n del Taller","text":"<p>El taller est\u00e1 disponible tanto en Python como en C#. Por favor aseg\u00farate de seleccionar el lenguaje que se ajuste a la sala del laboratorio o preferencia usando las pesta\u00f1as de selector de lenguaje. Nota, no cambies de lenguaje a mitad del taller.</p> <p>Selecciona la pesta\u00f1a de lenguaje que coincida con tu sala de laboratorio:</p> PythonC# <p>El lenguaje por defecto para el taller est\u00e1 establecido a Python.</p> <p>El lenguaje por defecto para el taller est\u00e1 establecido a C#.</p> <p>La versi\u00f3n C#/.NET de este taller est\u00e1 en beta y tiene problemas de estabilidad conocidos.</p> <p>Aseg\u00farate de leer la secci\u00f3n de gu\u00eda de soluci\u00f3n de problemas ANTES de comenzar el taller. De lo contrario, selecciona la versi\u00f3n de Python del taller.</p>"},{"location":"es/getting-started/#autenticarse-con-azure","title":"Autenticarse con Azure","text":"<p>Necesitas autenticarte con Azure para que la aplicaci\u00f3n del agente pueda acceder al Servicio de Agentes de Azure AI y a los modelos. Sigue estos pasos:</p> <ol> <li> <p>Abre una ventana de terminal. La aplicaci\u00f3n de terminal est\u00e1 fijada a la barra de tareas de Windows 11.</p> <p></p> </li> <li> <p>Ejecuta el siguiente comando para autenticarte con Azure:</p> <pre><code>az login\n</code></pre> <p>Note</p> <p>Se te pedir\u00e1 que abras un enlace del navegador e inicies sesi\u00f3n en tu cuenta de Azure.</p> <ol> <li>Una ventana del navegador se abrir\u00e1 autom\u00e1ticamente, selecciona Work or school account y luego selecciona Continue.</li> <li>Usa el Username y TAP (Temporary Access Pass) que se encuentran en la secci\u00f3n superior de la pesta\u00f1a Resources en el entorno del laboratorio.</li> <li>Selecciona Yes, all apps</li> <li>Selecciona Done</li> </ol> </li> <li> <p>Luego selecciona la suscripci\u00f3n Default desde la l\u00ednea de comandos, seleccionando Enter.</p> </li> <li> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p> </li> </ol>"},{"location":"es/getting-started/#autenticarse-con-el-servicio-devtunnel","title":"Autenticarse con el Servicio DevTunnel","text":"<p>DevTunnel permite al Servicio de Agentes de Azure AI acceder a tu Servidor MCP local durante el taller.</p> <pre><code>devtunnel login\n</code></pre> <p>Note</p> <p>Se te pedir\u00e1 usar la cuenta que usaste para <code>az login</code>. Selecciona la cuenta y contin\u00faa.</p> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p>"},{"location":"es/getting-started/#abrir-el-taller","title":"Abrir el Taller","text":"<p>Sigue estos pasos para abrir el taller en Visual Studio Code:</p> PythonC# <p>El siguiente bloque de comandos actualiza el repositorio del taller, activa el entorno virtual de Python y abre el proyecto en VS Code.</p> <p>Copia y pega el siguiente bloque de comandos al terminal y presiona Enter.</p> <pre><code>; cd $HOME\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol `\n; git pull `\n; .\\src\\python\\workshop\\.venv\\Scripts\\activate `\n; code .vscode\\python-workspace.code-workspace\n</code></pre> <p>Cuando el proyecto se abre en VS Code, aparecen dos notificaciones en la esquina inferior derecha. Haz clic en \u2716 para cerrar ambas notificaciones.</p> VS CodeVisual Studio 2022 <ol> <li> <p>Abre el taller en Visual Studio Code. Desde la ventana de terminal, ejecuta el siguiente comando:</p> <pre><code>; cd $HOME\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol `\n; git pull `\n;code .vscode\\csharp-workspace.code-workspace\n</code></pre> </li> </ol> <p>Cuando el proyecto se abre en VS Code, aparecer\u00e1 una notificaci\u00f3n en la esquina inferior derecha para instalar la extensi\u00f3n de C#. Haz clic en Install para instalar la extensi\u00f3n de C#, ya que esto proporcionar\u00e1 las caracter\u00edsticas necesarias para el desarrollo en C#.</p> <ol> <li> <p>Abre el taller en Visual Studio 2022. Desde la ventana de terminal, ejecuta el siguiente comando:</p> <pre><code>; git pull `\n;cd $HOME; start .\\aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol\\src\\csharp\\McpAgentWorkshop.slnx\n</code></pre> <p>Es posible que se te pregunte con qu\u00e9 programa abrir la soluci\u00f3n. Selecciona Visual Studio 2022.</p> </li> </ol>"},{"location":"es/getting-started/#estructura-del-proyecto","title":"Estructura del Proyecto","text":"PythonC# <p>Familiar\u00edzate con las carpetas y archivos clave en el espacio de trabajo con los que trabajar\u00e1s durante todo el taller.</p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/getting-started/#la-carpeta-workshop","title":"La carpeta \"workshop\"","text":"<ul> <li> <p>El archivo app.py: El punto de entrada para la aplicaci\u00f3n, conteniendo su l\u00f3gica principal.</p> <p>Nota la variable INSTRUCTIONS_FILE\u2014establece qu\u00e9 archivo de instrucciones usa el agente. Actualizar\u00e1s esta variable en un laboratorio posterior.</p> </li> <li> <p>El archivo resources.txt: Contiene los recursos utilizados por la aplicaci\u00f3n del agente.</p> </li> <li>El archivo .env: Contiene las variables de entorno utilizadas por la aplicaci\u00f3n del agente.</li> </ul>"},{"location":"es/getting-started/#la-carpeta-mcp_server","title":"La carpeta \"mcp_server\"","text":"<ul> <li>El archivo sales_analysis.py: El Servidor MCP con herramientas para an\u00e1lisis de ventas.</li> </ul>"},{"location":"es/getting-started/#la-carpeta-sharedinstructions","title":"La carpeta \"shared/instructions\"","text":"<ul> <li>La carpeta instructions: Contiene las instrucciones pasadas al LLM.</li> </ul>"},{"location":"es/getting-started/#estructura-del-proyecto_1","title":"Estructura del Proyecto","text":"<p>El proyecto usa Aspire para simplificar la construcci\u00f3n de la aplicaci\u00f3n del agente, gestionar el servidor MCP y orquestar todas las dependencias externas. La soluci\u00f3n est\u00e1 compuesta por cuatro proyectos, todos con el prefijo <code>McpAgentWorkshop</code>:</p> <ul> <li><code>AppHost</code>: El orquestador de Aspire, y proyecto de lanzamiento para el taller.</li> <li><code>McpServer</code>: El proyecto del servidor MCP.</li> <li><code>ServiceDefaults</code>: Configuraci\u00f3n predeterminada para servicios, como registro y telemetr\u00eda.</li> <li><code>WorkshopApi</code>: La API del Agente para el taller. La l\u00f3gica principal de la aplicaci\u00f3n est\u00e1 en la clase <code>AgentService</code>.</li> </ul> <p>Adem\u00e1s de los proyectos .NET en la soluci\u00f3n, hay una carpeta <code>shared</code> (visible como una Carpeta de Soluci\u00f3n, y a trav\u00e9s del explorador de archivos), que contiene:</p> <ul> <li><code>instructions</code>: Las instrucciones pasadas al LLM.</li> <li><code>scripts</code>: Scripts shell auxiliares para varias tareas, se har\u00e1 referencia a estos cuando sea necesario.</li> <li><code>webapp</code>: La aplicaci\u00f3n cliente front-end. Nota: Esta es una aplicaci\u00f3n Python, cuyo ciclo de vida ser\u00e1 gestionado por Aspire.</li> </ul> <p></p>"},{"location":"es/getting-started/#estudiantes-autoguiados","title":"Estudiantes Autoguiados","text":"<p>Estas instrucciones son para estudiantes autoguiados que no tienen acceso a un entorno de laboratorio preconfigurado. Sigue estos pasos para configurar tu entorno y comenzar el taller.</p>"},{"location":"es/getting-started/#introduccion_1","title":"Introducci\u00f3n","text":"<p>Este taller est\u00e1 dise\u00f1ado para ense\u00f1arte sobre el Servicio de Agentes de Azure AI y el SDK asociado. Consiste en m\u00faltiples laboratorios, cada uno destacando una caracter\u00edstica espec\u00edfica del Servicio de Agentes de Azure AI. Los laboratorios est\u00e1n destinados a completarse en orden, ya que cada uno se basa en el conocimiento y trabajo del laboratorio anterior.</p>"},{"location":"es/getting-started/#prerrequisitos","title":"Prerrequisitos","text":"<ol> <li>Acceso a una suscripci\u00f3n de Azure. Si no tienes una suscripci\u00f3n de Azure, crea una cuenta gratuita antes de comenzar.</li> <li>Necesitas una cuenta de GitHub. Si no tienes una, cr\u00e9ala en GitHub.</li> </ol>"},{"location":"es/getting-started/#seleccionar-lenguaje-de-programacion-del-taller_1","title":"Seleccionar Lenguaje de Programaci\u00f3n del Taller","text":"<p>El taller est\u00e1 disponible tanto en Python como en C#. Usa las pesta\u00f1as de selector de lenguaje para elegir tu lenguaje preferido. Nota, no cambies de lenguaje a mitad del taller.</p> <p>Selecciona la pesta\u00f1a para tu lenguaje preferido:</p> PythonC# <p>El lenguaje por defecto para el taller est\u00e1 establecido a Python.</p> <p>El lenguaje por defecto para el taller est\u00e1 establecido a C#.</p> <p>La versi\u00f3n C#/.NET de este taller est\u00e1 en beta y tiene problemas de estabilidad conocidos.</p> <p>Aseg\u00farate de leer la secci\u00f3n de gu\u00eda de soluci\u00f3n de problemas ANTES de comenzar el taller. De lo contrario, selecciona la versi\u00f3n de Python del taller.</p>"},{"location":"es/getting-started/#abrir-el-taller_1","title":"Abrir el Taller","text":"<p>Preferido: GitHub Codespaces, que proporciona un entorno preconfigurado con todas las herramientas requeridas. Alternativamente, ejecuta localmente con un Dev Container de Visual Studio Code y Docker. Usa las pesta\u00f1as a continuaci\u00f3n para elegir.</p> <p>Tip</p> <p>Las compilaciones de Codespaces o Dev Container toman aproximadamente 5 minutos. Inicia la compilaci\u00f3n, luego contin\u00faa leyendo mientras se completa.</p> GitHub CodespacesVS Code Dev Container <p>Selecciona Abrir en GitHub Codespaces para abrir el proyecto en GitHub Codespaces.</p> <p></p> <ol> <li> <p>Aseg\u00farate de tener lo siguiente instalado en tu m\u00e1quina local:</p> <ul> <li>Docker</li> <li>Visual Studio Code</li> <li>La extensi\u00f3n Remote - Containers</li> </ul> </li> <li> <p>Clona el repositorio en tu m\u00e1quina local:</p> <pre><code>git clone https://github.com/microsoft/aitour26-WRK540-unlock-your-agents-potential-with-model-context-protocol.git\n</code></pre> </li> <li> <p>Abre el repositorio clonado en Visual Studio Code.</p> </li> <li>Cuando se te solicite, selecciona Reabrir en Contenedor para abrir el proyecto en un Dev Container.</li> </ol>"},{"location":"es/getting-started/#autenticar-servicios-de-azure","title":"Autenticar Servicios de Azure","text":"<p>Danger</p> <p>Antes de proceder, aseg\u00farate de que tu Codespace o Dev Container est\u00e9 completamente construido y listo.</p>"},{"location":"es/getting-started/#autenticarse-con-devtunnel","title":"Autenticarse con DevTunnel","text":"<p>DevTunnel proporciona un servicio de reenv\u00edo de puertos que se usar\u00e1 en el taller para permitir al Servicio de Agentes de Azure AI acceder al Servidor MCP que ejecutar\u00e1s en tu entorno de desarrollo local. Sigue estos pasos para autenticarte:</p> <ol> <li>Desde VS Code, presiona Ctrl + Shift + ` para abrir una nueva ventana de terminal. Luego ejecuta el siguiente comando:</li> <li>Ejecuta el siguiente comando para autenticarte con DevTunnel:</li> </ol> <pre><code>devtunnel login\n</code></pre> <ol> <li> <p>Sigue estos pasos para autenticarte:</p> </li> <li> <p>Copia el C\u00f3digo de Autenticaci\u00f3n al portapapeles.</p> </li> <li>Mant\u00e9n presionada la tecla ctrl o cmd.</li> <li>Selecciona la URL de autenticaci\u00f3n para abrirla en tu navegador.</li> <li>Pega el c\u00f3digo y haz clic en Siguiente.</li> <li>Elige una cuenta e inicia sesi\u00f3n.</li> <li>Selecciona Continuar</li> <li> <p>Regresa a la ventana de terminal en VS Code.</p> </li> <li> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p> </li> </ol>"},{"location":"es/getting-started/#autenticarse-con-azure_1","title":"Autenticarse con Azure","text":"<p>Aut\u00e9nticate con Azure para permitir que la aplicaci\u00f3n del agente acceda al Servicio de Agentes de Azure AI y a los modelos. Sigue estos pasos:</p> <ol> <li> <p>Luego ejecuta el siguiente comando:</p> <pre><code>az login --use-device-code\n</code></pre> <p>Warning</p> <p>Si tienes m\u00faltiples inquilinos de Azure, especifica el correcto usando:</p> <pre><code>az login --use-device-code --tenant &lt;tenant_id&gt;\n</code></pre> </li> <li> <p>Sigue estos pasos para autenticarte:</p> <ol> <li>Copia el C\u00f3digo de Autenticaci\u00f3n al portapapeles.</li> <li>Mant\u00e9n presionada la tecla ctrl o cmd.</li> <li>Selecciona la URL de autenticaci\u00f3n para abrirla en tu navegador.</li> <li>Pega el c\u00f3digo y haz clic en Siguiente.</li> <li>Elige una cuenta e inicia sesi\u00f3n.</li> <li>Selecciona Continuar</li> <li>Regresa a la ventana de terminal en VS Code.</li> <li>Si se te solicita, selecciona una suscripci\u00f3n.</li> </ol> </li> <li> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p> </li> </ol>"},{"location":"es/getting-started/#desplegar-los-recursos-de-azure","title":"Desplegar los Recursos de Azure","text":"<p>Este despliegue crea los siguientes recursos en tu suscripci\u00f3n de Azure.</p> <ul> <li>Un grupo de recursos llamado rg-zava-agent-wks-nnnnnnnn</li> <li>Un hub de Microsoft Foundry llamado fdy-zava-agent-wks-nnnnnnnn</li> <li>Un proyecto de Microsoft Foundry llamado prj-zava-agent-wks-nnnnnnnn</li> <li>Dos modelos est\u00e1n desplegados: gpt-4o y text-embedding-3-small. Ver precios.</li> <li>Recurso Application Insights llamado appi-zava-agent-wks-nnnnnnnn. Ver precios</li> <li>Para mantener bajos los costos del taller, PostgreSQL se ejecuta en un contenedor local dentro de tu Codespace o Dev Container en lugar de como un servicio en la nube. Ve Azure Database for PostgreSQL Flexible Server para aprender sobre las opciones para un servicio PostgreSQL administrado.</li> </ul> <p>Aseg\u00farate de tener al menos las siguientes cuotas de modelo\" - Cuota de 120K TPM para el SKU Global Standard de gpt-4o, ya que el agente hace llamadas frecuentes al modelo. - 50K TPM para el modelo text-embedding-3-small SKU Global Standard. - Verifica tu cuota en el Centro de Gesti\u00f3n de AI Foundry.</p>"},{"location":"es/getting-started/#despliegue-automatizado","title":"Despliegue Automatizado","text":"<p>Ejecuta el siguiente script bash para automatizar el despliegue de los recursos requeridos para el taller. El script <code>deploy.sh</code> despliega recursos en la regi\u00f3n <code>westus</code> por defecto. Para ejecutar el script:</p> <pre><code>cd infra &amp;&amp; ./deploy.sh\n</code></pre>"},{"location":"es/getting-started/#configuracion-del-taller","title":"Configuraci\u00f3n del Taller","text":"PythonC# <p>El script almacena de forma segura las variables del proyecto usando el Secret Manager para secretos de desarrollo de ASP.NET Core.</p> <p>Puedes ver los secretos ejecutando el siguiente comando despu\u00e9s de haber abierto el espacio de trabajo de C# en VS Code:</p> <pre><code>dotnet user-secrets list\n</code></pre>"},{"location":"es/getting-started/#configuracion-de-recursos-de-azure","title":"Configuraci\u00f3n de Recursos de Azure","text":"<p>El script de despliegue genera el archivo .env, que contiene los endpoints del proyecto y modelo, nombres de despliegue del modelo, y cadena de conexi\u00f3n de Application Insights. El archivo .env se guardar\u00e1 autom\u00e1ticamente en la carpeta <code>src/python/workshop</code>.</p> <p>Tu archivo .env se ver\u00e1 similar al siguiente, actualizado con tus valores:</p> <pre><code>PROJECT_ENDPOINT=\"&lt;tu_endpoint_del_proyecto&gt;\"\nGPT_MODEL_DEPLOYMENT_NAME=\"&lt;tu_nombre_despliegue_modelo&gt;\"\nEMBEDDING_MODEL_DEPLOYMENT_NAME=\"&lt;tu_nombre_despliegue_modelo_embedding&gt;\"\nAPPLICATIONINSIGHTS_CONNECTION_STRING=\"&lt;tu_cadena_conexion_application_insights&gt;\"\nAZURE_TRACING_GEN_AI_CONTENT_RECORDING_ENABLED=\"true\"\nAZURE_OPENAI_ENDPOINT=\"&lt;tu_endpoint_azure_openai&gt;\"\n</code></pre>"},{"location":"es/getting-started/#nombres-de-recursos-de-azure","title":"Nombres de Recursos de Azure","text":"<p>Tambi\u00e9n encontrar\u00e1s un archivo llamado <code>resources.txt</code> en la carpeta <code>workshop</code>. Este archivo contiene los nombres de los recursos de Azure creados durante el despliegue.</p> <p>Se ver\u00e1 similar al siguiente:</p> <pre><code>Recursos de Microsoft Foundry:\n- Nombre del Grupo de Recursos: rg-zava-agent-wks-nnnnnnnn\n- Nombre del Proyecto AI: prj-zava-agent-wks-nnnnnnnn\n- Nombre del Recurso Foundry: fdy-zava-agent-wks-nnnnnnnn\n- Nombre de Application Insights: appi-zava-agent-wks-nnnnnnnn\n</code></pre>"},{"location":"es/getting-started/#abrir-el-espacio-de-trabajo-de-vs-code","title":"Abrir el Espacio de Trabajo de VS Code","text":"<p>Hay dos espacios de trabajo de VS Code en el taller, uno para Python y uno para C#. El espacio de trabajo contiene el c\u00f3digo fuente y todos los archivos necesarios para completar los laboratorios para cada lenguaje. Elige el espacio de trabajo que coincida con el lenguaje con el que quieres trabajar.</p> PythonC# <ol> <li> <p>Copia la siguiente ruta al portapapeles:</p> <pre><code>/workspace/.vscode/python-workspace.code-workspace\n</code></pre> </li> <li> <p>Desde el men\u00fa de VS Code, selecciona Archivo luego Abrir Espacio de Trabajo desde Archivo.</p> </li> <li>Reemplaza y pega el nombre de ruta copiado y selecciona OK.</li> </ol> <ol> <li>En Visual Studio Code, ve a Archivo &gt; Abrir Espacio de Trabajo desde Archivo.</li> <li> <p>Reemplaza la ruta por defecto con la siguiente:</p> <pre><code>/workspace/.vscode/csharp-workspace.code-workspace\n</code></pre> </li> <li> <p>Selecciona OK para abrir el espacio de trabajo.</p> </li> </ol> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/getting-started/#estructura-del-proyecto_2","title":"Estructura del Proyecto","text":"<p>Familiar\u00edzate con las carpetas y archivos clave en el espacio de trabajo con los que trabajar\u00e1s durante todo el taller.</p>"},{"location":"es/getting-started/#la-carpeta-workshop_1","title":"La carpeta \"workshop\"","text":"<ul> <li> <p>El archivo app.py: El punto de entrada para la aplicaci\u00f3n, conteniendo su l\u00f3gica principal.</p> <p>Nota la variable INSTRUCTIONS_FILE\u2014establece qu\u00e9 archivo de instrucciones usa el agente. Actualizar\u00e1s esta variable en un laboratorio posterior.</p> </li> <li> <p>El archivo resources.txt: Contiene los recursos utilizados por la aplicaci\u00f3n del agente.</p> </li> <li>El archivo .env: Contiene las variables de entorno utilizadas por la aplicaci\u00f3n del agente.</li> </ul>"},{"location":"es/getting-started/#la-carpeta-mcp_server_1","title":"La carpeta \"mcp_server\"","text":"<ul> <li>El archivo sales_analysis.py: El Servidor MCP con herramientas para an\u00e1lisis de ventas.</li> </ul>"},{"location":"es/getting-started/#la-carpeta-sharedinstructions_1","title":"La carpeta \"shared/instructions\"","text":"<ul> <li>La carpeta instructions: Contiene las instrucciones pasadas al LLM.</li> </ul>"},{"location":"es/getting-started/#estructura-del-proyecto_3","title":"Estructura del Proyecto","text":"<p>El proyecto usa Aspire para simplificar la construcci\u00f3n de la aplicaci\u00f3n del agente, gestionar el servidor MCP y orquestar todas las dependencias externas. La soluci\u00f3n est\u00e1 compuesta por cuatro proyectos, todos con el prefijo <code>McpAgentWorkshop</code>:</p> <ul> <li><code>AppHost</code>: El orquestador de Aspire, y proyecto de lanzamiento para el taller.</li> <li><code>McpServer</code>: El proyecto del servidor MCP.</li> <li><code>ServiceDefaults</code>: Configuraci\u00f3n predeterminada para servicios, como registro y telemetr\u00eda.</li> <li><code>WorkshopApi</code>: La API del Agente para el taller. La l\u00f3gica principal de la aplicaci\u00f3n est\u00e1 en la clase <code>AgentService</code>.</li> </ul> <p>Adem\u00e1s de los proyectos .NET en la soluci\u00f3n, hay una carpeta <code>shared</code> (visible como una Carpeta de Soluci\u00f3n, y a trav\u00e9s del explorador de archivos), que contiene:</p> <ul> <li><code>instructions</code>: Las instrucciones pasadas al LLM.</li> <li><code>scripts</code>: Scripts shell auxiliares para varias tareas, se har\u00e1 referencia a estos cuando sea necesario.</li> <li><code>webapp</code>: La aplicaci\u00f3n cliente front-end. Nota: Esta es una aplicaci\u00f3n Python, cuyo ciclo de vida ser\u00e1 gestionado por Aspire.</li> </ul> <p></p>"},{"location":"es/hw-1-start-mcp-server/#lo-que-aprenderas","title":"Lo Que Aprender\u00e1s","text":"<p>En este laboratorio, aprender\u00e1s a:</p> <ul> <li>Usar DevTunnel para hacer tu servidor MCP local accesible a servicios de agentes basados en la nube</li> <li>Configurar tu entorno para experimentaci\u00f3n pr\u00e1ctica con el Protocolo de Contexto de Modelo</li> </ul>"},{"location":"es/hw-1-start-mcp-server/#introduccion","title":"Introducci\u00f3n","text":"<p>El servidor del Protocolo de Contexto de Modelo (MCP) es un componente crucial que maneja la comunicaci\u00f3n entre los Modelos de Lenguaje Grande (LLMs) y herramientas externas y fuentes de datos. Ejecutar\u00e1s el servidor MCP en tu m\u00e1quina local, pero el Servicio de Agentes de Microsoft Foundry requiere acceso a internet para conectarse a \u00e9l. Para hacer tu servidor MCP local accesible desde internet, usar\u00e1s un DevTunnel. Esto permite que el Servicio de Agentes se comunique con tu servidor MCP como si estuviera ejecut\u00e1ndose como un servicio en Azure.</p>"},{"location":"es/hw-1-start-mcp-server/#opciones-de-interfaz-para-mcp","title":"Opciones de interfaz para MCP","text":"<p>MCP soporta dos interfaces principales para conectar LLMs con herramientas:</p> <ul> <li>Transporte HTTP Transmisible: Para APIs y servicios basados en web.</li> <li>Transporte Stdio: Para scripts locales y herramientas de l\u00ednea de comandos.</li> </ul> <p>Este laboratorio usa la interfaz de transporte HTTP Transmisible para integrarse con el Servicio de Agentes de Microsoft Foundry.</p> <p>Nota</p> <p>Normalmente, desplegar\u00edas el servidor MCP en un entorno de producci\u00f3n, pero para este taller, lo ejecutar\u00e1s localmente en tu entorno de desarrollo. Esto te permite probar e interactuar con las herramientas MCP sin necesidad de un despliegue completo.</p>"},{"location":"es/hw-1-start-mcp-server/#iniciar-un-devtunnel-para-el-servidor-mcp","title":"Iniciar un DevTunnel para el Servidor MCP","text":"<ol> <li> <p>En una nueva terminal, autentica DevTunnel. Se te pedir\u00e1 que inicies sesi\u00f3n con tu cuenta de Azure, usa la misma cuenta que usaste para iniciar sesi\u00f3n en el Servicio de Agentes de Microsoft Foundry o el Portal de Azure. Ejecuta el siguiente comando:</p> <pre><code>devtunnel login\n</code></pre> </li> <li> <p>A continuaci\u00f3n, en la terminal donde el servidor MCP est\u00e1 ejecut\u00e1ndose, inicia un DevTunnel ejecutando:</p> <pre><code>devtunnel host -p 8000 --allow-anonymous\n</code></pre> <p>Esto producir\u00e1 una URL que necesitar\u00e1s para que el agente se conecte al servidor MCP. La salida ser\u00e1 similar a:</p> <pre><code>Hosting port: 8000\nConnect via browser: https://&lt;tunnel-id&gt;-8000.aue.devtunnels.ms\nInspect network activity: https://&lt;tunnel-id&gt;-8000-inspect.aue.devtunnels.ms\n</code></pre> </li> </ol>"},{"location":"es/hw-1-start-mcp-server/#actualizar-la-variable-de-entorno-devtunnel","title":"Actualizar la Variable de Entorno DevTunnel","text":"<ol> <li>Copia la URL Connect via browser al portapapeles - la necesitar\u00e1s en el siguiente laboratorio para configurar el agente.</li> <li>Abre el archivo <code>.env</code> en la carpeta workshop.</li> <li> <p>Actualiza la variable <code>DEV_TUNNEL_URL</code> con la URL copiada.</p> <pre><code>DEV_TUNNEL_URL=https://&lt;tunnel-id&gt;-8000.aue.devtunnels.ms\n</code></pre> </li> </ol>"},{"location":"es/hw-1-start-mcp-server/#iniciar-la-aplicacion-del-agente","title":"Iniciar la Aplicaci\u00f3n del Agente","text":"<ol> <li> <p>Copia el texto de abajo al portapapeles:</p> <pre><code>Debug: Select and Start Debugging\n</code></pre> </li> <li> <p>Presiona F1 para abrir la Paleta de Comandos de VS Code.</p> </li> <li>Pega el texto en la Paleta de Comandos y selecciona Debug: Select and Start Debugging.</li> <li>Selecciona \ud83c\udf0e\ud83e\udd16Debug Compound: Agent and MCP (http) de la lista. Esto iniciar\u00e1 la aplicaci\u00f3n del agente y el cliente de chat web.</li> </ol>"},{"location":"es/hw-1-start-mcp-server/#iniciar-una-conversacion-con-el-agente","title":"Iniciar una conversaci\u00f3n con el Agente","text":"<p>Cambia a la pesta\u00f1a Web Chat en tu navegador. Deber\u00edas ver la aplicaci\u00f3n del agente ejecut\u00e1ndose y lista para aceptar preguntas.</p>"},{"location":"es/hw-1-start-mcp-server/#depurando-con-devtunnel","title":"Depurando con DevTunnel","text":"<p>Puedes usar DevTunnel para depurar el servidor MCP y la aplicaci\u00f3n del agente. Esto te permite inspeccionar la actividad de red y solucionar problemas en tiempo real.</p> <ol> <li>Selecciona la URL Inspect network activity de la salida de DevTunnel.</li> <li>Esto abrir\u00e1 una nueva pesta\u00f1a en tu navegador donde puedes ver la actividad de red del servidor MCP y la aplicaci\u00f3n del agente.</li> <li>Puedes usar esto para depurar cualquier problema que surja durante el taller.</li> </ol> <p>Tambi\u00e9n puedes establecer puntos de interrupci\u00f3n en el c\u00f3digo del servidor MCP y el c\u00f3digo de la aplicaci\u00f3n del agente para depurar problemas espec\u00edficos. Para hacer esto:</p> <ol> <li>Abre el archivo <code>sales_analysis.py</code> en la carpeta <code>mcp_server</code>.</li> <li>Establece un punto de interrupci\u00f3n haciendo clic en el margen junto al n\u00famero de l\u00ednea donde quieres pausar la ejecuci\u00f3n.</li> <li>Cuando la ejecuci\u00f3n alcance el punto de interrupci\u00f3n, puedes inspeccionar variables, recorrer el c\u00f3digo paso a paso y evaluar expresiones en la Consola de Depuraci\u00f3n.</li> </ol> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/lab-1-agent-instructions/","title":"Laboratorio 1 Instrucciones del Agente","text":""},{"location":"es/lab-1-agent-instructions/#lo-que-aprenderas","title":"Lo Que Aprender\u00e1s","text":"<p>En este laboratorio, revisar\u00e1s y actualizar\u00e1s las instrucciones del agente para incluir una regla sobre el a\u00f1o fiscal que comienza el 1 de julio. Esto es importante para que el agente interprete y analice correctamente los datos de ventas.</p>"},{"location":"es/lab-1-agent-instructions/#introduccion","title":"Introducci\u00f3n","text":"<p>El prop\u00f3sito de las instrucciones del agente es definir el comportamiento del agente, incluyendo c\u00f3mo interact\u00faa con los usuarios, qu\u00e9 herramientas puede usar y c\u00f3mo debe responder a diferentes tipos de consultas. En este laboratorio, revisar\u00e1s las instrucciones existentes del agente y har\u00e1s una peque\u00f1a actualizaci\u00f3n para asegurar que el agente interprete correctamente el a\u00f1o fiscal.</p>"},{"location":"es/lab-1-agent-instructions/#ejercicio-del-laboratorio","title":"Ejercicio del Laboratorio","text":""},{"location":"es/lab-1-agent-instructions/#abrir-las-instrucciones-del-agente","title":"Abrir las Instrucciones del Agente","text":"<ol> <li>Desde el Explorador de VS Code, navega a la carpeta <code>shared/instructions</code>.</li> <li>Abre el archivo <code>mcp_server_tools_with_code_interpreter.txt</code>.</li> </ol>"},{"location":"es/lab-1-agent-instructions/#revisar-las-instrucciones-del-agente","title":"Revisar las Instrucciones del Agente","text":"<p>Revisa c\u00f3mo las instrucciones definen el comportamiento de la aplicaci\u00f3n del agente:</p> <p>En VS Code, presiona Alt + Z (Windows/Linux) u Option + Z (Mac) para habilitar el modo de ajuste de l\u00ednea, haciendo las instrucciones m\u00e1s f\u00e1ciles de leer.</p> <ul> <li>Rol Principal: Agente de ventas para Zava (minorista de bricolaje WA) con tono profesional y amigable usando emojis y sin suposiciones o contenido no verificado.</li> <li>Reglas de Base de Datos: Siempre obtener esquemas primero (get_multiple_table_schemas()) con LIMIT 20 obligatorio en todas las consultas SELECT usando nombres exactos de tabla/columna.</li> <li>Visualizaciones: Crear gr\u00e1ficos SOLO cuando se solicite expl\u00edcitamente usando activadores como \"gr\u00e1fico\", \"graficar\", \"visualizar\", o \"mostrar como [tipo]\" en formato PNG descargado de sandbox sin rutas de imagen markdown.</li> <li>Respuestas: Por defecto a tablas Markdown con soporte multi-idioma y CSV disponible bajo solicitud.</li> <li>Seguridad: Mantener en el alcance solo de datos de ventas de Zava con respuestas exactas para consultas fuera de alcance/poco claras y redirigir usuarios hostiles a TI.</li> <li>Restricciones Clave: Sin datos inventados usando solo herramientas con l\u00edmite de 20 filas e im\u00e1genes PNG siempre.</li> </ul>"},{"location":"es/lab-1-agent-instructions/#actualizar-las-instrucciones-del-agente","title":"Actualizar las Instrucciones del Agente","text":"<p>Copia el texto de abajo y pega directamente despu\u00e9s de la regla sobre no generar contenido no verificado o hacer suposiciones:</p> <p>Haz clic en el \u00edcono de copiar a la derecha para copiar el texto al portapapeles.</p> <pre><code>- **El a\u00f1o fiscal (AF) comienza el 1 jul** (Q1=Jul\u2013Sep, Q2=Oct\u2013Dic, Q3=Ene\u2013Mar, Q4=Abr\u2013Jun).\n</code></pre> <p>Las instrucciones actualizadas deber\u00edan verse as\u00ed:</p> <pre><code>- Usa **solo** salidas de herramientas verificadas; **nunca** inventes datos o suposiciones.\n- **El a\u00f1o fiscal (AF) comienza el 1 jul** (Q1=Jul\u2013Sep, Q2=Oct\u2013Dic, Q3=Ene\u2013Mar, Q4=Abr\u2013Jun).\n</code></pre> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/lab-2-start-the-agent/","title":"Laboratorio 2 Iniciar tu Agente","text":""},{"location":"es/lab-2-start-the-agent/#lo-que-aprenderas","title":"Lo Que Aprender\u00e1s","text":"<p>En este laboratorio, habilitar\u00e1s el Int\u00e9rprete de C\u00f3digo para analizar datos de ventas y crear gr\u00e1ficos usando lenguaje natural.</p>"},{"location":"es/lab-2-start-the-agent/#introduccion","title":"Introducci\u00f3n","text":"<p>En este laboratorio, extender\u00e1s el Agente de Azure AI con dos herramientas:</p> <ul> <li>Int\u00e9rprete de C\u00f3digo: Permite al agente generar y ejecutar c\u00f3digo Python para an\u00e1lisis de datos y visualizaci\u00f3n.</li> <li>Herramientas del Servidor MCP: Permiten al agente acceder a fuentes de datos externas usando Herramientas MCP, en nuestro caso datos en una base de datos PostgreSQL.</li> </ul>"},{"location":"es/lab-2-start-the-agent/#ejercicio-del-laboratorio","title":"Ejercicio del Laboratorio","text":""},{"location":"es/lab-2-start-the-agent/#habilitar-el-interprete-de-codigo-y-el-servidor-mcp","title":"Habilitar el Int\u00e9rprete de C\u00f3digo y el Servidor MCP","text":"<p>En este laboratorio, habilitar\u00e1s dos herramientas poderosas que trabajan juntas: el Int\u00e9rprete de C\u00f3digo (que ejecuta c\u00f3digo Python generado por IA para an\u00e1lisis de datos y visualizaci\u00f3n) y el Servidor MCP (que proporciona acceso seguro a los datos de ventas de Zava almacenados en PostgreSQL).</p> PythonC# <ol> <li>Abre el <code>app.py</code>.</li> <li>Despl\u00e1zate hacia abajo hasta la l\u00ednea 67 y encuentra las l\u00edneas que agregan la herramienta Int\u00e9rprete de C\u00f3digo y las herramientas del Servidor MCP al conjunto de herramientas del agente. Estas l\u00edneas est\u00e1n actualmente comentadas con caracteres # m\u00e1s espacio al principio.</li> <li> <p>Descomenta las siguientes l\u00edneas:</p> <p>\u00a1La indentaci\u00f3n importa en Python!</p> <p>Al descomentar, elimina tanto el s\u00edmbolo <code>#</code> COMO el espacio que le sigue. Esto asegura que el c\u00f3digo mantenga la indentaci\u00f3n apropiada de Python y se alinee correctamente con el c\u00f3digo circundante.</p> <pre><code># self.toolset.add(code_interpreter_tool)\n# self.toolset.add(mcp_server_tools)\n</code></pre> <p>\u00bfQu\u00e9 hace este c\u00f3digo?</p> <ul> <li>Herramienta Int\u00e9rprete de C\u00f3digo: Permite al agente ejecutar c\u00f3digo Python para an\u00e1lisis de datos y visualizaci\u00f3n.</li> <li>Herramientas del Servidor MCP: Proporciona acceso a fuentes de datos externas con herramientas espec\u00edficas permitidas y sin aprobaci\u00f3n humana requerida. Para aplicaciones de producci\u00f3n, considera habilitar autorizaci\u00f3n humana en el bucle para operaciones sensibles.</li> </ul> </li> <li> <p>Revisa el c\u00f3digo que descomentaste. El c\u00f3digo deber\u00eda verse exactamente as\u00ed:</p> <p>Despu\u00e9s de descomentar, tu c\u00f3digo deber\u00eda verse as\u00ed:</p> <pre><code>async def _setup_agent_tools(self) -&gt; None:\n    \"\"\"Setup MCP tools and code interpreter.\"\"\"\n    logger.info(\"Setting up Agent tools...\")\n    self.toolset = AsyncToolSet()\n\n    code_interpreter_tool = CodeInterpreterTool()\n\n    mcp_server_tools = McpTool(\n        server_label=\"ZavaSalesAnalysisMcpServer\",\n        server_url=Config.DEV_TUNNEL_URL,\n        allowed_tools=[\n            \"get_multiple_table_schemas\",\n            \"execute_sales_query\",\n            \"get_current_utc_date\",\n            \"semantic_search_products\",\n        ],\n    )\n    mcp_server_tools.set_approval_mode(\"never\")  # No human in the loop\n\n    self.toolset.add(code_interpreter_tool)\n    self.toolset.add(mcp_server_tools)\n</code></pre> \ud83d\ude80 Para Desarrolladores: Modo de Aprobaci\u00f3n Humana en el Bucle <p>Las herramientas del Servidor MCP est\u00e1n configuradas con <code>\"never\"</code> para requisitos de aprobaci\u00f3n humana (el predeterminado es <code>\"always\"</code>). Usamos el modo \"never\" en este taller porque solo estamos realizando operaciones seguras como leer datos de ventas. Para aplicaciones de producci\u00f3n que involucren operaciones sensibles como transacciones financieras o modificaciones de datos, deber\u00edas usar el modo \"always\" para requerir autorizaci\u00f3n humana. Para aprender c\u00f3mo implementar flujos de trabajo de aprobaci\u00f3n Humana en el Bucle, consulta la muestra de Agentes de Azure AI Humano en el Bucle.</p> </li> </ol> <ol> <li>Abre <code>AgentService.cs</code> del folder <code>Services</code> del proyecto <code>McpAgentWorkshop.WorkshopApi</code>.</li> <li>Navega al m\u00e9todo <code>InitialiseAgentAsync</code>.</li> <li> <p>Descomenta las siguientes l\u00edneas:</p> <pre><code>// var mcpTool = new MCPToolDefinition(\n//     ZavaMcpToolLabel,\n//     devtunnelUrl + \"mcp\");\n\n// var codeInterpreterTool = new CodeInterpreterToolDefinition();\n\n// IEnumerable&lt;ToolDefinition&gt; tools = [mcpTool, codeInterpreterTool];\n\n// persistentAgent = await persistentAgentsClient.Administration.CreateAgentAsync(\n//         name: AgentName,\n//         model: configuration.GetValue&lt;string&gt;(\"MODEL_DEPLOYMENT_NAME\"),\n//         instructions: instructionsContent,\n//         temperature: modelTemperature,\n//         tools: tools);\n\n// logger.LogInformation(\"Agent created with ID: {AgentId}\", persistentAgent.Id);\n</code></pre> </li> </ol>"},{"location":"es/lab-2-start-the-agent/#iniciar-la-aplicacion-del-agente","title":"Iniciar la Aplicaci\u00f3n del Agente","text":"<ol> <li>Selecciona el \u00edcono Run and Debug de la barra lateral de VS Code.</li> <li>Selecciona \"\ud83c\udf0e\ud83e\udd16Debug Compound: Agent and MCP (http)\" como la configuraci\u00f3n de lanzamiento.</li> <li>Selecciona el bot\u00f3n verde Run (o presiona F5) para iniciar la aplicaci\u00f3n del agente.</li> </ol> <p>Esto inicia los siguientes procesos:</p> <ol> <li>DevTunnel (workshop) Task</li> <li>Web Chat (workshop)</li> <li>Agent Manager (workshop)</li> <li>MCP Server (workshop)</li> </ol> <p>En VS Code ver\u00e1s estos ejecut\u00e1ndose en el panel TERMINAL.</p> <p></p>"},{"location":"es/lab-2-start-the-agent/#abrir-el-cliente-de-chat-web-del-agente","title":"Abrir el Cliente de Chat Web del Agente","text":"@Asistentes al EventoEstudiantes Auto-Guiados <p>Selecciona el siguiente enlace para abrir la aplicaci\u00f3n Web Chat en el navegador.</p> <p>Abrir Web Chat @ http://localhost:8005</p> <p></p>"},{"location":"es/lab-2-start-the-agent/#hacer-el-puerto-8005-publico","title":"Hacer el Puerto 8005 P\u00fablico","text":"<p>Necesitas hacer el puerto 8005 p\u00fablico para poder acceder al cliente de chat web en tu navegador.</p> <ol> <li>Selecciona la pesta\u00f1a Ports en el panel inferior de VS Code.</li> <li>Haz clic derecho en el puerto Web Chat App (8005) y selecciona Port Visibility.</li> <li>Selecciona Public.</li> </ol> <p></p>"},{"location":"es/lab-2-start-the-agent/#abrir-el-cliente-de-chat-web-en-el-navegador","title":"Abrir el Cliente de Chat Web en el Navegador","text":"<ol> <li>Copia el texto de abajo al portapapeles:</li> </ol> <pre><code>Open Port in Browser\n</code></pre> <ol> <li>Presiona F1 para abrir la Paleta de Comandos de VS Code.</li> <li>Pega el texto en la Paleta de Comandos y selecciona Open Port in Browser.</li> <li>Selecciona 8005 de la lista. Esto abrir\u00e1 el cliente de chat web del agente en tu navegador.</li> </ol>"},{"location":"es/lab-2-start-the-agent/#iniciar-la-aplicacion-del-agente_1","title":"Iniciar la Aplicaci\u00f3n del Agente","text":"<ol> <li>Presiona F1 para abrir la Paleta de Comandos de VS Code.</li> <li>Selecciona Debug Aspire como la configuraci\u00f3n de lanzamiento.</li> </ol> <p>Una vez que el depurador se haya lanzado, se abrir\u00e1 una ventana del navegador con el panel de Aspire. Una vez que todos los recursos hayan iniciado, puedes lanzar la aplicaci\u00f3n web del taller haciendo clic en el enlace Workshop Frontend.</p> <p></p> <p>Soluci\u00f3n de Problemas</p> <p>Si el navegador no carga, intenta refrescar completamente la p\u00e1gina (Ctrl + F5 o Cmd + Shift + R). Si a\u00fan no carga, consulta la gu\u00eda de soluci\u00f3n de problemas.</p>"},{"location":"es/lab-2-start-the-agent/#iniciar-una-conversacion-con-el-agente","title":"Iniciar una Conversaci\u00f3n con el Agente","text":"<p>Desde el cliente de chat web, puedes iniciar una conversaci\u00f3n con el agente. El agente est\u00e1 dise\u00f1ado para responder preguntas sobre los datos de ventas de Zava y generar visualizaciones usando el Int\u00e9rprete de C\u00f3digo.</p> <ol> <li> <p>An\u00e1lisis de ventas de productos. Copia y pega la siguiente pregunta en el chat:</p> <pre><code>Show the top 10 products by revenue by store for the last quarter\n</code></pre> <p>Despu\u00e9s de un momento, el agente responder\u00e1 con una tabla mostrando los 10 productos principales por ingresos para cada tienda.</p> <p>Info</p> <p>El agente usa el LLM llama tres herramientas del Servidor MCP para obtener los datos y mostrarlos en una tabla:</p> <ol> <li>get_current_utc_date(): Obtiene la fecha y hora actual para que el agente pueda determinar el \u00faltimo trimestre relativo a la fecha actual.</li> <li>get_multiple_table_schemas(): Obtiene los esquemas de las tablas en la base de datos requeridos por el LLM para generar SQL v\u00e1lido.</li> <li>execute_sales_query: Ejecuta una consulta SQL para obtener los 10 productos principales por ingresos del \u00faltimo trimestre de la base de datos PostgreSQL.</li> </ol> <p>Tip</p> PythonC# <p>Regresa a VS Code y selecciona MCP Server (workspace) del panel TERMINAL y ver\u00e1s las llamadas hechas al Servidor MCP por el Servicio de Agentes de Microsoft Foundry.</p> <p></p> <p>En el panel de Aspire, puedes seleccionar los logs para el recurso <code>dotnet-mcp-server</code> para ver las llamadas hechas al Servidor MCP por el Servicio de Agentes de Microsoft Foundry.</p> <p>Tambi\u00e9n puedes abrir la vista de trazas y encontrar el rastreo de extremo a extremo de la aplicaci\u00f3n, desde la entrada del usuario en el chat web, hasta las llamadas del agente y las llamadas de herramientas MCP.</p> <p></p> </li> <li> <p>Generar un gr\u00e1fico de pastel. Copia y pega la siguiente pregunta en el chat:</p> <pre><code>Show sales by store for this financial year\n</code></pre> <p>luego contin\u00faa con:</p> <pre><code>Show as a Pie Chart\n</code></pre> <p>El agente responder\u00e1 con un gr\u00e1fico de pastel mostrando la distribuci\u00f3n de ventas por tienda para el a\u00f1o fiscal actual.</p> <p>Info</p> <p>Esto podr\u00eda sentirse como magia, entonces \u00bfqu\u00e9 est\u00e1 pasando detr\u00e1s de escena para hacer que todo funcione?</p> <p>El Servicio de Agentes de Foundry orquesta los siguientes pasos:</p> <ol> <li>Como la pregunta anterior, el agente determina si tiene los esquemas de tabla requeridos para la consulta. Si no, usa las herramientas get_multiple_table_schemas() para obtener la fecha actual y el esquema de la base de datos.</li> <li>El agente luego usa la herramienta execute_sales_query para obtener las ventas</li> <li>Usando los datos devueltos, el LLM escribe c\u00f3digo Python para crear un Gr\u00e1fico de Pastel.</li> <li>Finalmente, el Int\u00e9rprete de C\u00f3digo ejecuta el c\u00f3digo Python para generar el gr\u00e1fico.</li> </ol> </li> <li> <p>Contin\u00faa haciendo preguntas sobre los datos de ventas de Zava para ver el Int\u00e9rprete de C\u00f3digo en acci\u00f3n. Aqu\u00ed hay algunas preguntas de seguimiento que podr\u00edas querer probar:</p> <ul> <li><code>Determine which products or categories drive sales. Show as a Bar Chart.</code></li> <li><code>What would be the impact of a shock event (e.g., 20% sales drop in one region) on global sales distribution? Show as a Grouped Bar Chart.</code></li> <li><code>Which regions have sales above or below the average? Show as a Bar Chart with Deviation from Average.</code></li> <li><code>Simulate future sales by region using a Monte Carlo simulation to estimate confidence intervals. Show as a Line with Confidence Bands using vivid colors.</code></li> </ul> </li> </ol>"},{"location":"es/lab-2-start-the-agent/#mantener-la-aplicacion-del-agente-en-ejecucion","title":"Mantener la Aplicaci\u00f3n del Agente En Ejecuci\u00f3n","text":"<p>Deja la aplicaci\u00f3n del agente ejecut\u00e1ndose ya que la usar\u00e1s en el siguiente laboratorio para extender el agente con m\u00e1s herramientas y capacidades.</p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/lab-3-mcp-semantic-search/","title":"Laboratorio 3 B\u00fasqueda Sem\u00e1ntica","text":""},{"location":"es/lab-3-mcp-semantic-search/#lo-que-aprenderas","title":"Lo Que Aprender\u00e1s","text":"<p>En este laboratorio, habilitas las capacidades de b\u00fasqueda sem\u00e1ntica en el Agente de Azure AI usando el Servidor MCP y la base de datos PostgreSQL con la extensi\u00f3n PostgreSQL Vector habilitada.</p>"},{"location":"es/lab-3-mcp-semantic-search/#introduccion","title":"Introducci\u00f3n","text":"<p>Este laboratorio actualiza el Agente de Azure AI con b\u00fasqueda sem\u00e1ntica usando el Servidor MCP y PostgreSQL. </p> <p>Todos los nombres y descripciones de productos de Zava se han convertido a vectores con el modelo de embedding de OpenAI (text-embedding-3-small) y se almacenan en la base de datos. Esto permite al agente entender la intenci\u00f3n del usuario y proporcionar respuestas m\u00e1s precisas.</p> \ud83d\ude80 Para Desarrolladores: \u00bfC\u00f3mo funciona la B\u00fasqueda Sem\u00e1ntica de PostgreSQL?"},{"location":"es/lab-3-mcp-semantic-search/#vectorizacion-de-las-descripciones-y-nombres-de-productos","title":"Vectorizaci\u00f3n de las Descripciones y Nombres de Productos","text":"<p>Para aprender m\u00e1s sobre c\u00f3mo se vectorizaron los nombres y descripciones de productos de Zava, consulta el README del Generador de Base de Datos PostgreSQL de Zava DIY.</p> PythonC#"},{"location":"es/lab-3-mcp-semantic-search/#el-llm-llama-la-herramienta-del-servidor-mcp","title":"El LLM llama la Herramienta del Servidor MCP","text":"<p>Bas\u00e1ndose en la consulta del usuario y las instrucciones proporcionadas, el LLM decide llamar la herramienta del servidor MCP <code>semantic_search_products</code> para encontrar productos relevantes.</p> <p>Ocurre la siguiente secuencia de eventos:</p> <ol> <li>La herramienta MCP <code>semantic_search_products</code> se invoca con la descripci\u00f3n de consulta del usuario.</li> <li>El servidor MCP genera un vector para la consulta usando el modelo de embedding de OpenAI (text-embedding-3-small). Ver el c\u00f3digo para vectorizar la consulta est\u00e1 en el m\u00e9todo <code>generate_query_embedding</code>.</li> <li>El servidor MCP luego realiza una b\u00fasqueda sem\u00e1ntica contra la base de datos PostgreSQL para encontrar productos con vectores similares.</li> </ol>"},{"location":"es/lab-3-mcp-semantic-search/#vista-general-de-la-busqueda-semantica-de-postgresql","title":"Vista General de la B\u00fasqueda Sem\u00e1ntica de PostgreSQL","text":"<p>La herramienta del Servidor MCP <code>semantic_search_products</code> luego ejecuta una consulta SQL que usa la consulta vectorizada para encontrar los vectores de productos m\u00e1s similares en la base de datos. La consulta SQL usa el operador <code>&lt;-&gt;</code> proporcionado por la extensi\u00f3n pgvector para calcular la distancia entre vectores.</p> <pre><code>async def search_products_by_similarity(\n    self, query_embedding: list[float], \n        rls_user_id: str, \n        max_rows: int = 20, \n        similarity_threshold: float = 30.0\n) -&gt; str:\n        ...\n        query = f\"\"\"\n            SELECT \n                p.*,\n                (pde.description_embedding &lt;=&gt; $1::vector) as similarity_distance\n            FROM {SCHEMA_NAME}.product_description_embeddings pde\n            JOIN {SCHEMA_NAME}.products p ON pde.product_id = p.product_id\n            WHERE (pde.description_embedding &lt;=&gt; $1::vector) &lt;= $3\n            ORDER BY similarity_distance\n            LIMIT $2\n        \"\"\"\n\n        rows = await conn.fetch(query, embedding_str, max_rows, distance_threshold)\n        ...\n</code></pre>"},{"location":"es/lab-3-mcp-semantic-search/#el-llm-llama-la-herramienta-del-servidor-mcp_1","title":"El LLM llama la Herramienta del Servidor MCP","text":"<p>Bas\u00e1ndose en la consulta del usuario y las instrucciones proporcionadas, el LLM decide llamar la herramienta del servidor MCP <code>semantic_search_products</code> para encontrar productos relevantes.</p> <p>Ocurre la siguiente secuencia de eventos:</p> <ol> <li>La herramienta MCP <code>semantic_search_products</code> se invoca con la descripci\u00f3n de consulta del usuario.</li> <li>El servidor MCP genera un vector para la consulta usando el modelo de embedding de OpenAI (text-embedding-3-small). Ver el m\u00e9todo <code>GenerateVectorAsync</code> en el archivo <code>EmbeddingGeneratorExtensions.cs</code>.</li> <li>El servidor MCP luego realiza una b\u00fasqueda sem\u00e1ntica contra la base de datos PostgreSQL para encontrar productos con vectores similares.</li> </ol>"},{"location":"es/lab-3-mcp-semantic-search/#vista-general-de-la-busqueda-semantica-de-postgresql_1","title":"Vista General de la B\u00fasqueda Sem\u00e1ntica de PostgreSQL","text":"<p>La herramienta del Servidor MCP <code>semantic_search_products</code> luego ejecuta una consulta SQL que usa la consulta vectorizada para encontrar los vectores de productos m\u00e1s similares en la base de datos. La consulta SQL usa el operador <code>&lt;-&gt;</code> proporcionado por la extensi\u00f3n pgvector para calcular la distancia entre vectores.</p> <pre><code>public async Task&lt;IEnumerable&lt;SemanticSearchResult&gt;&gt; SemanticSearchProductsAsync(\n...\n    await using var searchCmd = new NpgsqlCommand(\"\"\"\n    SELECT \n        p.*,\n        (pde.description_embedding &lt;=&gt; $1::vector) as similarity_distance\n    FROM retail.product_description_embeddings pde\n    JOIN retail.products p ON pde.product_id = p.product_id\n    WHERE (pde.description_embedding &lt;=&gt; $1::vector) &lt;= $3\n    ORDER BY similarity_distance\n    LIMIT $2\n    \"\"\", connection);\n    searchCmd.Parameters.AddWithValue(new Vector(embeddings));\n    searchCmd.Parameters.AddWithValue(maxRows);\n    searchCmd.Parameters.AddWithValue(distanceThreshold);\n\n    await using var reader = await searchCmd.ExecuteReaderAsync();\n    var results = new List&lt;SemanticSearchResult&gt;();\n</code></pre>"},{"location":"es/lab-3-mcp-semantic-search/#ejercicio-del-laboratorio","title":"Ejercicio del Laboratorio","text":"<p>Del laboratorio anterior puedes hacer preguntas al agente sobre datos de ventas, pero estaba limitado a coincidencias exactas. En este laboratorio, extiendes las capacidades del agente implementando b\u00fasqueda sem\u00e1ntica usando el Protocolo de Contexto de Modelo (MCP). Esto permitir\u00e1 al agente entender y responder a consultas que no son coincidencias exactas, mejorando su capacidad para asistir a los usuarios con preguntas m\u00e1s complejas.</p> <ol> <li>Pega la siguiente pregunta en la pesta\u00f1a Web Chat en tu navegador:</li> </ol> <pre><code>What 18 amp circuit breakers do we sell?\n</code></pre> <p>El agente no puede encontrar productos coincidentes porque est\u00e1 realizando coincidencia de texto. Responder\u00e1 que no se encontraron productos y puede sugerir probar diferentes t\u00e9rminos de b\u00fasqueda.</p>"},{"location":"es/lab-3-mcp-semantic-search/#detener-la-aplicacion-del-agente","title":"Detener la Aplicaci\u00f3n del Agente","text":"<p>Desde VS Code, det\u00e9n la aplicaci\u00f3n del agente presionando Shift + F5.</p> PythonC#"},{"location":"es/lab-3-mcp-semantic-search/#implementar-busqueda-semantica","title":"Implementar B\u00fasqueda Sem\u00e1ntica","text":"<p>En esta secci\u00f3n, implementar\u00e1s b\u00fasqueda sem\u00e1ntica usando el Protocolo de Contexto de Modelo (MCP) para mejorar las capacidades del agente.</p> <ol> <li>Selecciona el \u00edcono Explorer de la barra lateral de VS Code.</li> <li>Navega a la carpeta <code>mcp_server/sales_analysis</code>.</li> <li> <p>Abre el archivo <code>sales_analysis.py</code>.</p> <p>Este archivo contiene las herramientas MCP para el agente de an\u00e1lisis de ventas, incluyendo la herramienta de b\u00fasqueda sem\u00e1ntica.</p> <p></p> </li> <li> <p>Despl\u00e1zate hacia abajo hasta alrededor de la l\u00ednea 70 y busca el m\u00e9todo <code>semantic_search_products</code>. Este m\u00e9todo es responsable de realizar b\u00fasqueda sem\u00e1ntica en los datos de ventas. Notar\u00e1s que el decorador @mcp.tool() est\u00e1 comentado. Este decorador se usa para registrar el m\u00e9todo como una herramienta MCP, permitiendo que sea llamado por el agente.</p> </li> <li> <p>Elimina el s\u00edmbolo <code>#</code> y el car\u00e1cter de espacio siguiente antes del decorador <code># @mcp.tool()</code> para habilitar la herramienta mcp de b\u00fasqueda sem\u00e1ntica.</p> <pre><code># @mcp.tool()\nasync def semantic_search_products(\n    ctx: Context,\n    query_description: Annotated[str, Field(\n    ...\n</code></pre> <p>Despu\u00e9s de habilitar el decorador, el m\u00e9todo deber\u00eda verse as\u00ed:</p> <pre><code>@mcp.tool()\nasync def semantic_search_products(\n    ctx: Context,\n    query_description: Annotated[str, Field(\n    ...\n</code></pre> \ud83d\ude80 Para Desarrolladores: Establecer un punto de interrupci\u00f3n en el m\u00e9todo de b\u00fasqueda sem\u00e1ntica y depurar <p>Prerrequisitos: Estas instrucciones asumen que est\u00e1s familiarizado con establecer puntos de interrupci\u00f3n en VS Code. Si necesitas ayuda con esto, consulta la documentaci\u00f3n de VS Code sobre puntos de interrupci\u00f3n.</p> <p>Prop\u00f3sito: Establecer un punto de interrupci\u00f3n en el m\u00e9todo <code>semantic_search_products</code> te permite observar exactamente c\u00f3mo funciona el proceso de b\u00fasqueda sem\u00e1ntica, incluyendo el procesamiento de consultas e interacciones con la base de datos.</p> <p>Pasos:</p> <ol> <li> <p>Establecer el punto de interrupci\u00f3n: Haz clic en el margen (margen izquierdo) junto a la l\u00ednea 104, donde ves <code>rls_user_id = get_rls_user_id(ctx)</code>. Aparecer\u00e1 un punto rojo, confirmando que el punto de interrupci\u00f3n est\u00e1 establecido.</p> </li> <li> <p>Depurar y observar: Cuando ejecutes la aplicaci\u00f3n del agente en modo de depuraci\u00f3n, la ejecuci\u00f3n se pausar\u00e1 en este punto de interrupci\u00f3n. Entonces puedes:</p> </li> <li>Inspeccionar valores de variables</li> <li>Recorrer el c\u00f3digo l\u00ednea por l\u00ednea</li> <li>Observar c\u00f3mo se extrae el ID de usuario RLS del encabezado de solicitud MCP</li> <li>Ver c\u00f3mo la consulta se convierte en un vector</li> <li>Ver la b\u00fasqueda sem\u00e1ntica ejecutarse contra la base de datos PostgreSQL</li> </ol> </li> <li> <p>A continuaci\u00f3n, necesitas habilitar las instrucciones del Agente para usar la herramienta de b\u00fasqueda sem\u00e1ntica. Regresa al archivo <code>app.py</code>.</p> </li> <li>Despl\u00e1zate hacia abajo hasta alrededor de la l\u00ednea 30 y encuentra la l\u00ednea <code># INSTRUCTIONS_FILE = \"instructions/mcp_server_tools_with_semantic_search.txt\"</code>.</li> <li> <p>Descomenta la l\u00ednea eliminando el <code>#</code> al principio. Esto habilitar\u00e1 al agente para usar la herramienta de b\u00fasqueda sem\u00e1ntica.</p> <pre><code>INSTRUCTIONS_FILE = \"instructions/mcp_server_tools_with_semantic_search.txt\"\n</code></pre> </li> </ol>"},{"location":"es/lab-3-mcp-semantic-search/#implementar-busqueda-semantica_1","title":"Implementar B\u00fasqueda Sem\u00e1ntica","text":"<p>En esta secci\u00f3n, implementar\u00e1s b\u00fasqueda sem\u00e1ntica usando el Protocolo de Contexto de Modelo (MCP) para mejorar las capacidades del agente.</p> <ol> <li>Abre el archivo <code>McpHost.cs</code> del proyecto <code>McpAgentWorkshop.McpServer</code>.</li> <li> <p>Localiza donde las otras herramientas MCP est\u00e1n registradas con el servidor MCP, y registra la clase <code>SemanticSearchTools</code> como una herramienta MCP usando <code>WithTools</code>:</p> <pre><code>.WithTools&lt;SemanticSearchTools&gt;();\n</code></pre> <p>Nota</p> <p>Lee la implementaci\u00f3n de <code>SemanticSearchTools</code> para aprender c\u00f3mo el servidor MCP realizar\u00e1 la b\u00fasqueda.</p> </li> <li> <p>A continuaci\u00f3n, necesitas habilitar las instrucciones del Agente para usar la herramienta de b\u00fasqueda sem\u00e1ntica. Regresa a la clase <code>AgentService</code> y cambia la constante <code>InstructionsFile</code> a <code>mcp_server_tools_with_semantic_search.txt</code>.</p> </li> </ol>"},{"location":"es/lab-3-mcp-semantic-search/#revisar-las-instrucciones-del-agente","title":"Revisar las Instrucciones del Agente","text":"<ol> <li>Presiona F1 para abrir la Paleta de Comandos de VS Code.</li> <li>Escribe Open File y selecciona File: Open File....</li> <li>Pega la siguiente ruta en el selector de archivos y presiona Enter:</li> </ol> <pre><code>/workspace/src/shared/instructions/mcp_server_tools_with_semantic_search.txt\n</code></pre> <ol> <li>Revisa las instrucciones en el archivo. Estas instrucciones instruyen al agente a usar la herramienta de b\u00fasqueda sem\u00e1ntica para responder preguntas sobre datos de ventas.</li> </ol>"},{"location":"es/lab-3-mcp-semantic-search/#iniciar-la-aplicacion-del-agente-con-la-herramienta-de-busqueda-semantica","title":"Iniciar la Aplicaci\u00f3n del Agente con la Herramienta de B\u00fasqueda Sem\u00e1ntica","text":"<ol> <li>Inicia la aplicaci\u00f3n del agente presionando F5. Esto iniciar\u00e1 el agente con las instrucciones actualizadas y la herramienta de b\u00fasqueda sem\u00e1ntica habilitada.</li> <li>Abre el Web Chat en tu navegador.</li> <li> <p>Ingresa la siguiente pregunta en el chat:</p> <pre><code>What 18 amp circuit breakers do we sell?\n</code></pre> <p>El agente ahora entiende el significado sem\u00e1ntico de la pregunta y responde en consecuencia con datos de ventas relevantes.</p> <p>Nota</p> <p>La herramienta de B\u00fasqueda Sem\u00e1ntica MCP funciona de la siguiente manera:</p> <ol> <li>La pregunta se convierte en un vector usando el mismo modelo de embedding de OpenAI (text-embedding-3-small) que las descripciones de productos.</li> <li>Este vector se usa para buscar vectores de productos similares en la base de datos PostgreSQL.</li> <li>El agente recibe los resultados y los usa para generar una respuesta.</li> </ol> </li> </ol>"},{"location":"es/lab-3-mcp-semantic-search/#escribir-un-reporte-ejecutivo","title":"Escribir un Reporte Ejecutivo","text":"<p>La solicitud final para este taller es la siguiente:</p> <pre><code>Write an executive report on the sales performance of different stores for these circuit breakers.\n</code></pre>"},{"location":"es/lab-3-mcp-semantic-search/#mantener-la-aplicacion-del-agente-en-ejecucion","title":"Mantener la Aplicaci\u00f3n del Agente En Ejecuci\u00f3n","text":"<p>Deja la aplicaci\u00f3n del agente ejecut\u00e1ndose ya que la usar\u00e1s en el siguiente laboratorio para explorar el acceso seguro a datos del agente.</p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/lab-4-secure-agent-data/","title":"Asegurar Datos del Agente","text":""},{"location":"es/lab-4-secure-agent-data/#lo-que-aprenderas","title":"Lo que Aprender\u00e1s","text":"<p>En este laboratorio, asegurar\u00e1s los datos del agente usando el Protocolo de Contexto de Modelo (MCP) y la Seguridad a Nivel de Fila (RLS) de PostgreSQL. El agente tiene acceso de solo lectura a la base de datos y los datos est\u00e1n protegidos por roles de usuario (oficina central y gerente de tienda) para asegurar que solo usuarios autorizados puedan acceder a informaci\u00f3n espec\u00edfica.</p>"},{"location":"es/lab-4-secure-agent-data/#introduccion","title":"Introducci\u00f3n","text":"<p>La base de datos PostgreSQL usa Seguridad a Nivel de Fila (RLS) para controlar el acceso a datos por rol de usuario. El cliente de chat web por defecto usa el rol <code>Head office</code> (acceso completo a datos), pero cambiar al rol <code>Store Manager</code> restringe el acceso solo a datos espec\u00edficos del rol.</p> <p>El Servidor MCP proporciona al agente acceso a la base de datos Zava. Cuando el servicio del agente procesa solicitudes de usuario, el rol del usuario (UUID) se pasa al servidor MCP a trav\u00e9s de los Encabezados de Recursos de Herramientas MCP para asegurar que se aplique la seguridad basada en roles.</p> <p>En operaci\u00f3n normal, un gerente de tienda se autenticar\u00eda con el agente y su rol de usuario se establecer\u00eda en consecuencia. Pero esto es un taller, y vamos a seleccionar manualmente un rol.</p> \ud83d\ude80 Para Desarrolladores: \u00bfC\u00f3mo funciona la Seguridad a Nivel de Fila de PostgreSQL?"},{"location":"es/lab-4-secure-agent-data/#vista-general-de-seguridad-rls-de-postgresql","title":"Vista General de Seguridad RLS de PostgreSQL","text":"<p>La Seguridad a Nivel de Fila (RLS) filtra autom\u00e1ticamente las filas de la base de datos bas\u00e1ndose en permisos del usuario. Esto permite que m\u00faltiples usuarios compartan las mismas tablas de base de datos mientras solo ven datos que est\u00e1n autorizados a acceder. </p> <p>En este sistema, los usuarios de oficina central ven todos los datos de todas las tiendas, mientras que los gerentes de tienda est\u00e1n restringidos a ver solo la informaci\u00f3n de su propia tienda. El ejemplo de abajo muestra c\u00f3mo se implementan las pol\u00edticas RLS para la tabla <code>retail.orders</code>, con pol\u00edticas id\u00e9nticas aplicadas a las tablas <code>retail.order_items</code>, <code>retail.inventory</code>, y <code>retail.customers</code>.</p> <pre><code>CREATE POLICY store_manager_orders ON retail.orders\nFOR ALL TO PUBLIC\nUSING (\n    -- Head office sees all data\n    current_setting('app.current_rls_user_id', true) = '00000000-0000-0000-0000-000000000000'\n    OR\n    -- Store managers only see their store's data\n    EXISTS (SELECT 1 FROM retail.stores s WHERE s.store_id = retail.orders.store_id \n            AND s.rls_user_id::text = current_setting('app.current_rls_user_id', true))\n);\n</code></pre> <p>Resultado: Los gerentes de tienda solo ven los datos de su tienda, mientras que la oficina central ve todo - todo usando la misma base de datos y tablas.</p> PythonC# <p>Encontrar\u00e1s el c\u00f3digo responsable de establecer el rol del usuario en el archivo <code>workshop/chat_manager.py</code>.</p> <pre><code>if request.rls_user_id:\n    # Create dynamic tool resources with RLS user ID header\n    mcp_tool_resource = MCPToolResource(\n        server_label=\"ZavaSalesAnalysisMcpServer\",\n        headers={\"x-rls-user-id\": request.rls_user_id},\n        require_approval=\"never\",\n    )\n    tool_resources.mcp = [mcp_tool_resource]\n</code></pre> <p>El c\u00f3digo para recuperar el ID de Usuario RLS est\u00e1 en <code>mcp_server/sales_analysis/sales_analysis.py</code>. Si el servidor no detecta el encabezado RLS, por defecto usa el rol de Oficina Central. Este respaldo est\u00e1 destinado solo para uso del taller y no debe aplicarse en producci\u00f3n.</p> <pre><code>def get_rls_user_id(ctx: Context) -&gt; str:\n    \"\"\"Get the Row Level Security User ID from the request context.\"\"\"\n\n    rls_user_id = get_header(ctx, \"x-rls-user-id\")\n    if rls_user_id is None:\n        # Default to a placeholder if not provided\n        rls_user_id = \"00000000-0000-0000-0000-000000000000\"\n    return rls_user_id\n</code></pre> <p>Encontrar\u00e1s el c\u00f3digo responsable de establecer el rol del usuario en las solicitudes al Servidor MCP en la clase <code>AgentService</code>.</p> <pre><code>var mcpToolResource = new MCPToolResource(ZavaMcpToolLabel, new Dictionary&lt;string, string&gt;\n{\n    { \"x-rls-user-id\", request.RlsUserId }\n});\nvar toolResources = new ToolResources();\ntoolResources.Mcp.Add(mcpToolResource);\n</code></pre> <p>El <code>MCPToolResource</code> se agrega luego a la colecci\u00f3n <code>ToolResources</code>, que se proporciona a la ejecuci\u00f3n de streaming usando la propiedad <code>CreateRunStreamingOptions.ToolResources</code>. Esto es porque el ID de usuario RLS es un valor din\u00e1mico del cliente (diferentes usuarios \"conectados\" pueden tener diferentes IDs), necesitamos asegurar que se establezca en la ejecuci\u00f3n del hilo en lugar de cuando se crea el agente.</p> <p>Como el ID de usuario RLS se establece como un encabezado para que el agente lo reenv\u00ede al Servidor MCP, esto se accede desde el <code>HttpContext</code> en la solicitud, que se puede acceder desde un <code>IHttpContextAccessor</code>, que se inyecta en los m\u00e9todos de herramientas MCP. Se ha creado un m\u00e9todo de extensi\u00f3n, <code>HttpContextAccessorExtensions.GetRequestUserId</code>, que se puede usar dentro de una herramienta:</p> <pre><code>public async Task&lt;string&gt; ExecuteSalesQueryAsync(\n    NpgsqlConnection connection,\n    ILogger&lt;SalesTools&gt; logger,\n    IHttpContextAccessor httpContextAccessor,\n    [Description(\"A well-formed PostgreSQL query.\")] string query\n)\n{\n    ...\n\n    var rlsUserId = httpContextAccessor.GetRequestUserId();\n\n    ...\n}\n</code></pre>"},{"location":"es/lab-4-secure-agent-data/#estableciendo-el-id-de-usuario-rls-de-postgres","title":"Estableciendo el ID de Usuario RLS de Postgres","text":"<p>Ahora que el Servidor MCP tiene el ID de Usuario RLS, necesita establecerse en la conexi\u00f3n PostgreSQL.</p> PythonC# <p>La soluci\u00f3n Python establece el ID de Usuario RLS en cada conexi\u00f3n PostgreSQL llamando <code>set_config()</code> dentro del m\u00e9todo <code>execute_query</code> en <code>mcp_server/sales_analysis/sales_analysis_postgres.py</code>.</p> <pre><code>...\nconn = await self.get_connection()\nawait conn.execute(\"SELECT set_config('app.current_rls_user_id', $1, false)\", rls_user_id)\n\nrows = await conn.fetch(sql_query)\n...\n</code></pre> <p>La soluci\u00f3n C# establece el ID de Usuario RLS en la conexi\u00f3n PostgreSQL ejecutando un comando SQL para establecer la variable de contexto RLS inmediatamente despu\u00e9s de abrir la conexi\u00f3n en el m\u00e9todo <code>ExecuteSalesQueryAsync</code> en <code>SalesTools.cs</code>.</p> <pre><code>...\nawait using var cmd = new NpgsqlCommand(\"SELECT set_config('app.current_rls_user_id', @rlsUserId, false)\", connection);\ncmd.Parameters.AddWithValue(\"rlsUserId\", rlsUserId ?? string.Empty);\nawait cmd.ExecuteNonQueryAsync();\n\nawait using var queryCmd = new NpgsqlCommand(query, connection);\nawait using var reader = await queryCmd.ExecuteReaderAsync();\n...\n</code></pre>"},{"location":"es/lab-4-secure-agent-data/#ejercicio-del-laboratorio","title":"Ejercicio del Laboratorio","text":""},{"location":"es/lab-4-secure-agent-data/#rol-de-oficina-central","title":"Rol de Oficina Central","text":"<p>Por defecto, el cliente web opera con el rol <code>Head Office</code>, que tiene acceso completo a todos los datos.</p> <ol> <li>Ingresa la siguiente consulta en el chat:</li> </ol> <pre><code>Show sales by store\n</code></pre> <p>Ver\u00e1s que se devuelven los datos de todas las tiendas. Perfecto.</p>"},{"location":"es/lab-4-secure-agent-data/#seleccionar-un-rol-de-gerente-de-tienda","title":"Seleccionar un Rol de Gerente de Tienda","text":"<ol> <li>Regresa a la pesta\u00f1a Web Chat de Agentes en tu navegador.</li> <li>Selecciona el \u00edcono de <code>settings</code> en la esquina superior derecha de la p\u00e1gina.</li> <li>Selecciona una <code>Store location</code> del men\u00fa desplegable.</li> <li>Selecciona <code>Save</code> y ahora el agente operar\u00e1 con los permisos de acceso a datos de la ubicaci\u00f3n de tienda seleccionada.</li> </ol> <p>Ahora el agente solo tendr\u00e1 acceso a los datos para la ubicaci\u00f3n de tienda seleccionada.</p> <p>Nota</p> <p>Cambiar el usuario reiniciar\u00e1 la sesi\u00f3n de chat, ya que el contexto est\u00e1 vinculado al usuario.</p> <p>Prueba la siguiente consulta:</p> <pre><code>Show sales by store\n</code></pre> <p>Notar\u00e1s que el agente solo devuelve datos para la ubicaci\u00f3n de tienda seleccionada. Esto demuestra c\u00f3mo el acceso a datos del agente est\u00e1 restringido bas\u00e1ndose en el rol de gerente de tienda seleccionado.</p> <p></p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/lab-5-monitoring/","title":"Laboratorio 5 Monitoreo de Servicios","text":""},{"location":"es/lab-5-monitoring/#introduccion","title":"Introducci\u00f3n","text":"<p>El monitoreo mantiene tu Servicio de Agentes de Microsoft Foundry disponible, eficiente y confiable. Azure Monitor recopila m\u00e9tricas y registros, proporciona informaci\u00f3n en tiempo real y env\u00eda alertas. Usa paneles y alertas personalizadas para rastrear m\u00e9tricas clave, analizar tendencias y responder proactivamente. Accede al monitoreo a trav\u00e9s del portal de Azure, CLI, API REST o bibliotecas de cliente.</p>"},{"location":"es/lab-5-monitoring/#ejercicio-del-laboratorio","title":"Ejercicio del Laboratorio","text":"<ol> <li>Desde el explorador de archivos de VS Code, abre el archivo <code>resources.txt</code> en la carpeta <code>workshop</code>.</li> <li>Copia el valor de la clave <code>AI Project Name</code> al portapapeles.</li> <li>Navega a la p\u00e1gina del Portal de Microsoft Foundry.</li> <li>Selecciona tu proyecto de la lista de proyectos foundry.</li> </ol>"},{"location":"es/lab-5-monitoring/#abrir-el-panel-de-monitoreo","title":"Abrir el panel de Monitoreo","text":"<ol> <li>Del <code>resources.txt</code>, copia el valor de <code>Application Insights Name</code> al portapapeles.</li> <li>Regresa al portal de AI Foundry, selecciona la secci\u00f3n Monitoring en el men\u00fa de la izquierda.</li> <li>Pega el <code>Application Insights Name</code> copiado en la lista desplegable <code>Application Insights resource name</code>.</li> <li>Selecciona el recurso Application Insights de la lista desplegable.</li> <li>Selecciona Connect.</li> </ol>"},{"location":"es/lab-5-monitoring/#explorar-el-panel-de-monitoreo","title":"Explorar el panel de Monitoreo","text":"<p>Familiar\u00edzate con la informaci\u00f3n disponible en el panel <code>Application analytics</code>.</p> <p>Puedes seleccionar rangos de fechas para filtrar los datos mostrados en las herramientas de monitoreo.</p> <p></p>"},{"location":"es/lab-5-monitoring/#monitorear-el-uso-de-recursos","title":"Monitorear el Uso de Recursos","text":"<p>Puedes profundizar m\u00e1s, selecciona <code>Resource Usage</code> para ver m\u00e9tricas detalladas sobre el consumo de recursos de tu Proyecto de IA. Nuevamente, puedes filtrar los datos por rango de tiempo.</p> <p></p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/lab-6-tracing/","title":"Laboratorio 6 Entender el Rastreo","text":""},{"location":"es/lab-6-tracing/#introduccion","title":"Introducci\u00f3n","text":"<p>El trazado te ayuda a entender y depurar el comportamiento de tu agente mostrando la secuencia de pasos, entradas y salidas durante la ejecuci\u00f3n. En Microsoft Foundry, el trazado te permite observar c\u00f3mo tu agente procesa solicitudes, llama herramientas y genera respuestas. Puedes usar el portal de Microsoft Foundry o integrar con OpenTelemetry y Application Insights para recopilar y analizar datos de trazas, facilitando la soluci\u00f3n de problemas y optimizaci\u00f3n de tu agente.</p>"},{"location":"es/lab-6-tracing/#ver-trazas","title":"Ver Trazas","text":"<p>Puedes ver las trazas de la ejecuci\u00f3n de tu agente en el portal de Microsoft Foundry o usando OpenTelemetry. Las trazas mostrar\u00e1n la secuencia de pasos, llamadas de herramientas e intercambio de datos durante la ejecuci\u00f3n del agente. Esta informaci\u00f3n es crucial para depurar y optimizar el rendimiento de tu agente.</p>"},{"location":"es/lab-6-tracing/#usando-el-portal-de-microsoft-foundry","title":"Usando el Portal de Microsoft Foundry","text":"<p>Para ver trazas en el portal de Microsoft Foundry, sigue estos pasos:</p> <ol> <li>Navega al portal de Microsoft Foundry.</li> <li>Selecciona tu proyecto.</li> <li>Selecciona la pesta\u00f1a Tracing en el men\u00fa de la izquierda.</li> <li>Aqu\u00ed, puedes ver las trazas generadas por tu agente.</li> </ol> <p></p>"},{"location":"es/lab-6-tracing/#profundizando-en-las-trazas","title":"Profundizando en las Trazas","text":"<ol> <li>Puede que necesites hacer clic en el bot\u00f3n Refresh para ver las trazas m\u00e1s recientes ya que las trazas pueden tardar unos momentos en aparecer.</li> <li>Selecciona la traza llamada <code>Zava Agent Initialization</code> para ver los detalles.    </li> <li>Selecciona la traza <code>create_agent Zava DIY Sales Agent</code> para ver los detalles del proceso de creaci\u00f3n del agente. En la secci\u00f3n <code>Input &amp; outputs</code>, ver\u00e1s las instrucciones del Agente.</li> <li>Luego, selecciona la traza <code>Zava Agent Chat Request: Write an executive...</code> para ver los detalles de la solicitud de chat. En la secci\u00f3n <code>Input &amp; outputs</code>, ver\u00e1s la entrada del usuario y la respuesta del agente.</li> </ol> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/lab-7-finishing-up/","title":"Finalizando","text":"Estudiantes Auto-Guiados <p>Eso es todo para la parte de laboratorio de este taller. Contin\u00faa leyendo para conocer los puntos clave y recursos adicionales, pero primero vamos a limpiar.</p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/lab-7-finishing-up/#limpiar-github-codespaces","title":"Limpiar GitHub CodeSpaces","text":""},{"location":"es/lab-7-finishing-up/#guardar-tus-cambios-en-github","title":"Guardar tus cambios en GitHub","text":"<p>Puedes guardar cualquier cambio que hayas hecho a los archivos durante el taller en tu repositorio personal de GitHub como un fork. Esto facilita volver a ejecutar el taller con tus personalizaciones, y el contenido del taller siempre permanecer\u00e1 disponible en tu cuenta de GitHub.</p> <ul> <li>En VS Code, haz clic en la herramienta \"Control de C\u00f3digo Fuente\" en el panel izquierdo. Es la tercera hacia abajo, o puedes usar el atajo de teclado Control-Shift-G.</li> <li>En el campo bajo \"Control de C\u00f3digo Fuente\" ingresa <code>Laboratorio de Agentes</code> y haz clic en \u2714\ufe0fConfirmar.</li> <li>Haz clic en S\u00ed al aviso \"No hay cambios en etapa para confirmar.\"</li> <li>Haz clic en Sincronizar Cambios.</li> <li>Haz clic en OK al aviso \"Esta acci\u00f3n extraer\u00e1 y enviar\u00e1 confirmaciones desde y hacia origin/main\".</li> </ul> <p>Ahora tienes tu propia copia del taller con tus personalizaciones en tu cuenta de GitHub.</p>"},{"location":"es/lab-7-finishing-up/#eliminar-tu-codespace-de-github","title":"Eliminar tu codespace de GitHub","text":"<p>Tu GitHub CodeSpace se cerrar\u00e1 por s\u00ed mismo, pero consumir\u00e1 una peque\u00f1a cantidad de tu asignaci\u00f3n de c\u00f3mputo y almacenamiento hasta que sea eliminado. (Puedes ver tu uso en tu resumen de facturaci\u00f3n de GitHub.) Puedes eliminar el codespace de forma segura ahora, como sigue:</p> <ul> <li>Visita github.com/codespaces</li> <li>En la parte inferior de la p\u00e1gina, haz clic en el men\u00fa \"...\" a la derecha de tu codespace activo</li> <li>Haz clic en Eliminar</li> <li>En el aviso \"\u00bfEst\u00e1s seguro?\", haz clic en Eliminar.</li> </ul>"},{"location":"es/lab-7-finishing-up/#eliminar-tus-recursos-de-azure","title":"Eliminar tus recursos de Azure","text":"<p>La mayor\u00eda de los recursos que creaste en este laboratorio son recursos de pago por uso, lo que significa que no se te cobrar\u00e1 m\u00e1s por usarlos. Sin embargo, algunos servicios de almacenamiento utilizados por AI Foundry pueden incurrir en peque\u00f1os cargos continuos. Para eliminar todos los recursos, sigue estos pasos:</p> <ul> <li>Visita el Portal de Azure</li> <li>Haz clic en Grupos de recursos</li> <li>Haz clic en tu grupo de recursos <code>rg-agent-workshop-****</code></li> <li>Haz clic en Eliminar grupo de recursos</li> <li>En el campo en la parte inferior \"Ingresa el nombre del grupo de recursos para confirmar la eliminaci\u00f3n\" ingresa <code>rg-agent-workshop-****</code></li> <li>Haz clic en Eliminar</li> <li>En el aviso de Confirmaci\u00f3n de Eliminaci\u00f3n, haz clic en \"Eliminar\"</li> </ul> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/lab-7-local-tracing-with-aspire/","title":"Rastreo Local con Aspire","text":""},{"location":"es/lab-7-local-tracing-with-aspire/#introduccion","title":"Introducci\u00f3n","text":"<p>El trazado con el Panel de Aspire solo es compatible con la versi\u00f3n C# del taller.</p> <p>Hasta ahora para nuestro trazado, nos hemos enfocado en c\u00f3mo visualizar esto a trav\u00e9s de los paneles de Microsoft Foundry, lo que puede ser una interrupci\u00f3n en el flujo de trabajo al desarrollar localmente. Adem\u00e1s de eso, podemos aprovechar el Panel de Aspire para visualizar las trazas generadas por nuestra aplicaci\u00f3n en tiempo real, y c\u00f3mo una acci\u00f3n se extiende a trav\u00e9s de m\u00faltiples recursos dentro de nuestro sistema.</p>"},{"location":"es/lab-7-local-tracing-with-aspire/#ejecutar-la-aplicacion-del-agente","title":"Ejecutar la Aplicaci\u00f3n del Agente","text":"<p>Lanza la aplicaci\u00f3n presionando F5 y espera a que aparezca el Panel de Aspire en tu navegador. Esto mostrar\u00e1 una lista completa de los recursos en el taller.</p> <p></p> <p>Como en los pasos de laboratorio anteriores, abre el Workshop Frontend e ingresa una solicitud en el chat, como:</p> <pre><code>Write an executive report that analysis the top 5 product categories and compares performance of the online store verses the average for the physical stores.\n</code></pre>"},{"location":"es/lab-7-local-tracing-with-aspire/#visualizar-trazas","title":"Visualizar Trazas","text":"<p>Para ver las trazas generadas por tu aplicaci\u00f3n, navega a la pesta\u00f1a Traces en el Panel de Aspire. Aqu\u00ed, puedes ver una lista de todas las trazas que han sido capturadas, comenzando con su originador.</p> <p></p> <p>La \u00faltima entrada en la captura de pantalla de arriba muestra el evento del dotnet-front-end realizando un <code>GET</code> a <code>/chat/stream</code>. La columna Span luego muestra los recursos que esta traza abarca, <code>dotnet-front-end</code>, <code>dotnet-agent-app</code>, <code>ai-foundry</code>, <code>dotnet-mcp-server</code>, y <code>pg</code>.</p> <p>Cada recurso tiene un n\u00famero asociado con \u00e9l, que es el n\u00famero de spans que ocurrieron para ese recurso. Tambi\u00e9n podemos notar un indicador de error en los recursos <code>dotnet-mcp-server</code> y <code>pg</code>, lo que indicar\u00eda que ocurri\u00f3 un error en esos recursos.</p> <p>Hacer clic en la traza te mostrar\u00e1 una vista detallada de la l\u00ednea de tiempo de la traza:</p> <p></p> <p>Desde aqu\u00ed, podemos ver los spans individuales, el orden en que ocurrieron, su duraci\u00f3n y c\u00f3mo los eventos sucedieron a trav\u00e9s de recursos dentro de nuestra aplicaci\u00f3n.</p> <p>Hacer clic en un span individual te mostrar\u00e1 m\u00e1s detalles sobre ese span espec\u00edfico:</p> <p></p> <p>Intenta experimentar con diferentes solicitudes y simular errores, para observar c\u00f3mo cambian las trazas en el Panel de Aspire.</p>"},{"location":"es/lab-7-local-tracing-with-aspire/#lectura-adicional","title":"Lectura Adicional","text":"<ul> <li>Documentaci\u00f3n de Aspire</li> <li>Documentaci\u00f3n de Telemetr\u00eda de Aspire</li> </ul> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/navigating-the-workshop/","title":"Navegaci\u00f3n del Taller","text":"<p>T\u00f3mate un momento para familiarizarte con el dise\u00f1o del documento del taller:</p>"},{"location":"es/navigating-the-workshop/#elementos-de-navegacion-de-pagina","title":"Elementos de Navegaci\u00f3n de P\u00e1gina","text":"<ul> <li>El men\u00fa de navegaci\u00f3n principal en el lado izquierdo contiene enlaces a todas las secciones de la documentaci\u00f3n.</li> <li>La barra superior proporciona opciones de b\u00fasqueda, cambio de tema e idioma.</li> <li>La parte superior derecha incluye un enlace al repositorio de GitHub del taller.</li> <li>La parte inferior muestra enlaces a la p\u00e1gina Siguiente/Anterior.</li> </ul>"},{"location":"es/navigating-the-workshop/#expandir-una-imagen","title":"Expandir una Imagen","text":"<p>Haz clic en cualquier imagen para abrir una vista m\u00e1s grande en una nueva pesta\u00f1a.</p> <p></p>"},{"location":"es/navigating-the-workshop/#copiar-fragmentos-de-codigo","title":"Copiar Fragmentos de C\u00f3digo","text":"<p>A lo largo del taller, a menudo copiar\u00e1s fragmentos de texto de la documentaci\u00f3n.</p> <p>Los fragmentos aparecen en cajas grises. Pasa el cursor para revelar el \u00edcono de copiar, luego haz clic para copiar.</p> <pre><code># Ejemplo de fragmento de texto\n</code></pre>"},{"location":"es/navigating-the-workshop/#analisis-profundo-para-desarrolladores","title":"An\u00e1lisis Profundo para Desarrolladores","text":"<p>Algunas secciones incluyen informaci\u00f3n adicional para desarrolladores. Expande estas haciendo clic en el \u00edcono azul de informaci\u00f3n. Los ejemplos tambi\u00e9n asumen familiaridad con Python, VS Code y el depurador.</p> \ud83d\ude80 Para Desarrolladores <p>Estas secciones proporcionan contexto extra o detalles t\u00e9cnicos \u00fatiles para desarrolladores.</p>"},{"location":"es/navigating-the-workshop/#abrir-las-instrucciones-del-laboratorio-en-el-navegador-de-tu-computadora","title":"Abrir las Instrucciones del Laboratorio en el Navegador de tu Computadora","text":"<p>Si las instrucciones del laboratorio son lentas para desplazarse en el entorno del laboratorio, intenta copiar la URL de las instrucciones y abrirla en el navegador local de tu computadora para una experiencia m\u00e1s fluida.</p>"},{"location":"es/navigating-the-workshop/#contenido-adicional","title":"Contenido Adicional","text":"<p>Hay dos laboratorios adicionales al final del taller para aquellos que quieran explorar m\u00e1s:</p> <ul> <li>Asegurar Datos del Agente: Aprende c\u00f3mo mejorar la seguridad de datos para tu agente.</li> <li>Trazado Local con Aspire: Explora t\u00e9cnicas de trazado local usando Aspire.</li> </ul> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/observability-overview/","title":"Visi\u00f3n General de Observabilidad","text":"<p>La observabilidad asegura que los sistemas de IA sean confiables, seguros y de alta calidad al permitir monitoreo y evaluaci\u00f3n continuos. Para l\u00edderes t\u00e9cnicos y desarrolladores, es clave para construir confianza y mantener el rendimiento en aplicaciones de IA generativa.</p> <p>Con Microsoft Foundry, observabilidad significa:</p> <ul> <li>Usar evaluadores para medir calidad, seguridad y confiabilidad en cada etapa\u2014desde la selecci\u00f3n del modelo hasta la producci\u00f3n.</li> <li>Evaluar modelos y aplicaciones antes del despliegue, y monitorearlos en tiempo real despu\u00e9s del lanzamiento.</li> <li>Rastrear m\u00e9tricas como relevancia, fundamentaci\u00f3n y seguridad para identificar y abordar riesgos r\u00e1pidamente.</li> <li>Aprovechar paneles integrados y Azure Monitor para informaci\u00f3n accionable.</li> </ul> <p>Adoptar mejores pr\u00e1cticas de observabilidad ayuda a las organizaciones a entregar IA confiable, reducir riesgo y cumplir objetivos empresariales.</p> <p>Para m\u00e1s detalles sobre observabilidad, consulta la Vista General de Observabilidad de Microsoft Foundry.</p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/resources/","title":"Recursos","text":""},{"location":"es/resources/#repositorio-del-taller-y-documentacion","title":"Repositorio del Taller y Documentaci\u00f3n","text":"<p>El repositorio del taller en GitHub contiene todo lo necesario para el taller. El repo incluye el c\u00f3digo fuente (carpeta src) para la aplicaci\u00f3n de ejemplo, la documentaci\u00f3n (docs) construida con MkDocs, y los recursos de despliegue de Azure (infra) para el taller.</p> <ul> <li>Repositorio: Desbloquea el Potencial de tus Agentes con MCP y PostgreSQL</li> </ul>"},{"location":"es/resources/#recursos-de-microsoft-learn","title":"Recursos de Microsoft Learn","text":"<ul> <li>Documentaci\u00f3n: Microsoft Foundry</li> <li>M\u00f3dulo: Fundamentos de agentes de IA en Azure</li> <li>Documentaci\u00f3n: Trazado usando Application Insights, </li> <li>Documentaci\u00f3n: Evaluando tus agentes de IA con Azure AI Evaluation SDK</li> <li>Documentaci\u00f3n: Protocolo de Contexto de Modelo (MCP)</li> <li>Documentaci\u00f3n: \ud83d\ude80 Curr\u00edculo de Protocolo de Contexto de Modelo (MCP) para Principiantes</li> <li>Documentaci\u00f3n: PostgreSQL en Azure</li> <li>Documentaci\u00f3n: Extensi\u00f3n pgvector para PostgreSQL</li> <li>Documentaci\u00f3n: Seguridad a Nivel de Fila (RLS) en PostgreSQL</li> </ul>"},{"location":"es/resources/#gracias","title":"Gracias","text":"<p>\u00a1Gracias por participar en este taller! Si tienes alguna sugerencia de mejoras o encontraste alg\u00fan problema mientras ejecutabas este taller, por favor h\u00e1znoslo saber a trav\u00e9s de GitHub Issues.</p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/star-and-connect/","title":"Marcar con Estrella y Conectar","text":""},{"location":"es/star-and-connect/#marcar-con-estrella-el-repositorio-del-taller","title":"Marcar con Estrella el Repositorio del Taller","text":"<p>Marca con estrella el repositorio de GitHub para que puedas encontrarlo f\u00e1cilmente m\u00e1s tarde.</p> <ol> <li>Visita el repositorio: Desbloquea el Potencial de tu Agente con Protocolo de Contexto de Modelo</li> <li>Inicia sesi\u00f3n en tu cuenta de GitHub.</li> <li>Haz clic en el bot\u00f3n Star en la esquina superior derecha.</li> </ol> <p>Para revisar el taller m\u00e1s tarde, haz clic en tu foto de perfil en GitHub y selecciona Your stars.</p>"},{"location":"es/star-and-connect/#unete-a-la-comunidad-de-desarrolladores-de-microsoft-foundry","title":"\u00danete a la Comunidad de Desarrolladores de Microsoft Foundry","text":"<p>\u00danete a la Comunidad de Desarrolladores de Microsoft Foundry, un foro vibrante para preguntas y respuestas, DevBlogs con las \u00faltimas actualizaciones y chats de Discord en tiempo real, eventos y aprendizaje.</p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/summary/","title":"Resumen","text":"<p>Este taller demostr\u00f3 c\u00f3mo aprovechar el Servicio de Agentes de Foundry para crear un agente conversacional robusto capaz de responder preguntas relacionadas con ventas, realizar an\u00e1lisis de datos, generar visualizaciones e integrar fuentes de datos externas para obtener informaci\u00f3n mejorada. Aqu\u00ed est\u00e1n las conclusiones clave:</p>"},{"location":"es/summary/#1-protocolo-de-contexto-de-modelo-mcp-y-consultas-sql-dinamicas","title":"1. Protocolo de Contexto de Modelo (MCP) y Consultas SQL Din\u00e1micas","text":"<ul> <li>El agente usa el Servicio de Agentes de Foundry para generar y ejecutar din\u00e1micamente consultas SQL contra una base de datos PostgreSQL, permiti\u00e9ndole responder a preguntas de usuario con recuperaci\u00f3n precisa de datos. El Servidor MCP proporciona una forma estructurada de gestionar el contexto de conversaci\u00f3n y asegurar que el agente pueda manejar consultas complejas efectivamente.</li> </ul>"},{"location":"es/summary/#2-gestion-de-contexto","title":"2. Gesti\u00f3n de Contexto","text":"<ul> <li>El agente gestiona eficientemente el contexto de conversaci\u00f3n usando el Servicio de Agentes de Foundry, asegurando que las interacciones permanezcan relevantes y coherentes.</li> </ul>"},{"location":"es/summary/#3-visualizacion-de-datos","title":"3. Visualizaci\u00f3n de Datos","text":"<ul> <li>Con el Int\u00e9rprete de C\u00f3digo, el agente puede generar visualizaciones como gr\u00e1ficos de pastel y tablas basadas en consultas de usuario, haciendo los datos m\u00e1s accesibles y accionables. Puedes adjuntar fuentes adicionales al Int\u00e9rprete de C\u00f3digo para crear visualizaciones que soporten m\u00faltiples idiomas.</li> </ul>"},{"location":"es/summary/#4-generacion-de-archivos","title":"4. Generaci\u00f3n de Archivos","text":"<ul> <li>El agente puede crear archivos descargables, incluyendo formatos Excel, CSV, JSON e imagen, proporcionando a los usuarios opciones flexibles para analizar y compartir datos.</li> </ul>"},{"location":"es/summary/#5-monitoreo-y-registro","title":"5. Monitoreo y Registro","text":"<ul> <li>El Servicio de Agentes de Foundry incluye capacidades integradas de monitoreo y registro, permiti\u00e9ndote rastrear el rendimiento del agente, interacciones de usuario y salud del sistema. Esto es crucial para mantener la confiabilidad y efectividad del agente en entornos de producci\u00f3n.</li> </ul>"},{"location":"es/summary/#6-mejores-practicas-de-seguridad","title":"6. Mejores Pr\u00e1cticas de Seguridad","text":"<ul> <li>Los riesgos de seguridad, como la inyecci\u00f3n SQL, se mitigan aplicando acceso de solo lectura a la base de datos y ejecutando la aplicaci\u00f3n dentro de un entorno seguro.</li> </ul>"},{"location":"es/summary/#7-soporte-multi-idioma","title":"7. Soporte Multi-idioma","text":"<ul> <li>El agente y LLM soportan m\u00faltiples idiomas, ofreciendo una experiencia inclusiva para usuarios de diversos trasfondos ling\u00fc\u00edsticos.</li> </ul>"},{"location":"es/summary/#8-adaptabilidad-y-personalizacion","title":"8. Adaptabilidad y Personalizaci\u00f3n","text":"<ul> <li>El taller enfatiza la flexibilidad del Servicio de Agentes de Foundry, permiti\u00e9ndote adaptar el agente para varios casos de uso, como soporte al cliente o an\u00e1lisis competitivo, modificando instrucciones e integrando herramientas adicionales.</li> </ul> <p>Este taller te equipa con el conocimiento y herramientas para construir y extender agentes conversacionales adaptados a las necesidades de tu negocio, aprovechando las capacidades completas del Servicio de Agentes de Foundry.</p> <p>Traducido usando GitHub Copilot.</p>"},{"location":"es/includes/en/introduction-event-python/#authenticate-with-the-devtunnel-service","title":"Authenticate with the DevTunnel Service","text":"<p>DevTunnel enables the Azure AI Agents Service to access your local MCP Server during the workshop.</p> <pre><code>devtunnel login\n</code></pre> <p>Nota</p> <p>You will be prompted to use the account you used for <code>az login</code>. Select the account and continue.</p> <p>Leave the terminal window open for the next steps.</p>"},{"location":"es/includes/en/introduction-event/#authenticate-with-the-devtunnel-service","title":"Authenticate with the DevTunnel Service","text":"<p>DevTunnel enables the Azure AI Agents Service to access your local MCP Server during the workshop.</p> <pre><code>devtunnel login\n</code></pre> <p>Nota</p> <p>You will be prompted to use the account you used for <code>az login</code>. Select the account and continue.</p> <p>Leave the terminal window open for the next steps.</p>"},{"location":"es/includes/en/introduction-self-guided/#authenticate-azure-services","title":"Authenticate Azure Services","text":"<p>Peligro</p> <p>Before proceeding, ensure that your Codespace or Dev Container is fully built and ready.</p>"},{"location":"es/includes/es/introduction-event-python/#autenticarse-con-el-servicio-devtunnel","title":"Autenticarse con el Servicio DevTunnel","text":"<p>DevTunnel permite al Servicio de Agentes de Azure AI acceder a tu Servidor MCP local durante el taller.</p> <pre><code>devtunnel login\n</code></pre> <p>Nota</p> <p>Se te pedir\u00e1 usar la cuenta que usaste para <code>az login</code>. Selecciona la cuenta y contin\u00faa.</p> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p>"},{"location":"es/includes/es/introduction-event/#autenticarse-con-el-servicio-devtunnel","title":"Autenticarse con el Servicio DevTunnel","text":"<p>DevTunnel permite al Servicio de Agentes de Azure AI acceder a tu Servidor MCP local durante el taller.</p> <pre><code>devtunnel login\n</code></pre> <p>Nota</p> <p>Se te pedir\u00e1 usar la cuenta que usaste para <code>az login</code>. Selecciona la cuenta y contin\u00faa.</p> <p>Deja la ventana de terminal abierta para los siguientes pasos.</p>"},{"location":"es/includes/es/introduction-self-guided/#autenticar-servicios-de-azure","title":"Autenticar Servicios de Azure","text":"<p>Peligro</p> <p>Antes de proceder, aseg\u00farate de que tu Codespace o Dev Container est\u00e9 completamente construido y listo.</p>"}]}